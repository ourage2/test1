(function(h){function r(b){var a=b.localName;null==a&&(a=b.baseName);if(null==a||""==a)a=b.nodeName;return a}function t(b){return"string"==typeof b?b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):b}function l(b){if(b.nodeType==m.DOCUMENT_NODE){var a={},c=b.firstChild,d=r(c);a[d]=l(c);return a}if(b.nodeType==m.ELEMENT_NODE){for(var a={__cnt:0},e=b.childNodes,g=0;g<e.length;g++)if(c=e.item(g),d=r(c),a.__cnt++,null==
a[d])a[d]=l(c),a[d+"_asArray"]=Array(1),a[d+"_asArray"][0]=a[d];else{if(null!=a[d]&&!(a[d]instanceof Array)){var f=a[d];a[d]=[];a[d][0]=f;a[d+"_asArray"]=a[d]}for(f=0;null!=a[d][f];)f++;a[d][f]=l(c)}for(c=0;c<b.attributes.length;c++)d=b.attributes.item(c),a.__cnt++,a["_"+d.name]=d.value;b=b.prefix;null!=b&&""!=b&&(a.__cnt++,a.__prefix=b);1==a.__cnt&&null!=a["#text"]&&(a=a["#text"]);null!=a["#text"]&&(a.__text=a["#text"],n&&(a.__text=a.__text.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,
">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")),delete a["#text"],delete a["#text_asArray"]);null!=a["#cdata-section"]&&(a.__cdata=a["#cdata-section"],delete a["#cdata-section"],delete a["#cdata-section_asArray"]);if(null!=a.__text||null!=a.__cdata)a.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")};return a}if(b.nodeType==m.TEXT_NODE||b.nodeType==m.CDATA_SECTION_NODE)return b.nodeValue}function k(b,a,c,d){a="<"+(null!=b&&
null!=b.__prefix?b.__prefix+":":"")+a;if(null!=c)for(var e,g,f=0;f<c.length;f++)e=c[f],g=b[e],a+=" "+e.substr(1)+"='"+g+"'";return d?a+"/>":a+">"}function p(b,a){return"</"+(null!=b.__prefix?b.__prefix+":":"")+a+">"}function u(b,a){var c=a.toString();return-1!==c.indexOf("_asArray",c.length-8)||0==a.toString().indexOf("_")||b[a]instanceof Function}function v(b){var a=0;if(b instanceof Object)for(var c in b)u(b,c)||a++;return a}function w(b){var a=[];if(b instanceof Object)for(var c in b)-1==c.toString().indexOf("__")&&
0==c.toString().indexOf("_")&&a.push(c);return a}function x(b){var a="";if(b instanceof Object){var c="";null!=b.__cdata&&(c+="<![CDATA["+b.__cdata+"]]\x3e");null!=b.__text&&(c=n?c+t(b.__text):c+b.__text);a+=c}else null!=b&&(a=n?a+t(b):a+b);return a}function q(b){var a="";if(0<v(b))for(var c in b)if(!u(b,c)){var d=b[c],e=w(d);if(null==d||void 0==d)a+=k(d,c,e,!0);else if(d instanceof Object)if(d instanceof Array){var g=c,f="";if(0==d.length)f+=k(d,g,e,!0);else for(e=0;e<d.length;e++)f+=k(d[e],g,w(d[e]),
!1),f+=q(d[e]),f+=p(d[e],g);a+=f}else 0<v(d)||null!=d.__text||null!=d.__cdata?(a+=k(d,c,e,!1),a+=q(d),a+=p(d,c)):a+=k(d,c,e,!0);else a+=k(d,c,e,!1),a+=x(d),a+=p(d,c)}return a+=x(b)}var n=!1,m={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,DOCUMENT_NODE:9};h._addFunction(!1,{json2xml:function(b,a){var c=h.json2xmlStr(b,a);return h.parseXML(c)},json2xmlStr:function(b,a){""==a&&(a=void 0);var c={};c[a]=b;c=q(c);if(h.isNull(a)){var d=/^\<undefined\>(.*?)\<\/undefined\>$/;d.test(c)&&(c=c.match(d)[1])}return c},
xml2json:function(b){return l(b)},xmlStr2json:function(b){b=h.parseXML(b);return h.xml2json(b)},escapeMode:function(b){n=b}})})(naw);