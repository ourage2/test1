(function(n){function A(a){return document.getElementById(a)}function B(a,c){for(var b=-1,g=0;g<a.DumpDataLen;g++)if(c==a.DumpData[g].dt[a.treeStruct.key]){b=g;break}return b}function C(a,c,b){var g="";if(n.isNull(c)||isNaN(c)||n.isNull(b)||c>=a.DumpDataLen)return"";if(isNaN(b))g=b;else if(a.bBodyMerge){c=a.DumpAttr[c];for(var e=0,h=a.colBodyLen,f=-1;e<h;e++)if(!c[a.colBody[e].colName].del&&(f++,b==f)){g=a.colBody[e].colName;break}}else g=a.colBody[b]?a.colBody[b].colName:"";return g}function I(a,
c,b,g,e){for(var h="",f="",k="",h=a.getCell(b,g),d=0;d<c.childNodes.length;d++)c.removeChild(c.childNodes[d]);c.innerHTML="";if(e.type&&"input"!=e.type)if("select"==e.type){var f=e.editable?f+'<p class="grid-td-select" contenteditable="true">':f+'<p class="grid-td-select" contenteditable="false">',l="";if(e.options){var m=e.options;if(jQuery.isArray(m))for(var d=0,p=m.length;d<p;d++)if(v){if(v==m[d].value){l=m[d].label;break}}else{if(m[d].selected){h=m[d].value;l=m[d].label;break}}else v?v==m.value&&
(l=m.label):m.selected&&(h=m.value,l=m.label)}f+=l;a.DumpData[parseInt(c.parentNode.getAttribute("y"))].dt[g]=h;f+="</p>"}else if("checkbox"==e.type){e.align&&(c.style.textAlign=e.align);l=function(a,c){var d="{checkValue:'"+a.checkValue+"',",d=a.unCheckValue?d+("unCheckValue:'"+a.unCheckValue+"'}"):d+"unCheckValue:''}",l="";e.editable||(l='disabled="disabled"');f+="<input data-nx="+d+' id="'+b.toString()+g.toString()+"checkbox"+c.toString()+'" type="checkbox" '+l+"";0<h.length?h==a.checkValue&&(f+=
" checked=true ",k=h):a.checked&&(f+=" checked=true ",k=a.checkValue);f+=" />";a.label&&(f=e.editable?f+('<label for="'+b.toString()+g.toString()+"checkbox"+c.toString()+'" >'):f+('<label disabled="disabled" for="'+b.toString()+g.toString()+"checkbox"+c.toString()+'" >'),f+=a.label+"</label>")};if(jQuery.isArray(e.options))for(d=0,p=e.options.length;d<p;d++)l(e.options[d],d);else l(e.options,"");f+=""}else if("radio"==e.type){e.align&&(c.style.textAlign=e.align);l=function(a,c){f+='<input id="'+b.toString()+
g.toString()+"radio"+c.toString()+'" name="'+b.toString()+g.toString()+'radio" type="radio"';e.editable||(f+=' disabled="disabled"');0<h.length?h==a.value&&(f+=" checked=true ",k=h):a.checked&&(f+=" checked=true ",k=a.value);f+='value="'+a.value+'" />';a.label&&(f=e.editable?f+('<label for="'+b.toString()+g.toString()+"radio"+c.toString()+'" >'):f+('<label disabled="disabled" for="'+b.toString()+g.toString()+"radio"+c.toString()+'" >'),f+=a.label+"</label>")};if(jQuery.isArray(e.options))for(d=0,
p=e.options.length;d<p;d++)l(e.options[d],d);else l(e.options,"");f+=""}else if("button"==e.type)if(e.align&&(c.style.textAlign=e.align),l="",e.editable||(l="state-disabled"),e.options)if(jQuery.isArray(e.options))for(d=0,p=e.options.length;d<p;d++)f+='<button class="',e.options[d]["class"]&&(f+=e.options[d]["class"]+" "),f+=l,f+='"',f="image"==e.options[d].type?f+' type="image" ':f+' type="button" ',f=e.editable?f+" >":f+'disabled="disabled" >',e.options[d].label&&(f+=e.options[d].label),f+="</button>";
else f+='<button class="',e.options["class"]&&(f+=e.options["class"]+" "),f+=l,f+='"',f="image"==e.options.type?f+' type="image" ':f+' type="button" ',f=e.editable?f+" >":f+'disabled="disabled" >',e.options.label&&(f+=e.options.label),f+="</button>";else f+='<button class="',f+=l+'" ',e.editable||(f+='disabled="disabled"'),f+=' type="button">',f+="</button>",k="";else if("image"==e.type)e.align&&(c.style.textAlign=e.align),c.style.verticalAlign="middle",e.options&&e.options.src?(f+='<img src="'+e.options.src+
'" />',k=e.options.src):f+='<img src="" />';else if("textarea"==e.type){f+="<textarea";e.editable||(f+=" readonly=true");f=e.align?f+(' style="text-align:'+e.align+'"'):f+' style="text-align:center"';if(e.options)for(p in e.options)f+=" "+p+'="'+e.options[p]+'"';f=0<h.length?f+(' value="'+h+'">'+h+"</textarea>"):f+"></textarea>";k=h}else"link"==e.type?(e.align&&(c.style.textAlign=e.align),n.isNull(e.options)?0<h.length?(f+='<a href="javascript:void(0)">',f+=h,f+="</a>"):f+='<a href="javascript:void(0)"></a>':
n.isNull(e.options.linkType)||"addr"==e.options.linkType?n.isNull(e.options.label)||""==e.options.label?(f+='<a href="javascript:void(0)">',f+=h,f+="</a>"):f+='<a href="javascript:void(0)">'+e.options.label+"</a>":"tel"==e.options.linkType||"sms"==e.options.linkType?(d="",0<h.length&&(d=h),(d=n.replace(d.toString(),"-",""))&&("02"==d.substr(0,2)?d=10>d.length?d.substr(0,2)+"-"+d.substr(2,3)+"-"+d.substr(5,4):d.substr(0,2)+"-"+d.substr(2,4)+"-"+d.substr(6,4):0<d.length&&(d=11>d.length?d.substr(0,3)+
"-"+d.substr(3,3)+"-"+d.substr(6,4):d.substr(0,3)+"-"+d.substr(3,4)+"-"+d.substr(7,4))),n.isNull(e.options.label)||""==e.options.label?(a.isMobile?(f+='<a href="'+e.options.linkType+":",f+=d,f+='" >'):f+='<a href="javascript:void(0)">',f+=d,f+="</a>"):f=a.isMobile?f+('<a href="tel:'+d+'" >'+e.options.label+"</a>"):f+('<a href="javascript:void(0)">'+e.options.label+"</a>")):"mail"==e.options.linkType?n.isNull(e.options.label)||""==e.options.label?a.isMobile?0<h.length?(f+='<a href="mailTo:',f+=h,f+=
'" >',f+=h,f+="</a>"):f+='<a href="mailTo:"></a>':0<h.length?(f+='<a href="javascript:void(0)">',f+=h,f+="</a>"):f+='<a href="javascript:void(0)"></a>':f=0<h.length?a.isMobile?f+('<a href="mailTo:'+h+'" >'+e.options.label+"</a>"):f+('<a href="javascript:void(0)">'+e.options.label+"</a>"):a.isMobile?f+('<a href="mailTo:" >'+e.options.label+"</a>"):f+('<a href="javascript:void(0)">'+e.options.label+"</a>"):f=n.isNull(e.options.label)||""==e.options.label?0<h.length?f+('<a href="javascript:void(0)">'+
h+"</a>"):f+'<a href="javascript:void(0)"></a>':f+('<a href="javascript:void(0)">'+e.options.label+"</a>"),k=n.isNull(e.options)||n.isNull(e.options.label)||""==e.options.label?h:e.options.label):"graph"==e.type&&(f+='<div id="'+g+'" class="grid-graph-range">',f+='<div class="grid-graph-mark-range" style="width:',f+=h,f+=';" ></div></div>');else e.align&&(c.style.textAlign=e.align),k=h,e.editable&&(f+='<span id="',f+=g,f+='" contenteditable=true class="grid-body-span" ',e.align&&(f+='style="',f+=
"text-align:",f+=e.align,f+='" '),e.maxLength?(f+='maxlength="',f+=e.maxLength,f+='" '):e.maxlength&&(f+='maxlength="',f+=e.maxlength,f+='" '),e.dataNX?("date"==e.dataNX.type&&e.dataNX.calendar&&(e.dataNX.grid=!0),f+='data-nx="',f+=n.replace(n.convertString(e.dataNX,!1),'"',"'"),f+='"'):f+=" data-nx=\"{type:'text'}\" ",f+=" >",f+="</span>");""!=f&&(c.innerHTML=f);e.type&&"button"!=e.type&&"select"!=e.type&&"textarea"!=e.type&&"graph"!=e.type&&a.setCell(b,g,k)}function J(a,c,b,g,e){var h="",f="",k=
"",d=!1,l=!1,m=null,p="center",h=a.getCell(b,g),l=e.edit,m=e.opt,p=e.align;e.style&&e.style["text-align"]&&(p=e.style["text-align"]);for(var q=0;q<c.childNodes.length;q++)c.removeChild(c.childNodes[q]);c.innerHTML="";if(e.type&&"input"!=e.type)if("select"==e.type){var r="",f=l?f+'<p class="grid-td-select" contenteditable="true">':f+'<p class="grid-td-select" contenteditable="false">';if(m)if(jQuery.isArray(m))for(q=0,p=m.length;q<p;q++)if(v){if(v==m[q].value){r=m[q].label;break}}else{if(m[q].selected){r=
m[q].label;h=m[q].value;break}}else v?v==m.value&&(r=m.label):m.selected&&(r=m.label,h=m.value);f+=r;a.DumpData[parseInt(c.parentNode.getAttribute("y"))].dt[g]=h;f+="</p>"}else if("checkbox"==e.type){r=function(a,c){var d="{checkValue:'"+a.checkValue+"',",d=a.unCheckValue?d+("unCheckValue:'"+a.unCheckValue+"'}"):d+"unCheckValue:''}",e="";l||(e='disabled="disabled"');f+="<input data-nx="+d+' id="'+b.toString()+g.toString()+"checkbox"+c.toString()+'" type="checkbox" '+e+"";0<h.length?h==a.checkValue&&
(f+=" checked=true ",k=h):a.checked&&(f+=" checked=true ",k=a.checkValue);f+=" />";a.label&&(f=l?f+('<label for="'+b.toString()+g.toString()+"checkbox"+c.toString()+'" >'):f+('<label disabled="disabled" for="'+b.toString()+g.toString()+"checkbox"+c.toString()+'" >'),f+=a.label+"</label>")};if(jQuery.isArray(m))for(q=0,p=m.length;q<p;q++)r(m[q],q);else r(m,"");f+=""}else if("radio"==e.type){r=function(a,c){f+='<input id="'+b.toString()+g.toString()+"radio"+c.toString()+'" name="'+b.toString()+g.toString()+
'radio" type="radio"';l||(f+=' disabled="disabled"');0<h.length?h==a.value&&(f+=" checked=true ",k=h):a.checked&&(f+=" checked=true ",k=a.value);f+='value="'+a.value+'" />';a.label&&(f=l?f+('<label for="'+b.toString()+g.toString()+"radio"+c.toString()+'" >'):f+('<label disabled="disabled" for="'+b.toString()+g.toString()+"radio"+c.toString()+'" >'),f+=a.label+"</label>")};if(jQuery.isArray(m))for(q=0,p=m.length;q<p;q++)r(m[q],q);else r(m,"");f+=""}else if("button"==e.type)p=q="",l||(q="state-disabled",
p='disabled="disabled"'),m?(f+='<button class="',m["class"]&&(f+=m["class"]+" "),f+=q,f+='"',f="image"==m.type?f+' type="image" ':f+' type="button" ',f+=p+" >",m.label?f+=m.label:"image"==m.type?(f+="",d=!0):f+=h,f+="</button>"):f+='<button class="'+q+'" '+p+' type="button">'+h+"</button>";else if("image"==e.type)c.style.verticalAlign="middle",m&&m.src?(f+='<img src="'+m.src+'" />',k=m.src):f+='<img src="" />';else if("textarea"==e.type){f+="<textarea";l||(f+=" readonly=true");f=p?f+(' style="text-align:'+
p+'"'):f+' style="text-align:center"';if(m)for(r in m)f+=" "+r+'="'+m[r]+'"';f=0<h.length?f+(' value="'+h+'">'+h+"</textarea>"):f+"></textarea>";k=h}else"link"==e.type?(n.isNull(m)?0<h.length?(f+='<a href="javascript:void(0)">',f+=h,f+="</a>"):f+='<a href="javascript:void(0)"></a>':n.isNull(m.linkType)||"addr"==m.linkType?n.isNull(m.label)||""==m.label?(f+='<a href="javascript:void(0)">',f+=h,f+="</a>"):f+='<a href="javascript:void(0)">'+m.label+"</a>":"tel"==m.linkType||"sms"==m.linkType?(q="",0<
h.length&&(q=h),(q=n.replace(q.toString(),"-",""))&&("02"==q.substr(0,2)?q=10>q.length?q.substr(0,2)+"-"+q.substr(2,3)+"-"+q.substr(5,4):q.substr(0,2)+"-"+q.substr(2,4)+"-"+q.substr(6,4):0<q.length&&(q=11>q.length?q.substr(0,3)+"-"+q.substr(3,3)+"-"+q.substr(6,4):q.substr(0,3)+"-"+q.substr(3,4)+"-"+q.substr(7,4))),n.isNull(m.label)||""==m.label?(a.isMobile?(f+='<a href="'+m.linkType+":",f+=q,f+='" >'):f+='<a href="javascript:void(0)">',f+=q,f+="</a>"):f=a.isMobile?f+('<a href="tel:'+q+'" >'+m.label+
"</a>"):f+('<a href="javascript:void(0)">'+m.label+"</a>")):"mail"==m.linkType?n.isNull(m.label)||""==m.label?a.isMobile?0<h.length?(f+='<a href="mailTo:',f+=h,f+='" >',f+=h,f+="</a>"):f+='<a href="mailTo:"></a>':0<h.length?(f+='<a href="javascript:void(0)">',f+=h,f+="</a>"):f+='<a href="javascript:void(0)"></a>':f=0<h.length?a.isMobile?f+('<a href="mailTo:'+h+'" >'+m.label+"</a>"):f+('<a href="javascript:void(0)">'+m.label+"</a>"):a.isMobile?f+('<a href="mailTo:" >'+m.label+"</a>"):f+('<a href="javascript:void(0)">'+
m.label+"</a>"):f=n.isNull(m.label)||""==m.label?0<h.length?f+('<a href="javascript:void(0)">'+h+"</a>"):f+'<a href="javascript:void(0)"></a>':f+('<a href="javascript:void(0)">'+m.label+"</a>"),k=n.isNull(m)||n.isNull(m.label)||""==m.label?h:m.label):"graph"==e.type&&(f+='<div id="'+g+'" class="grid-graph-range">',f+='<div class="grid-graph-mark-range" style="width:',f+=h,f+=';" ></div></div>');else k=h,l&&(f+='<span id="',f+=g,f+='" contenteditable=true class="grid-body-span" ',p&&(f+='style="',
f+="text-align:",f+=p,f+='" '),e.maxLength?(f+='maxlength="',f+=e.maxLength,f+='" '):e.maxlength&&(f+='maxlength="',f+=e.maxlength,f+='" '),e.dataNX?("date"==e.dataNX.type&&e.dataNX.calendar&&(e.dataNX.grid=!0),f+='data-nx="',f+=n.replace(n.convertString(e.dataNX,!1),'"',"'"),f+='"'):f+=" data-nx=\"{type:'text'}\" ",f+=" >",f+="</span>");""!=f&&(c.innerHTML=f);!e.type||"select"==e.type||"button"==e.type&&d||"textarea"==e.type||"graph"==e.type||a.setCell(b,g,k)}n.namespace("widget.treegrid");var F=
"",D=document,G=0;jQuery("body").append("<div id='scrollRangeCalc' style='width:300px; height:300px; position:absolute; top:-500px; left:-500px; overflow:auto;'><div style='width:500px; height:500px;'></div></div>");D.getElementById("scrollRangeCalc");G=300-D.getElementById("scrollRangeCalc").clientHeight;jQuery("#scrollRangeCalc").remove();jQuery(D).on("mouseup.grid",function(a){});jQuery(D).on("mousemove.grid",function(a){});jQuery("body").on("focusout.grid",function(a){F=""});n.widget.treegrid=
n.widget.grid.extend({init:function(a,c){this.setName("treegrid");this._super(a,c);this.maxDepth=1},create:function(a){this.loadComplete=!1;this.g_ID=a;this.gridEle=A(a);this.nawgridEle=jQuery(this.gridEle);this.bodyWidth||(this.colFix=null);this.colFix&&this.colFix.numbering&&(this.numbering=!0,this.multiCheck&&(this.colFix.mCheck=!0),this.singleCheck&&(this.colFix.sCheck=!0));this.colFix&&this.colFix.mCheck&&(this.multiCheck=!0,this.numbering&&(this.colFix.numbering=!0));this.colFix&&this.colFix.sCheck&&
(this.singleCheck=!0,this.numbering&&(this.colFix.numbering=!0));this.colFix&&this.colFix.left&&this.numbering&&(this.colFix.numbering=!0);this.colFix&&this.colFix.left&&this.multiCheck&&(this.colFix.mCheck=!0);this.colFix&&this.colFix.left&&this.singleCheck&&(this.colFix.sCheck=!0);this.colFix&&(this.colFix.left||this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)&&(this.isColFixLeft=!0);this.colFix&&this.colFix.right&&(this.isColFixRight=!0);this.makeGrid(a);this.colHeaderLen=this.colHeader.length;
this.colTitleLen=this.colTitle.length;this.colBottomLen=this.colBottom.length;this.colTotalLen=this.colTotal.length;this.colBodyLen=this.colBody.length;this.colModelLen=this.colModel.length;this.bodyDiv=A(this.g_ID+"-body");this.outerBodyDiv=this.bodyDiv.parentNode;this.bodyTable=this.bodyDiv.firstChild;this.nawbodyDiv=jQuery(this.bodyDiv);this.nawouterBodyDiv=jQuery(this.outerBodyDiv);this.nawbodyTable=jQuery(this.bodyTable);this.headerDiv=A(this.g_ID+"-header");this.nawheaderDiv=jQuery(this.headerDiv);
this.outerHeaderDiv=this.headerDiv.parentNode;this.nawouterHeaderDiv=jQuery(this.outerHeaderDiv);0<this.colHeaderLen&&(this.headerTable=this.headerDiv.firstChild,this.nawheaderTable=jQuery(this.headerTable));this.totalDiv=A(this.g_ID+"-total");this.nawtotalDiv=jQuery(this.totalDiv);this.outerTotalDiv=this.totalDiv.parentNode;this.nawouterTotalDiv=jQuery(this.outerTotalDiv);0<this.colBottomLen&&(this.totalTable=this.totalDiv.firstChild,this.nawtotalTable=jQuery(this.totalTable));this.colFix&&(this.colFix.left||
this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)&&(this.lbodyDiv=A(this.g_ID+"-l-body"),this.louterBodyDiv=this.lbodyDiv.parentNode,this.lbodyTable=this.lbodyDiv.firstChild,this.nawlbodyDiv=jQuery(this.lbodyDiv),this.nawlouterBodyDiv=jQuery(this.louterBodyDiv),this.nawlbodyTable=jQuery(this.lbodyTable),this.lheaderDiv=A(this.g_ID+"-l-header"),this.nawlheaderDiv=jQuery(this.lheaderDiv),this.louterHeaderDiv=this.lheaderDiv.parentNode,this.nawlouterHeaderDiv=jQuery(this.louterHeaderDiv),
0<this.colHeaderLen&&(this.lheaderTable=this.lheaderDiv.firstChild,this.nawlheaderTable=jQuery(this.lheaderTable)),this.ltotalDiv=A(this.g_ID+"-l-total"),this.nawltotalDiv=jQuery(this.ltotalDiv),this.louterTotalDiv=this.ltotalDiv.parentNode,this.nawlouterTotalDiv=jQuery(this.louterTotalDiv),0<this.colBottomLen&&(this.ltotalTable=this.ltotalDiv.firstChild,this.nawltotalTable=jQuery(this.ltotalTable)),"safari"!=n.agent.browser&&"chrome"!=n.agent.browser||this.nawlbodyTable.css("border-collapse","separate"));
for(a=0;a<this.colBodyLen;a++){var c=this.colBody[a];!0===c.hide&&this.colHide(c.colName)}var b=this;n.subscribe("window.resize",function(a){jQuery("#"+b.g_ID+" table").css("table-layout","auto");b.gridResize(a);jQuery("#"+b.g_ID+" table").css("table-layout","fixed")});n.subscribe("window.resizeAutoHeight",function(a){jQuery("#"+b.g_ID+" table").css("table-layout","auto");b.gridResize(a,"autoHeight");jQuery("#"+b.g_ID+" table").css("table-layout","fixed")});"page"==this.type&&this.setPage();this.gridEvt(this);
this.evtHeader(this);this.evtBody(this);this.evtButtons(this);this.evtBottom(this);this.evtTree(this);this.etcEvent(this);this.loadComplete=!0;c="bodyClick bodyLButtonDown bodyLButtonUp bodyRButtonDown bodyRButtonUp bodyDblClick bodyKeyDown bodyKeyUp bodyKeyPress bodyFocus bodyBlur bodyChange bodyMouseOver bodyMouseOut bodySelect bodyFolderClick titleLButtonDown titleLButtonUp titleRButtonDown titleRButtonUp titleDblClick titleFocus titleBlur titleChange titleMouseOver titleMouseOut titleSelect bottomLButtonDown bottomLButtonUp bottomRButtonDown bottomRButtonUp bottomDblClick bottomFocus bottomBlur bottomChange bottomMouseOver bottomMouseOut gridNextClick gridPageClick gridSelectChange".split(" ");
a=0;for(var g=c.length;a<g;a++){var e=c[a];this[e]=function(a,b){return function(c){a["on"+b.substring(0,1).toUpperCase()+b.substr(1)]=c}}(this,e)}(this.isComplete||this.checkReDraw)&&n.publish("window.resize",null);this.checkReDraw=!1;(jQuery("#"+this.g_ID).parent().parent().hasClass("accordion-pnl")||0<jQuery("#"+this.g_ID).siblings(".accordion-pnl").length)&&n.publish("grid.createComplete",null);n.config.drmOptions&&n.config.drmOptions.excel&&(this.isDRM=!0)},gridResize:function(a,c){var b=jQuery(this.gridEle);
if("undefined"!=typeof b&&null!=b&&b.is(":visible")){var g=parseFloat(b.width());"msie"==n.agent.browser&&"7.0"==n.agent.version&&(g=parseFloat(b.parent().css("width"))-12);if(!(0>=g)){var e=A(this.g_ID+"-outerbody"),h=jQuery(e),f=jQuery("#"+this.g_ID+"-outertotal").get(0),k=!1;if(this.autoHeight&&"autoHeight"!=c){0==this.innerBodyWidth&&(0<this.colBottomLen?f.style.overflowX="hidden":e.style.overflowX="hidden");var d=jQuery("main"),l=0;d.children().each(function(){if("none"==jQuery(this).css("display"))return!0;
l=n(this,!0).contains(b)?-1!=this.className.indexOf("tab-pnl")?l+(jQuery(this).outerHeight(!0)+2):l+(b.parent().outerHeight(!0)+2):l+jQuery(this).outerHeight(!0)});h=h.height();d=d.height()-l+h-4;h=parseInt(this.bodyHeight);d!=h&&this.setBodyHeight(d);0<this.colBottomLen?f.style.overflowX="auto":e.style.overflowX="auto";"page"==this.type&&0==this.firstResize&&0==this.rowNum&&(e=Math.ceil(parseInt(this.bodyHeight)/this.tdHeight),1<this.maxBodyRowIdx&&(e=Math.floor(e/this.maxBodyRowIdx)+(this.maxBodyRowIdx-
1)),this.rowNum=e-1,this.firstResize=!0);d<h&&(k=!0)}if(!(this.dynamicGrid||this.colFix||!this.visible||this.isMobile&&this.isAutoFit||this.resizing&&"msie"==n.agent.browser&&8>=parseInt(n.agent.version)||null==this.bodyDiv||(this.viewTitle||0<this.colHeaderLen)&&null==this.headerDiv)&&(ispCompare=null!=a?a==this.g_ID?!0:n("#"+a,!0).contains("#"+this.g_ID)?!0:!1:!0)){f=e=0;if(this.multiCheck||this.singleCheck)e+=this.checkWidth,f+=1;this.numbering&&(e+=this.numberingWidth,f+=1);d=this.nawheaderDiv;
h=jQuery("#"+this.g_ID+"-body");if(0==this.innerBodyWidth||parseFloat(this.innerBodyWidth)<parseFloat(g)){d.css("width",g+"px");0<this.colBottomLen?h.css("width",g+"px"):h.css("width",g-this.scrollOffset+"px");jQuery("#"+this.g_ID+"-total").css("width",g+"px");g-=this.scrollOffset;if(this.fixCol){jQuery("#"+this.g_ID+"-header table, #"+this.g_ID+"-total table, #"+this.g_ID+"-body table").css("width",g+"px");return}h=d=0;if(this.viewTitle||0<this.colHeaderLen)for(var m=0;m<this.colHeaderLen;m++){var p=
this.colHeader[m].width;if(this.colHeader[m].rowIndex&&1<this.colHeader[m].rowIndex)break;if(!n.isNull(p)){var q="",q="-1";this.headerTable.firstChild.childNodes[h+f]?(q=this.headerTable.firstChild.childNodes[h+f].id,q=n.replace(q,this.g_ID+"-headercol","")):q="";p=parseFloat(p);p=p/100*(g-e);"msie"==n.agent.browser&&"7.0"==n.agent.version&&(p-=2);m!=q?d+=p:(q=p.toString(),q+="px",this.headerTable.firstChild.childNodes[h+f].setAttribute("width",q),this.bodyTable.firstChild.childNodes[h+f].setAttribute("width",
q),h++)}}else for(m=0;m<this.colModelLen&&!(this.colModel[m].rowIndex&&1<this.colModel[m].rowIndex);m++)p=this.colModel[m].width,n.isNull(p)||(q="",q="-1",this.bodyTable.firstChild.childNodes[h+f]?(q=this.bodyTable.firstChild.childNodes[h+f].id,q=n.replace(q,this.g_ID+"-bodycol","")):q="",p=parseFloat(p),p=p/100*(g-e),"msie"==n.agent.browser&&"7.0"==n.agent.version&&(p-=2),m!=q?d+=p:(q=p.toString(),q+="px",this.bodyTable.firstChild.childNodes[h+f].setAttribute("width",q),h++))}else{g=this.innerBodyWidth;
d.css("width",g+"px");0<this.colBottomLen?h.css("width",g+"px"):h.css("width",g-this.scrollOffset+"px");jQuery("#"+this.g_ID+"-total").css("width",g+"px");g-=this.scrollOffset;if(this.fixCol){jQuery("#"+this.g_ID+"-header table, #"+this.g_ID+"-total table, #"+this.g_ID+"-body table").css("width",g+"px");return}h=d=0;if(this.viewTitle||0<this.colHeaderLen)for(m=0;m<this.colHeaderLen;m++){p=this.colHeader[m].width;if(this.colHeader[m].rowIndex&&1<this.colHeader[m].rowIndex)break;n.isNull(p)||(q="",
q="-1",this.headerTable.firstChild.childNodes[h+f]?(q=this.headerTable.firstChild.childNodes[h+f].id,q=n.replace(q,this.g_ID+"-headercol","")):q="",p=parseFloat(p),p=p/100*(g-e),"msie"==n.agent.browser&&"7.0"==n.agent.version&&(p-=2),m!=q?d+=p:(q=p.toString(),q+="px",this.headerTable.firstChild.childNodes[h+f].setAttribute("width",q),this.bodyTable.firstChild.childNodes[h+f].setAttribute("width",q),h++))}else for(m=0;m<this.colModelLen&&!(this.colModel[m].rowIndex&&1<this.colModel[m].rowIndex);m++)p=
this.colModel[m].width,n.isNull(p)||(q="",q="-1",this.bodyTable.firstChild.childNodes[h+f]?(q=this.bodyTable.firstChild.childNodes[h+f].id,q=n.replace(q,this.g_ID+"-bodycol","")):q="",p=parseFloat(p),p=p/100*(g-e),"msie"==n.agent.browser&&"7.0"==n.agent.version&&(p-=2),m!=q?d+=p:(q=p.toString(),q+="px",this.bodyTable.firstChild.childNodes[h+f].setAttribute("width",q),h++))}if(""==A(this.g_ID+"-total").style.display)for(m=f;m<this.totalTable.firstChild.childNodes.length;m++)this.totalTable.firstChild.childNodes[m].setAttribute("width",
this.bodyTable.firstChild.childNodes[m].getAttribute("width"));g-=d;jQuery("#"+this.g_ID+"-header table, #"+this.g_ID+"-total table, #"+this.g_ID+"-body table").css("width",g+"px");k&&n.publish("window.resizeAutoHeight",null)}}}},makeGrid:function(a){a=A(a);var c=a.clientWidth;n.isNull(this.viewTitle)&&(this.viewTitle=!0);this.colHeaderLen=this.colHeader.length;this.colModelLen=this.colModel.length;this.colBottomLen=this.colBottom.length;var b=this.colHeader.length,g=this.colModel.length,e=this.colBottom.length;
""!=this.bodyWidth&&(this.innerBodyWidth=this.bodyWidth);var h=jQuery(a);this.TotalWidth=parseFloat(h.innerWidth(),10);isNaN(this.bodyHeight)||(this.bodyHeight=this.bodyHeight.toString()+"px");var f="",f="<ul>",k=!1;if(jQuery.isArray(this.defaultButtons)){if(0<this.defaultButtons.length){for(var d=0;d<this.defaultButtons.length;d++)f+='<li class="',f+="grid-buttons-",f+=this.defaultButtons[d],f+='">',f+=this.defaultButtons[d],f+="</li>";k=!0}}else for(var l in this.defaultButtons)f+='<li class="',
f+="grid-buttons-",f+=l,f+='">',f+=this.defaultButtons[l],f+="</li>",k=!0;for(l in this.customButtons)f+='<li class="grid-buttons-custom">',f+=l,f+="</li>",k=!0;f+="</ul>";""!=this.bodyWidth&&(this.innerBodyWidth=this.bodyWidth,this.hScrollbar=!0);this.TotalWidth=parseFloat(h.innerWidth(),10);this.isMobile||(this.TotalWidth-=this.scrollOffset);var m=0,p=0;this.multiCheck&&(m+=this.checkWidth,p++);var q="",r="",x=p="",z=1;if(this.multiCheck||this.singleCheck)this.isColFixLeft?r+="<col width='"+this.checkWidth+
"px' />":q+="<col width='"+this.checkWidth+"px' />",this.columnStruct[this.columnStruct.length]="check";var p=x=r,d=1,E=null,B=0;this.viewTitle?(this.colHeader[b-1].rowIndex&&(d=this.colHeader[b-1].rowIndex),B=b/d):(this.colModel[g-1].rowIndex&&(d=this.colModel[g-1].rowIndex),B=g/d);E=this.viewTitle?this.colHeader:0<this.colHeaderLen?this.colHeader:this.colModel;d=0;for(g=E.length;d<g&&(z==E[d].rowIndex||!E[d].rowIndex);d++){b=E[d].width;w=b.toString();this.columnWidth.push(b);var u="";if(this.colFix&&
this.colFix.left&&d<parseInt(this.colFix.left)){u+="<col ";u+='id="';u+=this.g_ID;u+="-headercol";u+=d;u+='" width=';if(-1!=w.indexOf("%")){var y=w.substr(0,w.indexOf("%"));0!=this.innerBodyWidth&&(b=parseFloat(this.innerBodyWidth)*(parseFloat(y)/100),u+=b.toString(),u+="px",this.leftDivWidth+=b)}else u+=w;0==parseFloat(w)&&(u+=" class='state-hide' ");u+=" />";p+=u;x+=u;r+=u;this.titleRowColCnt++}else if(u+="<col ",u+='id="',u+=this.g_ID,u+="-headercol",u+=d,u+='" width=',-1!=w.indexOf("%")){var y=
w.substr(0,w.indexOf("%")),t=b=0;0!=this.innerBodyWidth?this.colFix||(b=-m):t=-this.scrollOffset;b=(parseFloat(this.innerBodyWidth)+b+t)*(parseFloat(y)/100);u+=b.toString();u+="px";0==parseFloat(w)&&(u+=" class='state-hide' ");u+=" />";q+=u;this.titleRowColCnt++}}this.bottomRowColCnt=this.rowColCnt=this.titleRowColCnt;d=this.leftDivWidth+this.rightDivWidth;b=0;this.colFix&&this.colFix.mCheck&&(b+=m);f=k?jQuery("<div id='"+this.g_ID+"-buttons'  class='grid-buttons-pnl' style='width:100%; '>"+f+"</div>"):
jQuery("<div id='"+this.g_ID+"-buttons'   class='grid-buttons-pnl' style='display:none; width:100%; '></div>");g="";g=this.colFix?jQuery("<div id='"+this.g_ID+"-center'  class='grid-center-pnl' style='width:100%; z-index:1000; margin-left:"+-(this.leftDivWidth+b)+"px; float:left'></div>"):jQuery("<div id='"+this.g_ID+"-center'  class='grid-center-pnl' style='width:100%;'></div>");u="";u=this.colFix?jQuery("<div id='"+this.g_ID+"-outerheader'  class='grid-header-outer-pnl' style='margin-left:"+(this.leftDivWidth+
b)+"px; '></div>"):jQuery("<div id='"+this.g_ID+"-outerheader'  class='grid-header-outer-pnl' style='width:100%; '></div>");y="";y=this.colFix?jQuery("<div id='"+this.g_ID+"-outerbody'  class='grid-body-outer-pnl' style='margin-left:"+(this.leftDivWidth+b)+"px; height:"+this.bodyHeight+";'></div>"):jQuery("<div id='"+this.g_ID+"-outerbody'  class='grid-body-outer-pnl' style='width:100%; height:"+this.bodyHeight+";'></div>");t="";t=0==this.colBottom.length?jQuery("<div id='"+this.g_ID+"-outertotal'  class='grid-total-outer-pnl' style='width:100%; display:none; '></div>"):
this.colFix?jQuery("<div id='"+this.g_ID+"-outertotal'  class='grid-total-outer-pnl' style='margin-left:"+(this.leftDivWidth+b)+"px; '></div>"):jQuery("<div id='"+this.g_ID+"-outertotal'  class='grid-total-outer-pnl' style='width:100%; '></div>");k="";k=0!=this.innerBodyWidth?this.colFix?"width:"+(this.innerBodyWidth-d+0)+"px;"+(this.viewTitle?"":"display:none;")+"":"width:"+this.innerBodyWidth+"px;"+(this.viewTitle?"":"display:none;")+"":"width:100%; "+(this.viewTitle?"":"display:none;")+"";E=jQuery("<div id='"+
this.g_ID+"-header' class='grid-header-pnl' style='"+k+"'></div>");this.TotalEmWidth=this.TotalWidth/n.config.emToPx;var k=k="",k=0!=this.innerBodyWidth?this.colFix?"width:"+(this.innerBodyWidth-d+0)+"px; min-height:100%;":"width:"+this.innerBodyWidth+"px; min-height:100%;":"width:100%; min-height:100%;",k=jQuery("<div id='"+this.g_ID+"-body' class='grid-body-pnl' style='"+k+"'></div>"),C;C="page"==this.type?jQuery("<div id='"+this.g_ID+"-bottom' class='grid-bottom-pnl' style='width:100%;margin-left:"+
(this.leftDivWidth+b)+"px;'><span class='grid-selpage' id='"+this.g_ID+"-selpage' ></span><span class='grid-totalcnt' id='"+this.g_ID+"-totalcnt' ></span></div>"):jQuery("<div id='"+this.g_ID+"-bottom' class='grid-bottom-pnl ' style='display:none; width:100%;'></div>");b="";b=0==this.colBottomLen?jQuery("<div id='"+this.g_ID+"-total' class='grid-total-pnl ' style='width:100%; display:none;'></div>"):""!=this.innerBodyWidth?this.colFix?jQuery("<div id='"+this.g_ID+"-total' class='grid-total-pnl ' style='width:"+
(this.innerBodyWidth-d+0)+"px;'></div>"):jQuery("<div id='"+this.g_ID+"-total' class='grid-total-pnl ' style='width:"+this.innerBodyWidth+"px;'></div>"):jQuery("<div id='"+this.g_ID+"-total' class='grid-total-pnl ' style='width:100%;'></div>");d=jQuery("<div id='"+this.g_ID+"-resize' class='grid-resize-mark' style='position:absolute; z-index:1000; width:1px; top:0px; background-color:#0f0f0f;'></div>");A(this.g_ID).scroll="no";jQuery(f).appendTo(a);jQuery(g).insertAfter(f);jQuery(E).appendTo(u);jQuery(b).appendTo(t);
jQuery(u).appendTo(g);jQuery(y).insertAfter(u);jQuery(k).appendTo(y);jQuery(t).insertAfter(y);jQuery(C).insertAfter(t);jQuery(d).insertAfter(C);A(this.g_ID+"-header").style.overflow="hidden";A(this.g_ID+"-outerheader").style.overflow="hidden";A(this.g_ID+"-outerbody").style.overflowY="auto";A(this.g_ID+"-body").style.overflow="hidden";d='<div id="'+this.g_ID+'_div" style="display:none;" ><form id="'+this.g_ID+'_form" name="'+this.g_ID+'_form" target="'+this.g_ID+'-responseFrame" method="post" style=" vertical-align: middle;" enctype="multipart/form-data">';
d+='<input name="row" id="'+this.g_ID+'-row"  style="display:none; " >';d+='<input name="col" id="'+this.g_ID+'-col" style="display:none; " >';d+='<input name="sheetIndex" id="'+this.g_ID+'-sheetIndex" style="display:none; " >';d+='<input name="delEmptyRow" id="'+this.g_ID+'-delemptyrow" style="display:none; " >';d+='<input name="'+this.g_ID+'-readFile" style="width:80px" id="'+this.g_ID+'-readFile" type="file" >';d+='<input name="'+this.g_ID+'-sBtn" id="'+this.g_ID+'-sBtn" type="submit"  style="display:none; " ></form></div>';
d=n.config.crossDomain&&n.config.crossDomain.apply?d+('<iframe name="'+this.g_ID+'-responseFrame" id="'+this.g_ID+'-responseFrameID" style="display:none" src="'+n._getFixedUri(n.config.crossDomain.blank)+'"></iframe>'):d+('<iframe name="'+this.g_ID+'-responseFrame" id="'+this.g_ID+'-responseFrameID" style="display:none"></iframe>');jQuery(d).appendTo(a);var H=this;jQuery("#"+this.g_ID+"-readFile").change(function(a){H.FFaddData()});jQuery("iframe#"+this.g_ID+"-responseFrameID").load(function(){H.loadExcel()});
0!=this.innerBodyWidth?this.innerBodyWidth=parseInt(jQuery(A(this.g_ID+"-header")).innerWidth(),10):this.TotalWidth=parseInt(h.innerWidth(),10);this.TotalWidth-=this.scrollOffset;g="<table cellspacing=0 cellpading=0 style='width:"+(""!=this.innerBodyWidth?this.innerBodyWidth:this.TotalWidth)+"px' ><colgroup>";this.colFix&&(this.colFix.left||this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)&&(this.leftHeaderTable+="<table cellspacing=0 cellpading=0 style='width:"+(this.leftDivWidth+m)+
"px' ><colgroup>");g=g+q+"</colgroup><thead><tr>";this.colFix&&(this.colFix.left||this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)&&(this.leftHeaderTable+=r,this.leftHeaderTable+="</colgroup><thead><tr>");for(d=0;d<this.colHeaderLen;d++)this.maxTitleRowIdx<this.colHeader[d].rowIndex&&(this.maxTitleRowIdx=this.colHeader[d].rowIndex);d="";this.multiCheck?(d=1<this.maxTitleRowIdx?d+("<th colname='"+this.g_ID+"-h-mCheck' rowSpan="+this.maxTitleRowIdx+">"):d+("<th colname='"+this.g_ID+"-h-mCheck' >"),
d=null==this.checkTitleText?d+"<div class='grid-title'><input type='checkbox' class='grid-multi-check' tabindex='-1' /></div></th>":d+("<div class='grid-title'>"+this.checkTitleText+"</div></th>")):this.singleCheck&&(d=1<this.maxTitleRowIdx?d+("<th colname='"+this.g_ID+"-h-sCheck' rowSpan="+this.maxTitleRowIdx+">"):d+("<th colname='"+this.g_ID+"-h-sCheck' >"),d=null==this.checkTitleText?d+"<div class='grid-title'></div></th>":d+("<div class='grid-title'>"+this.checkTitleText+"</div></th>"));this.colFix?
this.colFix&&this.colFix.left?this.leftHeaderTable+=d:this.colFix&&(this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)?this.leftHeaderTable+=d:g+=d:g+=d;h=!1;for(d=r=0;d<this.colHeaderLen;d++)if(u="",this.colHeader[d].rowIndex&&z!=this.colHeader[d].rowIndex&&(this.colFix&&this.colFix.left&&(this.leftHeaderTable+="</tr><tr>"),z=this.colHeader[d].rowIndex,g+="</tr><tr>",r=0),"undefined"==typeof this.colHeader[d].name||null==this.colHeader[d].name)r++;else{y=!1;0==parseFloat(this.colHeader[d].width)&&
(y=!0);u+="<th ";u+='id="';u+=this.g_ID;u+="-headertd";u+=d.toString();u+='" ';u+='colIndex="';u+=r;u+='" ';this.colHeader[d].colName&&(u+='colName="',u+=this.g_ID+"-h-"+this.colHeader[d].colName,u+='" ');r++;this.colHeader[d].sort&&(u+='class="grid-sort-column"');this.colHeader[d].colSpan&&(u+="colSpan=",u+=this.colHeader[d].colSpan,u+=" ");this.colHeader[d].rowSpan&&(u+="rowSpan=",u+=this.colHeader[d].rowSpan,u+=" ");u=y?u+'style="display:none;" ><div class=\'grid-title ':u+"><div class='grid-title ";
n.isNull(this.colHeader[d].requiredCol)||(u+="state-required ");u=this.colHeader[d].align?u+("' style=\"text-align:"+this.colHeader[d].align+'; vertical-align:middle;">'):u+'\' style=" vertical-align:middle;">';if("select"==this.colHeader[d].type){u+="<select>";if(this.colHeader[d].options)for(t=0;t<this.colHeader[d].options.length;t++)u=this.colHeader[d].options[t].selected?u+('<option selected value="'+this.colHeader[d].options[t].value+'">'+this.colHeader[d].options[t].label+"</option>"):u+('<option value="'+
this.colHeader[d].options[t].value+'">'+this.colHeader[d].options[t].label+"</option>");u+="</select>"}else if("checkbox"==this.colHeader[d].type){if(jQuery.isArray(this.colHeader[d].options))for(t=0;t<this.colHeader[d].options.length;t++)y="{checkValue:'"+this.colHeader[d].options[t].checkValue+"',",y=this.colHeader[d].options[t].unCheckValue?y+("unCheckValue:'"+this.colHeader[d].options[t].unCheckValue+"'}"):y+"unCheckValue:''}",u=this.colHeader[d].editable?u+("<input data-nx="+y+' id="'+d.toString()+
"checkbox"+t.toString()+'" type="checkbox"'):u+("<input data-nx="+y+' id="'+d.toString()+"checkbox"+t.toString()+'" type="checkbox" disabled="disabled"'),this.colHeader[d].name?this.colHeader[d].name==this.colHeader[d].options[t].checkValue&&(u=" checked=true "):this.colHeader[d].options[t].checked&&(u=" checked=true "),u+=" />",this.colHeader[d].options[t].label&&(u=this.colHeader[d].editable?u+('<label for="'+d.toString()+"checkbox"+t.toString()+'" >'):u+('<label disabled="disabled" for="'+d.toString()+
"checkbox"+t.toString()+'" >'),u+=this.colHeader[d].options[t].label+"</label>");else y="{checkValue:'"+this.colHeader[d].options.checkValue+"',",y=this.colHeader[d].options.unCheckValue?y+("unCheckValue:'"+this.colHeader[d].options.unCheckValue+"'}"):y+"unCheckValue:''}",u=this.colHeader[d].editable?u+("<input data-nx="+y+' id="'+d.toString()+'checkbox0" type="checkbox"'):u+("<input data-nx="+y+' id="'+d.toString()+'checkbox0" type="checkbox" disabled="disabled"'),this.colHeader[d].name?this.colHeader[d].name==
this.colHeader[d].options.checkValue&&(u=" checked=true "):this.colHeader[d].options.checked&&(u=" checked=true "),u+=" />",this.colHeader[d].options.label&&(u=this.colHeader[d].editable?u+('<label for="'+d.toString()+'checkbox0" >'):u+('<label disabled="disabled" for="'+d.toString()+'checkbox0" >'),u+=this.colHeader[d].options.label+"</label>");u+=""}else if("radio"==this.colHeader[d].type){if(jQuery.isArray(this.colHeader[d].options))for(t=0;t<this.colHeader[d].options.length;t++)u+='<input id="'+
d.toString()+"radio"+t.toString()+'" name="'+d.toString()+'radio" type="radio"',this.colHeader[d].editable||(u+=' disabled="disabled"'),this.colHeader[d].name?this.colHeader[d].name==this.colHeader[d].options[t].value&&(u+=" checked=true "):this.colHeader[d].options[t].checked&&(u+=" checked=true "),u+='value="'+this.colHeader[d].options[t].value+'" />',this.colHeader[d].options[t].label&&(u=this.colHeader[d].editable?u+('<label for="'+d.toString()+"radio"+t.toString()+'" >'):u+('<label disabled="disabled" for="'+
d.toString()+"radio"+t.toString()+'" >'),u+=this.colHeader[d].options[t].label+"</label>");else u=this.colHeader[d].editable?u+('<input id="'+d.toString()+'radio0" type="radio"'):u+('<input id="'+d.toString()+'radio0" type="radio" disabled="disabled"'),this.colHeader[d].name?this.colHeader[d].name==this.colHeader[d].options.value&&(u+=" checked=true "):this.colHeader[d].options.checked&&(u+=" checked=true "),u+='value="'+this.colHeader[d].options.value+'" />',this.colHeader[d].options.label&&(u=this.colHeader[d].editable?
u+('<label for="'+d.toString()+'radio0" >'):u+('<label disabled="disabled" for="'+d.toString()+'radio0" >'),u+=this.colHeader[d].options.label+"</label>");u+=""}else"image"==this.colHeader[d].type?u=n.isNull(this.colHeader[d].options)||n.isNull(this.colHeader[d].options.src)?u+'<img src="" />':u+('<img src="'+this.colHeader[d].options.src+'" />'):"link"==this.colHeader[d].type?this.colHeader[d].options?isMobile?n.isNull(this.colHeader[d].options.linkType)||"addr"==this.colHeader[d].options.linkType?
u+='<a href="javascript:void(0)" >'+this.colHeader[d].name+"</a></td>":"tel"==this.colHeader[d].options.linkType?(y="",t=this.colHeader[d].name,"02"==t.substr(0,2)?y=10>t.length?t.substr(0,2)+"-"+t.substr(2,3)+"-"+t.substr(5,4):t.substr(0,2)+"-"+t.substr(2,4)+"-"+t.substr(6,4):0<t.length&&(y=11>t.length?t.substr(0,3)+"-"+t.substr(3,3)+"-"+t.substr(6,4):t.substr(0,3)+"-"+t.substr(3,4)+"-"+t.substr(7,4)),u+='<a href="tel:'+y+'" >'+y+"</a>"):"sms"==this.colHeader[d].options.linkType?(y="",t=this.colHeader[d].options.value,
"02"==t.substr(0,2)?y=10>t.length?t.substr(0,2)+"-"+t.substr(2,3)+"-"+t.substr(5,4):t.substr(0,2)+"-"+t.substr(2,4)+"-"+t.substr(6,4):0<t.length&&(y=11>t.length?t.substr(0,3)+"-"+t.substr(3,3)+"-"+t.substr(6,4):t.substr(0,3)+"-"+t.substr(3,4)+"-"+t.substr(7,4)),u+='<a href="sms:'+y+'" >'+y+"</a></td>"):u="mail"==this.colHeader[d].options.linkType?u+('<a href="mailTo:'+this.colHeader[d].options.value+'" >'+this.colHeader[d].name+"</a></td>"):u+('<a href="javascript:void(0)" >'+this.colHeader[d].name+
"</a></td>"):n.isNull(this.colHeader[d].options.linkType)||"addr"==this.colHeader[d].options.linkType?u+='<a href="javascript:void(0)" >'+this.colHeader[d].name+"</a></td>":"tel"==this.colHeader[d].options.linkType?(y="",t=this.colHeader[d].name,"02"==t.substr(0,2)?y=10>t.length?t.substr(0,2)+"-"+t.substr(2,3)+"-"+t.substr(5,4):t.substr(0,2)+"-"+t.substr(2,4)+"-"+t.substr(6,4):0<t.length&&(y=11>t.length?t.substr(0,3)+"-"+t.substr(3,3)+"-"+t.substr(6,4):t.substr(0,3)+"-"+t.substr(3,4)+"-"+t.substr(7,
4)),u+='<a href="javascript:void(0)" >'+y+"</a>"):"sms"==this.colHeader[d].options.linkType?(y="",t=this.colHeader[d].options.value,"02"==t.substr(0,2)?y=10>t.length?t.substr(0,2)+"-"+t.substr(2,3)+"-"+t.substr(5,4):t.substr(0,2)+"-"+t.substr(2,4)+"-"+t.substr(6,4):0<t.length&&(y=11>t.length?t.substr(0,3)+"-"+t.substr(3,3)+"-"+t.substr(6,4):t.substr(0,3)+"-"+t.substr(3,4)+"-"+t.substr(7,4)),u+='<a href="javascript:void(0)" >'+y+"</a></td>"):u+='<a href="javascript:void(0)" >'+this.colHeader[d].name+
"</a></td>":u+='<a href="javascript:void(0)" >'+this.colHeader[d].name+"</a>":"button"==this.colHeader[d].type?(y=this.colHeader[d].options,u+='<button class="',this.colHeader[d].editable||(u+="state-disabled "),y?(y["class"]&&(u+=y["class"]+""),u+='" ',u=y.type?u+('type="'+y.type+'" '):u+'type="button" ',this.colHeader[d].editable||(u+='disabled="disabled"'),u+=">",u=y.label?u+y.label:u+this.colHeader[d].name):(u+='" type="button" ',this.colHeader[d].editable||(u+='disabled="disabled"'),u+=">",u+=
this.colHeader[d].name),u+="</button>"):(this.colHeader[d].editable&&(h=!0,y="",n.isNull(this.colHeader[d].dataNX)?y="{type:'text'}":("date"==this.colHeader[d].dataNX.type&&this.colHeader[d].dataNX.calendar&&(this.colHeader[d].dataNX.grid=!0),y=n.convertString(this.colHeader[d].dataNX,!1)),t="",this.colHeader[d].maxlength&&(t='maxlength="'+this.colHeader[d].maxlength+'"'),u=this.colHeader[d].align?u+('<input type="text" data-nx='+y+" "+t+' style="text-align:'+this.colHeader[d].align+'" value='):u+
('<input type="text" data-nx='+y+" "+t+" value=")),y=this.colHeader[d].dataNX,n.isNull(y)?(y=n.replace(this.colHeader[d].name,"|","<br>"),0>=y.length&&(y=this.colHeader[d].name),this.colHeader[d].editable||(y=n.replace(y.toString()," ","&nbsp;")),u+=y):u="date"==y.type||"time"==y.type||"num"==y.type||"ssn"==y.type||"foreign"==y.type||"brn"==y.type||"lrn"==y.type||"dateTime"==y.type?n.isNull(y.mask)?u+n.secureMask(this.colHeader[d].name,y.type):u+n.secureMask(this.colHeader[d].name,y.mask):"digit"==
y.type?this.colHeader[d].maxlength?y.padLeft?u+n.padLeft(this.colHeader[d].name,this.colHeader[d].maxlength,y.padLeft):y.padRight?u+n.padRight(this.colHeader[d].name,this.colHeader[d].maxlength,y.padRight):n.isNull(y.mask)?u+this.colHeader[d].name:u+n.secureMask(this.colHeader[d].name,y.mask):n.isNull(y.mask)?u+this.colHeader[d].name:u+n.secureMask(this.colHeader[d].name,y.mask):n.isNull(y.mask)?u+this.colHeader[d].name:u+n.secureMask(this.colHeader[d].name,y.mask),this.colHeader[d].editable&&(u+=
" >"));u+="</div></th>";this.colFix&&this.colFix.left&&d%B<parseInt(this.colFix.left)?this.leftHeaderTable+=u:g+=u;thWidth=0}for(d=t=0;d<this.colHeaderLen;d++)this.maxTitleRowSpan<this.colHeader[d].rowSpan&&(this.maxTitleRowSpan=parseInt(this.colHeader[d].rowSpan)+parseInt(this.colHeader[d].rowIndex)-1),this.colHeader[d].name&&(this.colTitle[t]=jQuery.extend(!0,{},this.colHeader[d]),t++,this.colTitleLen=t);jQuery(g+"</tr></thead></table>").appendTo(E);this.colFix&&(this.colFix.left||this.colFix.numbering||
this.colFix.mCheck||this.colFix.sCheck)&&(this.leftHeaderTable+="</tr></thead></table>");h&&n.behavior.applyContainerBehavior(jQuery("#"+this.g_ID+"-header input[type='text']"));if(0<this.colBottomLen){E="";E="<table cellspacing=0 cellpading=0 style='width:"+(""!=this.innerBodyWidth?this.innerBodyWidth:this.TotalWidth)+"px' ><colgroup>";z=n.replace(q,"-headercol","-totalcol");E=E+z+"</colgroup><tbody><tr>";this.colFix&&(this.colFix.left||this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)&&
(this.leftTotalTable+="<table cellspacing=0 cellpading=0 style='width:"+(this.leftDivWidth+m)+"px' ><colgroup>",z=n.replace(x,"-headercol","-totalcol"),this.leftTotalTable+=z,this.leftTotalTable+="</colgroup><tbody><tr>");for(d=0;d<this.colBottomLen;d++)this.maxBottomRowIdx<this.colBottom[d].rowIndex&&(this.maxBottomRowIdx=this.colBottom[d].rowIndex);d="";this.multiCheck?d=1<this.maxBottomRowIdx?d+("<td rowSpan="+this.maxBottomRowIdx+"></td>"):d+"<td></td>":this.singleCheck&&(d=1<this.maxBottomRowIdx?
d+("<td rowSpan="+this.maxBottomRowIdx+"></td>"):d+"<td></td>");this.colFix?this.colFix&&this.colFix.left?this.leftTotalTable+=d:this.colFix&&(this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)?this.leftTotalTable+=d:E+=d:E+=d;z=1;h=!1;this.autoCalc.sum={};this.autoCalc.avg={};this.autoCalc.cnt={};for(d=r=0;d<this.colBottomLen;d++)if(this.colBottom[d].sumColRef?this.autoCalc.sum[this.colBottom[d].sumColRef]=d:this.colBottom[d].avgColRef?this.autoCalc.avg[this.colBottom[d].avgColRef]=d:
this.colBottom[d].cntColRef&&(this.autoCalc.cnt[d]=d),"undefined"!=typeof this.colBottom[d].name)if(x="",z!=this.colBottom[d].rowIndex&&this.colBottom[d].rowIndex&&(this.colFix&&this.colFix.left&&(this.leftTotalTable+="</tr><tr>"),z=this.colBottom[d].rowIndex,E+="</tr><tr>",r=0),"undefined"==typeof this.colBottom[d].name)r++;else{x+="<td ";x+='id="';x+=this.g_ID;x+="-totaltd";x+=d.toString();x+='" ';x+='colIndex="';x+=r;x+='" ';r++;this.colBottom[d].colName&&(x+='colName="',x+=this.g_ID+"-t-"+this.colBottom[d].colName,
x+='" ');this.colBottom[d].colSpan&&(x+="colSpan=",x+=this.colBottom[d].colSpan,x+=" ");this.colBottom[d].rowSpan&&(x+="rowSpan=",x+=this.colBottom[d].rowSpan,x+=" ");this.colBottom[d].align?(x+='style="text-align:',x+=this.colBottom[d].align,x+="; "):x+='style="text-align:center; ';x=this.colHeader[d]&&0==parseFloat(this.colHeader[d].width)?x+'display:none;" >':x+'" >';if("select"==this.colBottom[d].type){x=this.colBottom[d].editable?x+"<select>":x+'<select disabled="disabled">';if(this.colBottom[d].options)for(t=
0;t<this.colBottom[d].options.length;t++)x=this.colBottom[d].options[t].selected?x+('<option selected value="'+this.colBottom[d].options[t].value+'">'+this.colBottom[d].options[t].label+"</option>"):x+('<option value="'+this.colBottom[d].options[t].value+'">'+this.colBottom[d].options[t].label+"</option>");x+="</select></td>"}else"link"==this.colBottom[d].type?this.colBottom[d].options?this.isMobile?n.isNull(this.colBottom[d].options.linkType)||"addr"==this.colBottom[d].options.linkType?x=n.isNull(this.colBottom[d].options.label)||
""==this.colBottom[d].options.label?x+('<a href="javascript:void(0)" >'+this.colBottom[d].name+"</a></td>"):x+('<a href="'+this.colBottom[d].name+'" >'+this.colBottom[d].options.label+"</a></td>"):"tel"==this.colBottom[d].options.linkType?(y="",t=this.colBottom[d].name,"02"==t.substr(0,2)?y=10>t.length?t.substr(0,2)+"-"+t.substr(2,3)+"-"+t.substr(5,4):t.substr(0,2)+"-"+t.substr(2,4)+"-"+t.substr(6,4):0<t.length&&(y=11>t.length?t.substr(0,3)+"-"+t.substr(3,3)+"-"+t.substr(6,4):t.substr(0,3)+"-"+t.substr(3,
4)+"-"+t.substr(7,4)),x=n.isNull(this.colBottom[d].options.label)||""==this.colBottom[d].options.label?x+('<a href="tel:'+y+'" >'+y+"</a>"):x+('<a href="tel:'+y+'" >'+this.colBottom[d].options.label+"</a>")):"sms"==this.colBottom[d].options.linkType?(y="",t=this.colBottom[d].name,"02"==t.substr(0,2)?y=10>t.length?t.substr(0,2)+"-"+t.substr(2,3)+"-"+t.substr(5,4):t.substr(0,2)+"-"+t.substr(2,4)+"-"+t.substr(6,4):0<t.length&&(y=11>t.length?t.substr(0,3)+"-"+t.substr(3,3)+"-"+t.substr(6,4):t.substr(0,
3)+"-"+t.substr(3,4)+"-"+t.substr(7,4)),x=n.isNull(this.colBottom[d].name)||""==this.colBottom[d].name?x+('<a href="sms:'+y+'" >'+y+"</a></td>"):x+('<a href="sms:'+y+'" >'+this.colBottom[d].name+"</a></td>")):x="mail"==this.colBottom[d].options.linkType?n.isNull(this.colBottom[d].options.label)||""==this.colBottom[d].options.label?x+('<a href="mailTo:'+this.colBottom[d].name+'" >'+this.colBottom[d].name+"</a></td>"):x+('<a href="mailTo:'+this.colBottom[d].name+'" >'+this.colBottom[d].options.label+
"</a></td>"):n.isNull(this.colBottom[d].options.label)||""==this.colBottom[d].options.label?x+('<a href="'+this.colBottom[d].name+'" >'+this.colBottom[d].name+"</a></td>"):x+('<a href="'+this.colBottom[d].name+'" >'+options.label+"</a></td>"):n.isNull(this.colBottom[d].options.linkType)||"addr"==this.colBottom[d].options.linkType?x=n.isNull(this.colBottom[d].options.label)||""==this.colBottom[d].options.label?x+('<a href="javascript:void(0)" >'+this.colBottom[d].name+"</a></td>"):x+('<a href="javascript:void(0)" >'+
this.colBottom[d].options.label+"</a></td>"):"tel"==this.colBottom[d].options.linkType?(y="",t=this.colBottom[d].name,"02"==t.substr(0,2)?y=10>t.length?t.substr(0,2)+"-"+t.substr(2,3)+"-"+t.substr(5,4):t.substr(0,2)+"-"+t.substr(2,4)+"-"+t.substr(6,4):0<t.length&&(y=11>t.length?t.substr(0,3)+"-"+t.substr(3,3)+"-"+t.substr(6,4):t.substr(0,3)+"-"+t.substr(3,4)+"-"+t.substr(7,4)),x=n.isNull(this.colBottom[d].options.label)||""==this.colBottom[d].options.label?x+('<a href="javascript:void(0)" >'+y+"</a>"):
x+('<a href="javascript:void(0)" >'+this.colBottom[d].options.label+"</a>")):"sms"==this.colBottom[d].options.linkType?(y="",t=this.colBottom[d].name,"02"==t.substr(0,2)?y=10>t.length?t.substr(0,2)+"-"+t.substr(2,3)+"-"+t.substr(5,4):t.substr(0,2)+"-"+t.substr(2,4)+"-"+t.substr(6,4):0<t.length&&(y=11>t.length?t.substr(0,3)+"-"+t.substr(3,3)+"-"+t.substr(6,4):t.substr(0,3)+"-"+t.substr(3,4)+"-"+t.substr(7,4)),x=n.isNull(this.colBottom[d].name)||""==this.colBottom[d].name?x+('<a href="javascript:void(0)" >'+
y+"</a></td>"):x+('<a href="javascript:void(0)" >'+this.colBottom[d].name+"</a></td>")):x="mail"==this.colBottom[d].options.linkType?n.isNull(this.colBottom[d].options.label)||""==this.colBottom[d].options.label?x+('<a href="javascript:void(0)" >'+this.colBottom[d].name+"</a></td>"):x+('<a href="javascript:void(0)" >'+this.colBottom[d].options.label+"</a></td>"):n.isNull(this.colBottom[d].options.label)||""==this.colBottom[d].options.label?x+('<a href="javascript:void(0)" >'+this.colBottom[d].name+
"</a></td>"):x+('<a href="javascript:void(0)" >'+options.label+"</a></td>"):x+='<a href="javascript:void(0)" >'+this.colBottom[d].name+"</a>":(this.colBottom[d].editable&&(h=!0,y="",n.isNull(this.colBottom[d].dataNX)?y="{type:'text'}":("date"==this.colBottom[d].dataNX.type&&this.colBottom[d].dataNX.calendar&&(this.colBottom[d].dataNX.grid=!0),y=n.convertString(this.colBottom[d].dataNX,!1)),t="",this.colBottom[d].maxlength&&(t='maxlength="'+this.colBottom[d].maxlength+'"'),x=this.colBottom[d].align?
x+('<input type="text" data-nx='+y+" "+t+' style="text-align:'+this.colBottom[d].align+'" value='):x+('<input type="text" data-nx='+y+" "+t+" value=")),g=this.colBottom[d].dataNX,n.isNull(g)?(y=n.replace(this.colBottom[d].name,"|","<br>"),0>=y.length&&(y=this.colBottom[d].name),this.colBottom[d].editable||(y=n.replace(y.toString()," ","&nbsp;")),x+=y):"date"==g.type||"time"==g.type||"ssn"==g.type||"foreign"==g.type||"brn"==g.type||"lrn"==g.type||"dateTime"==g.type?x=n.isNull(g.mask)?x+n.secureMask(this.colBottom[d].name,
g.type):x+n.secureMask(this.colBottom[d].name,g.mask):"num"==g.type?(n.isNull(g.currency)||(x+=g.currency),x=n.isNull(g.mask)?x+n.valNum(this.colBottom[d].name):x+n.valNum(this.colBottom[d].name,g.mask)):x="digit"==g.type?this.colBottom[d].maxlength?g.padLeft?x+n.padLeft(this.colBottom[d].name,this.colBottom[d].maxlength,g.padLeft):g.padRight?x+n.padRight(this.colBottom[d].name,this.colBottom[d].maxlength,g.padRight):n.isNull(g.mask)?x+this.colBottom[d].name:x+n.secureMask(this.colBottom[d].name,
g.mask):n.isNull(g.mask)?x+this.colBottom[d].name:x+n.secureMask(this.colBottom[d].name,g.mask):n.isNull(g.mask)?x+this.colBottom[d].name:x+n.secureMask(this.colBottom[d].name,g.mask),this.colBottom[d].editable&&(x+=" >"),x+="</td>");this.colFix&&this.colFix.left&&d%B<parseInt(this.colFix.left)?this.leftTotalTable+=x:E+=x}jQuery(E+"</tr></tbody></table>").appendTo(b);this.colFix&&(this.colFix.left||this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)&&(this.leftTotalTable+="</tr></tbody></table>");
h&&n.behavior.applyContainerBehavior(jQuery("#"+this.g_ID+"-total input[type='text']"));for(t=d=0;d<this.colBottomLen;d++)this.maxBottomRowSpan<this.colBottom[d].rowSpan&&(this.maxBottomRowSpan=parseInt(this.colBottom[d].rowSpan)+parseInt(this.colBottom[d].rowIndex)-1),this.colBottom[d].name&&(this.colTotal[t]=jQuery.extend(!0,{},this.colBottom[d]),t++,this.colTotalLen=t);h=jQuery("#"+this.g_ID);tmpWidth=parseFloat(h.innerWidth(),10);"msie"==n.agent.browser&&"7.0"==n.agent.version&&(tmpWidth=parseInt(jQuery("#"+
this.g_ID).parent().css("width"),10)-12)}B="<table cellspacing=0 cellpading=0 style='width:"+(0!=this.innerBodyWidth?this.innerBodyWidth:this.TotalWidth)+"px;' ><colgroup>";q=n.replace(q,"-headercol","-bodycol");jQuery(B+q+"</colgroup><tbody></tbody></table>").appendTo(k);this.colFix&&(this.colFix.left||this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)&&(this.leftBodyTable+="<table cellspacing=0 cellpading=0 style='width:"+(this.leftDivWidth+m)+"px;' ><colgroup>",m=n.replace(p,"-headercol",
"-bodycol"),this.leftBodyTable+=m,this.leftBodyTable+="</colgroup><tbody></tbody></table>");if(this.colFix){m=parseFloat(this.bodyHeight);0==e&&(m-=G);if(this.colFix.left||this.colFix.numbering||this.colFix.mCheck||this.colFix.sCheck)this.makeLeftGrid(f),jQuery("#"+this.g_ID+"-l-outerbody").css("height",m+"px");e=function(a){a=window.event||a;a=a.detail?-80*a.detail:a.wheelDelta;A(H.g_ID+"-outerbody").scrollTop+=-1*a};m=navigator.userAgent?"DOMMouseScroll":"mousewheel";this.colFix.left&&(D.attachEvent?
(A(this.g_ID+"-l-outerbody").attachEvent("on"+m,e),A(this.g_ID+"-l-outerbody").onmousewheel=e):D.addEventListener&&(A(this.g_ID+"-l-outerbody").addEventListener(m,e,!1),A(this.g_ID+"-l-outerbody").onmousewheel=e));D.attachEvent?(A(this.g_ID+"-outerbody").attachEvent("on"+m,e),A(this.g_ID+"-outerbody").onmousewheel=e):D.addEventListener&&(A(this.g_ID+"-outerbody").addEventListener(m,e,!1),A(this.g_ID+"-outerbody").onmousewheel=e)}for(t=d=0;d<this.colModelLen;d++)this.maxBodyRowSpan<this.colModel[d].rowSpan&&
(this.maxBodyRowSpan=parseInt(this.colModel[d].rowSpan)+parseInt(this.colModel[d].rowIndex)-1),this.colModel[d].colName&&(n.isNull(this.colModel[d].align)&&(this.colModel[d].align="center"),n.isNull(this.colModel[d].type)&&(this.colModel[d].type="input"),n.isNull(this.colModel[d].dataNX)&&(this.colModel[d].dataNX={type:"text"}),"input"==this.colModel[d].type&&(n.isNull(this.colModel[d].dataNX)||"date"==this.colModel[d].dataNX.type&&this.colModel[d].dataNX.calendar&&(this.colModel[d].dataNX.grid=!0)),
this.colBody[t]=jQuery.extend(!0,{},this.colModel[d]),this.colBodyColumn[this.colBody[t].colName]=t,t++,this.colBodyLen=t),this.colModel[d].rowIndex&&this.maxBodyRowIdx<this.colModel[d].rowIndex&&(this.maxBodyRowIdx=this.colModel[d].rowIndex);0<this.colBottomLen&&(A(this.g_ID+"-body").style.overflowX="hidden",A(this.g_ID+"-outerbody").style.overflowX="hidden");if(jQuery.isArray(this.defaultButtons)){if(0<this.defaultButtons.length)for(d=0;d<this.defaultButtons.length;d++)if("filter"==this.defaultButtons[d]){this.filterDisplay();
break}}else for(l in this.defaultButtons)if("filter"==l){this.filterDisplay();break}l=A(this.g_ID+"-body");this.isMobile&&(this.wrapperW=l.clientWidth,this.scrollerW=Math.round(l.firstChild.offsetWidth*this.scale),this.maxScrollX=this.wrapperW-this.scrollerW);return c!=a.clientWidth?!0:c!=this.TotalWidth+this.scrollOffset?!0:!1},makeLeftGrid:function(a){var c=0;this.multiCheck&&(c+=this.checkWidth);var b=jQuery("<div id='"+this.g_ID+"-left'  class='grid-left-pnl' style='width:"+(this.leftDivWidth+
c)+"px; z-index:1001; float:left; '></div>"),g=jQuery("<div id='"+this.g_ID+"-l-outerheader'  class='grid-header-outer-pnl' style='width:"+(this.leftDivWidth+c)+"px; '></div>"),e;e=0==this.colBottom.length?jQuery("<div id='"+this.g_ID+"-l-outertotal'  class='grid-total-outer-pnl' style='width:"+(this.leftDivWidth+c)+"px; display:none; '></div>"):jQuery("<div id='"+this.g_ID+"-l-outertotal'  class='grid-total-outer-pnl' style='width:"+(this.leftDivWidth+c)+"px; '></div>");var h=jQuery("<div id='"+
this.g_ID+"-l-outerbody'  class='grid-body-outer-pnl' style='width:"+(this.leftDivWidth+c)+"px; height:"+this.bodyHeight+";'></div>"),f=jQuery("<div id='"+this.g_ID+"-l-header' class='grid-header-pnl' style='width:"+(this.leftDivWidth+c)+"px;"+(this.viewTitle?"":"display:none;")+"'></div>"),k=jQuery("<div id='"+this.g_ID+"-l-body' class='grid-body-pnl' style='width:"+(this.leftDivWidth+c)+"px;' border=0 ></div>"),d;d="next"==this.type||"page"==this.type||this.totalCntString?jQuery("<div id='"+this.g_ID+
"-l-bottom' class='grid-left-bottom-pnl' style='width:"+(this.leftDivWidth+c)+"px;'></div>"):jQuery("<div id='"+this.g_ID+"-l-bottom' class='grid-left-bottom-pnl ' style='height:"+G+"px; width:"+(this.leftDivWidth+c)+"px;'></div>");c=0==this.colBottom.length?jQuery("<div id='"+this.g_ID+"-l-total' class='grid-total-pnl ' style='width:"+(this.leftDivWidth+c)+"px; display:none;'></div>"):jQuery("<div id='"+this.g_ID+"-l-total' class='grid-total-pnl ' style='width:"+(this.leftDivWidth+c)+"px;'></div>");
jQuery(b).insertAfter(a);jQuery(f).appendTo(g);jQuery(k).appendTo(h);jQuery(c).appendTo(e);jQuery(g).appendTo(b);jQuery(h).insertAfter(g);jQuery(e).insertAfter(h);jQuery(d).insertAfter(e);A(this.g_ID+"-l-body").style.overflow="hidden";A(this.g_ID+"-l-outerbody").style.overflow="hidden";A(this.g_ID+"-l-header").style.overflow="hidden";jQuery(this.leftHeaderTable).appendTo(f);0!=this.colBottom.length&&jQuery(this.leftTotalTable).appendTo(c);jQuery(this.leftBodyTable).appendTo(k);a=this.scrollOffset;
this.dynamicGrid&&(a=0);jQuery("#"+this.g_ID+"-header").css("width",parseFloat(jQuery("#"+this.g_ID+"-header").css("width"))+a+"px");0<this.colBottom.length?(jQuery("#"+this.g_ID+"-body").css("width",parseFloat(jQuery("#"+this.g_ID+"-body").css("width"))+a+"px"),jQuery("#"+this.g_ID+"-total").css("width",parseFloat(jQuery("#"+this.g_ID+"-total").css("width"))+a+"px")):jQuery("#"+this.g_ID+"-body").css("width",jQuery("#"+this.g_ID+"-body").css("width")+"px");delete this.leftHeaderTable;delete this.leftBodyTable;
delete this.leftTotalTable},etcEvent:function(a){jQuery("#"+this.g_ID+"-outerbody").on("mouseenter",function(a){}).on("mouseleave",function(a){});"msie"==n.agent.browser?(jQuery(D).bind("keydown",function(c){if(c.ctrlKey&&67==c.keyCode){var b=!1;F==a.g_ID?b=!0:D.activeElement&&(n(a.bodyTable).contains(D.activeElement)?b=!0:a.isColFixLeft&&n(a.lbodyTable).contains(D.activeElement)&&(b=!0));if(b){if(c.target.tagName&&"INPUT"==c.target.tagName)return!0;a.setClipBoard()}}}),jQuery(D).bind("beforecopy",
function(c){c=!1;F==a.g_ID?c=!0:D.activeElement&&(n(a.bodyTable).contains(D.activeElement)?c=!0:a.isColFixLeft&&n(a.lbodyTable).contains(D.activeElement)&&(c=!0));c&&a.setClipBoard()})):"chrome"==n.agent.browser&&(jQuery(D).bind("paste",function(a){}),jQuery(D).bind("beforecopy",function(c){c=!1;F==a.g_ID?c=!0:D.activeElement&&n(a.bodyTable).contains(D.activeElement)&&(c=!0);c&&a.setClipBoard()}));jQuery("#"+this.g_ID+"-bottom").on("click","#first",function(c){if(!(1>=a.pageInfo[0])&&(a.pageInfo[0]=
1,a.onGridPageClick))if("function"==typeof a.onGridPageClick)a.onGridPageClick(a.rowNum,a.pageInfo[0]);else eval(a.onGridPageClick)(a.rowNum,a.pageInfo[0])}).on("click","#prev",function(c){if(!(1>=a.pageInfo[0])&&(c=parseInt(a.pageInfo[0]),c=(Math.floor((c-1)/a.setPaging)-1)*a.setPaging+1,a.pageInfo[0]=1>=c?1:c,a.onGridPageClick))if("function"==typeof a.onGridPageClick)a.onGridPageClick(a.rowNum,a.pageInfo[0]);else eval(a.onGridPageClick)(a.rowNum,a.pageInfo[0])}).on("click","#next",function(c){if(a.pageInfo[0]!=
a.pageInfo[1]&&(c=parseInt(a.pageInfo[0]),a.pageInfo[0]=(Math.floor((c-1)/a.setPaging)+1)*a.setPaging+1,a.onGridPageClick))if("function"==typeof a.onGridPageClick)a.onGridPageClick(a.rowNum,a.pageInfo[0]);else eval(a.onGridPageClick)(a.rowNum,a.pageInfo[0])}).on("click","#last",function(c){if(a.pageInfo[0]!=a.pageInfo[1]&&(c=parseInt(a.pageInfo[1]),a.pageInfo[0]=Math.floor((c-1)/a.setPaging)*a.setPaging+1,a.onGridPageClick))if("function"==typeof a.onGridPageClick)a.onGridPageClick(a.rowNum,a.pageInfo[0]);
else eval(a.onGridPageClick)(a.rowNum,a.pageInfo[0])}).on("change",".ui-pg-selbox",function(){a.rowNum=this.value;if(a.onGridSelectChange)if("function"==typeof a.onGridSelectChange)a.onGridSelectChange(a.rowNum);else eval(a.onGridSelectChange)(a.rowNum)}).on("click","#"+this.g_ID+"-page-num",function(c){if("grid-page-num"==c.target.className&&a.pageInfo[0]!=parseInt(c.target.innerHTML)&&(a.pageInfo[0]=parseInt(c.target.innerHTML),a.onGridPageClick))if("function"==typeof a.onGridPageClick)a.onGridPageClick(a.rowNum,
a.pageInfo[0]);else eval(a.onGridPageClick)(a.rowNum,a.pageInfo[0])})},_topBottomEventPos:function(a,c,b){c={selectedIndex:{x:-1,y:-1,value:""}};var g="",e,h,f="",k="";-1!=b.indexOf("header")?(g=this.maxTitleRowIdx,k="header",-1!=a.parentNode.parentNode.parentNode.parentNode.id.indexOf("-l-header")&&(b="l-header")):-1!=b.indexOf("total")&&(g=this.maxBottomRowIdx,k="total",-1!=a.parentNode.parentNode.parentNode.parentNode.id.indexOf("-l-total")&&(b="l-total"));var d=0;this.multiCheck&&(d+=1);h=a.cellIndex;
e=a.parentNode.rowIndex;var l=a.firstChild;"header"==k&&(l=a.firstChild.firstChild);l?"SELECT"==l.tagName||"INPUT"==l.tagName&&"radio"==l.type?f=l.value:"A"==l.tagName||"BUTTON"==l.tagName?f=l.innerHTML:"INPUT"==l.tagName&&"checkbox"==l.type?jQuery(l).hasClass("grid-multi-check")||(a=jQuery(l).attr("data-nx"),f=l.checked?a.checkValue?a.checkValue:!0:a.unCheckValue?a.unCheckValue:!1):"INPUT"==l.tagName&&(f=n(l).val()):f="header"==k?1<a.childNodes.length?a.childNodes[1].innerHTML:a.firstChild.innerHTML:
a.innerHTML;-1==b.indexOf("-")?this.lbodyTable?(b=A(this.g_ID+"-l-"+k).firstChild.rows[e].cells.length,1<g?0==e%g&&(b-=d):b-=d,h+=b):1<g?0==e%g&&(h-=d):h-=d:0==b.indexOf("l")&&(1<g?0==e%g&&(h-=d):h-=d);c.selectedIndex.x=h;c.selectedIndex.y=e;c.selectedIndex.value=n.replace(f.toString(),"<br>","|");c.selectedIndex.value=n.replace(f.toString(),"&nbsp;"," ");return c},evtHeader:function(a){jQuery("#"+this.g_ID).on("mouseleave",function(c){a.resizing&&a.dragEnd(c)}).on("mousemove",function(c){a.resizing&&
a.dragMove(c)}).on("mouseup",function(c){a.resizing&&a.dragEnd(c)});jQuery("#"+this.g_ID+"-resize").on("mouseup",function(c){a.resizing&&a.dragEnd(c)});jQuery([a.headerDiv,a.lheaderDiv]).on("click","th",function(c){if("tree"==a.type)return!0}).on("mousedown","th",function(c){if("TH"!=c.target.tagName){var b=a._topBottomEventPos(this,c,"header");if(0>b.selectedIndex.x)return;if(1==c.which){if(""!=a.onTitleLButtonDown)if("function"==typeof a.onTitleLButtonDown)a.onTitleLButtonDown(b,a);else eval(a.onTitleLButtonDown)(b,
a)}else if(2!=c.which&&3==c.which&&""!=a.onTitleRButtonDown)if("function"==typeof a.onTitleRButtonDown)a.onTitleRButtonDown(b,a);else eval(a.onTitleRButtonDown)(b,a);return!0}a.onHeaderMouseMove=!0;a.dragStart(c)}).on("mouseup","th",function(c){if(a.resizing)return a.dragEnd(c),!1;var b=a._topBottomEventPos(this,c,"header");if(!(0>b.selectedIndex.x))if(1==c.which){if(""!=a.onTitleLButtonUp)if("function"==typeof a.onTitleLButtonUp)a.onTitleLButtonUp(b,a);else eval(a.onTitleLButtonUp)(b,a)}else if(2!=
c.which&&3==c.which&&""!=a.onTitleRButtonUp)if("function"==typeof a.onTitleRButtonUp)a.onTitleRButtonUp(b,a);else eval(a.onTitleRButtonUp)(b,a)}).on("change","th",function(c){if(a.multiCheck&&0==this.cellIndex&&0==this.parentNode.rowIndex){var b=a.DumpDataLen,g;g=-1!=this.parentNode.parentNode.parentNode.parentNode.id.indexOf("-l-header")?a.lbodyTable:a.bodyTable;for(var e=0;e<b;e++){var h=e*a.maxBodyRowIdx;"disabled"!=g.rows[h].cells[0].firstChild.getAttribute("disabled")&&(a.DumpData[e].ck=c.target.checked,
g.rows[h].cells[0].firstChild.checked=c.target.checked)}if(a.onTitleSelect)if("function"==typeof a.onTitleSelect)a.onTitleSelect(c.target.checked,a);else eval(a.onTitleSelect)(c.target.checked,a)}else if(c=a._topBottomEventPos(this,c,"header"),!(0>c.selectedIndex.x)&&a.onTitleChange)if("function"==typeof a.onTitleChange)a.onTitleChange(c,a);else eval(a.onTitleChange)(c,a)}).on("dbclick","th",function(c){c=a._topBottomEventPos(this,c,"header");if(!(0>c.selectedIndex.x)&&""!=a.onTitleDblClick)if("function"==
typeof a.onTitleDblClick)a.onTitleDblClick(c,a);else eval(a.onTitleDblClick)(c,a)}).on("mouseover","th",function(c){c=a._topBottomEventPos(this,c,"header");if(!(0>c.selectedIndex.x)&&""!=a.onTitleMouseOver)if("function"==typeof a.onTitleMouseOver)a.onTitleMouseOver(c,a);else eval(a.onTitleMouseOver)(c,a)}).on("mouseout","th",function(c){c=a._topBottomEventPos(this,c,"header");if(!(0>c.selectedIndex.x)&&""!=a.onTitleMouseOut)if("function"==typeof a.onTitleMouseOut)a.onTitleMouseOut(c,a);else eval(a.onTitleMouseOut)(c,
a)}).on("blur","th",function(c){c=a._topBottomEventPos(this,c,"header");if(!(0>c.selectedIndex.x)&&""!=a.onTitleBlur)if("function"==typeof a.onTitleBlur)a.onTitleBlur(c,a);else eval(a.onTitleBlur)(c,a)})},_bodyEventPos:function(a){var c={selectedIndex:{x:-1,treeKey:"",y:-1,colName:"",value:""}},b,g,e=a.id.substr((this.g_ID+"-td-").length),h="body";-1!=a.parentNode.parentNode.parentNode.parentNode.id.indexOf("-l-body")&&(h="l-body");var f=this.maxBodyRowIdx,k=0;this.multiCheck&&(k+=1);g=a.parentNode.rowIndex;
g-=g%this.maxBodyRowIdx;b=this.colFix?this.multiCheck?this.lbodyTable.rows[g].cells[1].firstChild.id:this.lbodyTable.rows[g].cells[0].firstChild.id:this.multiCheck?this.bodyTable.rows[g].cells[1].firstChild.id:this.bodyTable.rows[g].cells[0].firstChild.id;g=parseInt(a.parentNode.getAttribute("y"));c.selectedIndex.treeKey=b;b=a.cellIndex;a=a.parentNode.rowIndex;-1==h.indexOf("-")?this.lbodyTable?(h=this.bodyDiv.firstChild.rows[a].cells.length,1<f?0==a%f&&(h-=k):h-=k,b+=h):1<f?0==a%f&&(b-=k):b-=k:0==
h.indexOf("l")&&(1<f?0==a%f&&(b-=k):b-=k);c.selectedIndex.y=g;c.selectedIndex.x=b;c.selectedIndex.colName=e;if(0<=b){if(-1!=e.indexOf("/")){e=e.split("/");g=this.DumpData[g].dt;f=!0;for(k=0;k<e.length;k++)if(g[e[k]])g=g[e[k]];else{f=!1;break}c.selectedIndex.value=f?g:""}else c.selectedIndex.value=this.DumpData[g].dt[e];c.selectedIndex.value=n.replace(c.selectedIndex.value.toString(),"<br>","\\n");c.selectedIndex.value=n.replace(c.selectedIndex.value.toString(),"&nbsp;"," ")}return c},evtBody:function(a){n.subscribe("widget.reset",
function(c){"*"==c.target?a.removeAll():c.target.contains(a.g_ID)&&a.removeAll()});jQuery(a.outerBodyDiv).on("scroll",function(c){a.outerHeaderDiv.scrollLeft=this.scrollLeft;a.colFix&&(a.louterBodyDiv.scrollTop=this.scrollTop)});jQuery([a.bodyDiv,a.lbodyDiv]).on("mouseover","table",function(c){c=jQuery(c.target).closest("tr");if(0==jQuery(c).length)return!1;for(var b=parseInt(jQuery(c)[0].rowIndex)%parseInt(a.maxBodyRowIdx),g=0;g<parseInt(a.maxBodyRowIdx);g++)jQuery(a.bodyTable.rows[parseInt(jQuery(c)[0].rowIndex)-
b+g]).children("td").addClass("grid-body-hover"),a.colFix&&jQuery(a.lbodyTable.rows[parseInt(jQuery(c)[0].rowIndex)-b+g]).children("td").addClass("grid-body-hover")}).on("mouseout","table",function(c){c=jQuery(c.target).closest("tr");if(0==jQuery(c).length)return!1;for(var b=parseInt(jQuery(c)[0].rowIndex)%parseInt(a.maxBodyRowIdx),g=0;g<parseInt(a.maxBodyRowIdx);g++)jQuery(a.bodyTable.rows[parseInt(jQuery(c)[0].rowIndex)-b+g]).children("td").removeClass("grid-body-hover"),a.colFix&&jQuery(a.lbodyTable.rows[parseInt(jQuery(c)[0].rowIndex)-
b+g]).children("td").removeClass("grid-body-hover")}).on("click","table",function(c){c=jQuery(c.target).closest("tr");if(0==jQuery(c).length)return!0;if(a.clickTR!=jQuery(c)[0].rowIndex){if(-1!=a.clickTR)for(var b=parseInt(a.clickTR)%parseInt(a.maxBodyRowIdx),g=0;g<parseInt(a.maxBodyRowIdx);g++)jQuery(a.bodyTable.rows[parseInt(a.clickTR)-b+g]).children("td").removeClass("grid-body-click"),a.colFix&&jQuery(a.lbodyTable.rows[parseInt(a.clickTR)-b+g]).children("td").removeClass("grid-body-click");b=
parseInt(jQuery(c)[0].rowIndex)%parseInt(a.maxBodyRowIdx);for(g=0;g<parseInt(a.maxBodyRowIdx);g++)jQuery(a.bodyTable.rows[parseInt(jQuery(c)[0].rowIndex)-b+g]).children("td").addClass("grid-body-click"),a.colFix&&jQuery(a.lbodyTable.rows[parseInt(jQuery(c)[0].rowIndex)-b+g]).children("td").addClass("grid-body-click");a.clickTR=jQuery(c)[0].rowIndex}}).on("click",".grid-multi-check",function(c){var b={selectedIndex:{x:-1,treeKey:"",y:-1,colName:"",value:""}},g=this.parentNode.parentNode.rowIndex,g=
a.colFix?a.lbodyTable.rows[g].cells[1].firstChild.id:a.bodyTable.rows[g].cells[1].firstChild.id;b.selectedIndex.treeKey=g;b.selectedIndex.x=-1;b.selectedIndex.value=c.target.checked;a.selectedRow=g;a.selectedCol=-1;a.selectedColName="";a.selectedValue=c.target.checked;if(""!=a.onBodySelect)if("function"==typeof a.onBodySelect)a.onBodySelect(b,a);else eval(a.onBodySelect)(b,a)}).on("change",".grid-multi-check",function(c){var b=this.parentNode.parentNode.rowIndex,g=!1,e=a.DumpDataLen,h;h=a.colFix?
a.lbodyTable.rows[b].cells[1].firstChild.id:a.bodyTable.rows[b].cells[1].firstChild.id;for(var f=b=parseInt(b/a.maxBodyRowIdx);f<e;f++){if(f==b)if(a.DumpData[f].ck=c.target.checked,g=!0,a.multiCheckAutoLeaf)continue;else break;if(g&&a.multiCheckAutoLeaf)if(0==a.DumpData[f].dt[a.treeStruct.key].indexOf(h))a.colFix?a.lbodyTable.rows[f*a.maxBodyRowIdx].cells[0].firstChild.checked=c.target.checked:a.bodyTable.rows[f*a.maxBodyRowIdx].cells[0].firstChild.checked=c.target.checked,a.DumpData[f].ck=c.target.checked;
else break}});jQuery([this.bodyDiv,this.lbodyDiv]).on("click","td",function(c){var b=a._bodyEventPos(this);if(0>b.selectedIndex.x||this.firstChild&&""!=this.firstChild.tagName&&(jQuery(this.firstChild).attr("disabled")||jQuery(this.firstChild).attr("readonly")||"false"==jQuery(this.firstChild).attr("contenteditable")))return!0;if(""!=a.onBodyClick){var g=this.getAttribute("st");if("li"==g&&c.target&&"A"!=c.target.tagName||jQuery(this).hasClass("grid-editable-td")&&("in"==g||"se"==g||"ed"==g)||("ra"==
g||"ch"==g)&&"LABEL"==c.target.tagName)return!0;if("function"==typeof a.onBodyClick)a.onBodyClick(b,a);else eval(a.onBodyClick)(b,a)}}).on("mousedown","td",function(c){var b=a._bodyEventPos(this);if(0>b.selectedIndex.x)return!0;a.selectedRow=b.selectedIndex.treeKey;a.selectedCol=b.selectedIndex.x;a.selectedColName=b.selectedIndex.colName;a.selectedValue=b.selectedIndex.value;if(this.firstChild&&""!=this.firstChild.tagName&&(jQuery(this.firstChild).attr("disabled")||jQuery(this.firstChild).attr("readonly")||
"false"==jQuery(this.firstChild).attr("contenteditable")))return!0;if(1==c.which){if(""!=a.onBodyLButtonDown)if("function"==typeof a.onBodyLButtonDown)a.onBodyLButtonDown(b,a);else eval(a.onBodyLButtonDown)(b,a)}else if(3==c.which&&""!=a.onBodyRButtonDown)if("function"==typeof a.onBodyRButtonDown)a.onBodyRButtonDown(b,a);else eval(a.onBodyRButtonDown)(b,a)}).on("mouseup","td",function(c){var b=a._bodyEventPos(this);if(0>b.selectedIndex.x)return!0;var g=this.getAttribute("st");"chrome"==n.agent.browser&&
(F=a.g_ID);if("TD"==c.target.tagName&&c.target.firstChild&&"SPAN"==c.target.firstChild.tagName&&("undefined"==typeof c.target.firstChild.style.display||""==c.target.firstChild.style.display)){var e=c.target.firstChild.id,h=b.selectedIndex.value,f=c.target;jQuery(f).removeClass("grid-body-state-err");c.target.firstChild.style.display="none";var k=document.createElement("input");k.id=e;var d=c.target.firstChild.getAttribute("data-nx");c.target.firstChild.getAttribute("maxlength")&&k.setAttribute("maxlength",
c.target.firstChild.getAttribute("maxlength"));k.setAttribute("type","text");k.setAttribute("grid",a.g_ID);f=f.appendChild(k);e=!1;d=n.convertObject(d);d.calendar&&(a.beforeSelected=k,d.required&&(e=!0,d.required=!1,k.setAttribute("calreq","true")));n(f).setNX(d);k=parseInt(this.parentNode.getAttribute("y"));k=a.DumpAttr[k][b.selectedIndex.colName];!1===k.secureMask&&n(f).__secureMasking__(!1);e&&n(f).addClass("state-required");n.isNull(this.style.textAlign)||(f.style.textAlign=this.style.textAlign);
n(f)._val(h);a.isMobile||f.focus()}else if("se"==this.getAttribute("st")&&c.target.tagName&&"P"==c.target.tagName&&-1!=this.className.indexOf("grid-editable-td")&&(f=null,"P"==c.target.tagName?f=c.target:c.target.firstChild&&"P"==c.target.firstChild.tagName&&(f=c.target.firstChild),null!=f)){h=parseInt(this.parentNode.getAttribute("y"));k=a.DumpAttr[h][b.selectedIndex.colName];h=k.opt;f.className="grid-td-select state-hide";var l=document.createElement("select"),m=b.selectedIndex.value,p=!1;if(h)if(k=
function(a,b){var c=document.createElement("option");c.value=b;c.text=a;m==b&&(p=c.selected=!0);l.add(c)},jQuery.isArray(h))for(f=h.length,e=0;e<f;e++)k(h[e].label,h[e].value);else k(h.label,h.value);this.appendChild(l);p||(l.selectedIndex=-1);l.focus()}if(this.firstChild&&""!=this.firstChild.tagName&&(jQuery(this.firstChild).attr("disabled")||jQuery(this.firstChild).attr("readonly")||"false"==jQuery(this.firstChild).attr("contenteditable")))return!0;b.selectedIndex.value=n.replace(b.selectedIndex.value.toString(),
"<br>","\\n");if(1==c.which){if(""!=a.onBodyLButtonUp)if("function"==typeof a.onBodyLButtonUp)a.onBodyLButtonUp(b,a);else eval(a.onBodyLButtonUp)(b,a)}else if(3==c.which&&""!=a.onBodyRButtonUp)if("function"==typeof a.onBodyRButtonUp)a.onBodyRButtonUp(b,a);else eval(a.onBodyRButtonUp)(b,a);if(""!=a.onBodyClick){if("in"!=g&&"se"!=g&&"ed"!=g||!jQuery(this).hasClass("grid-editable-td")||("ra"==g||"ch"==g)&&"LABEL"==c.target.tagName)return!0;if("function"==typeof a.onBodyClick)a.onBodyClick(b,a);else eval(a.onBodyClick)(b,
a)}}).on("dblclick","td",function(c){c=a._bodyEventPos(this);if(0>c.selectedIndex.x||this.firstChild&&""!=this.firstChild.tagName&&(jQuery(this.firstChild).attr("disabled")||jQuery(this.firstChild).attr("readonly")||"false"==jQuery(this.firstChild).attr("contenteditable")))return!0;if(""!=a.onBodyDblClick)if("function"==typeof a.onBodyDblClick)a.onBodyDblClick(c,a);else eval(a.onBodyDblClick)(c,a)}).on("change","td",function(c){if("checkbox"==c.target.type&&1==a.multiCheck){var b=jQuery("input.grid-multi-check",
a.headerDiv).get(0);b&&(b.checked=a.DumpDataLen==a.getCheckIndex().length)}var b=a._bodyEventPos(this),g=b.selectedIndex.y;if(0>b.selectedIndex.x)return!0;var e=b.selectedIndex.colName;if("checkbox"==c.target.type){var h=c.target.getAttribute("data-nx"),h=(new Function("return "+h))();b.selectedIndex.value=c.target.checked?h.checkValue:h.unCheckValue;c.target.value=b.selectedIndex.value}else b.selectedIndex.value=n(c.target).val();h=n(c.target).val();h=n.replace(h.toString(),"<br>","\\n");if(a.DumpData){if(-1!=
e.indexOf("/")){for(var e=e.split("/"),f=a.DumpData[g].dt,k=0;k<e.length-1;k++)f[e[k]]||(f[e[k]]={}),f=f[e[k]];if(f[e[k]]==h)return!0;f[e[k]]=h}else{if(a.DumpData[g].dt[e]==h)return!0;a.DumpData[g].dt[e]=h}n.isNull(a.DumpData[g].flag)?a.DumpData[g].flag="U":"I"!=a.DumpData[g].flag&&(a.DumpData[g].flag="U")}if("SELECT"==c.target.tagName)for(c=c.target,g=c.selectedIndex,h=0,e=c.options.length;h<e;h++)f=c.options[h],h==g?jQuery(f).attr("selected","selected"):(f.getAttribute("selected"),k=document.createElement("option"),
k.value=f.value,k.innerHTML=f.text,c.replaceChild(k,f));if(""!=a.onBodyChange)if("function"==typeof a.onBodyChange)a.onBodyChange(b,a);else eval(a.onBodyChange)(b,a)}).on("focus","td",function(c){var b=a._bodyEventPos(this);if(0>b.selectedIndex.x)return!0;null==a.beforeSelected||"true"!=(new Function("return "+a.beforeSelected.getAttribute("data-NX")))().calendar||"none"==jQuery("#calroot").css("display")&&"none"==jQuery("#calymroot").css("display")||(jQuery(a.beforeSelected).trigger("calblur"),a.beforeSelected=
null);if(a.clickTR!=this.parentNode.rowIndex){if(-1!=a.clickTR)for(var g=parseInt(a.clickTR)%parseInt(a.maxBodyRowIdx),e=0;e<parseInt(a.maxBodyRowIdx);e++)jQuery(a.bodyTable.rows[parseInt(a.clickTR)-g+e]).children("td").removeClass("grid-body-click"),a.colFix&&jQuery(a.lbodyTable.rows[parseInt(a.clickTR)-g+e]).children("td").removeClass("grid-body-click");g=parseInt(this.parentNode.rowIndex)%parseInt(a.maxBodyRowIdx);for(e=0;e<parseInt(a.maxBodyRowIdx);e++)jQuery(a.bodyTable.rows[parseInt(this.parentNode.rowIndex)-
g+e]).children("td").addClass("grid-body-click"),a.colFix&&jQuery(a.lbodyTable.rows[parseInt(this.parentNode.rowIndex)-g+e]).children("td").addClass("grid-body-click");a.clickTR=this.parentNode.rowIndex}if(!a.isMobile)if("SPAN"==c.target.tagName){var h=c.target.id,e=b.selectedIndex.value,f=c.target.parentNode;jQuery(f).removeClass("grid-body-state-err");c.target.style.display="none";g=document.createElement("input");g.id=h;0==b.selectedIndex.x&&(g.style.width="60%");h=c.target.getAttribute("data-nx");
c.target.getAttribute("maxlength")&&g.setAttribute("maxlength",c.target.getAttribute("maxlength"));g.setAttribute("type","text");g.setAttribute("grid",a.g_ID);var f=f.appendChild(g),k=n.convertObject(h),h=!1;k.calendar&&(a.beforeSelected=g,k.required&&(h=!0,k.required=!1,g.setAttribute("calreq","true")));n(f).setNX(k);k=parseInt(this.parentNode.getAttribute("y"));k=a.DumpAttr[k][b.selectedIndex.colName];!1===k.secureMask&&n(f).__secureMasking__(!1);h&&n(f).addClass("state-required");n.isNull(this.style.textAlign)||
(f.style.textAlign=this.style.textAlign);n(f)._val(e);a.isMobile||g.focus()}else b.selectedIndex.value=b.selectedIndex.value;if("P"==c.target.tagName&&"se"==this.getAttribute("st")){if("SELECT"==document.activeElement.tagName)return!0;e=parseInt(this.parentNode.getAttribute("y"));k=a.DumpAttr[e][b.selectedIndex.colName];g=k.opt;c.target.className="grid-td-select state-hide";jQuery(this).addClass("grid-select-show");var d=document.createElement("select"),l=b.selectedIndex.value,m=!1;if(g)if(c=function(a,
b){var c=document.createElement("option");c.value=b;c.text=a;l==b&&(m=c.selected=!0);d.add(c)},jQuery.isArray(g))for(b=g.length,e=0;e<b;e++)c(g[e].label,g[e].value);else c(g.label,g.value);this.appendChild(d);m||(d.selectedIndex=-1);d.focus();return!0}if(!n.isNull(c.target.tagName)&&"SPAN"==c.target.tagName)return!0;if(""!=a.onBodyFocus)if("function"==typeof a.onBodyFocus)a.onBodyFocus(b,a);else eval(a.onBodyFocus)(b,a)}).on("focusout","td",function(c){if("msie"==n.agent.browser&&"TD"==c.target.tagName&&
c.target.firstChild&&"P"==c.target.firstChild.tagName||"P"==c.target.tagName)return!0;var b=a._bodyEventPos(this);if(0>b.selectedIndex.x)return!0;var g=b.selectedIndex.y,e=b.selectedIndex.colName;b.selectedIndex.value=n(c.target).val();if(null==b.selectedIndex.value||"undefined"==typeof b.selectedIndex.value)b.selectedIndex.value="";if("INPUT"==c.target.tagName&&"text"==c.target.type){var h="",f=c.target.id,k=!0,d=c.target.parentNode,l=(new Function("return "+c.target.getAttribute("data-nx")))(),
m=n(c.target).val(),m=n.replace(m.toString(),"<br>","\\n");if("date"==l.type&&""!=a.beforeSelectedVal&&a.beforeSelectedVal!=m){if(a.DumpData){if(-1!=e.indexOf("/")){for(var e=e.split("/"),p=a.DumpData[g].dt,q=0;q<e.length-1;q++)p=p[e[q]];if(p[e[q]]==m)return!0;p[e[q]]=m}else{if(a.DumpData[g].dt[e]==m)return!0;a.DumpData[g].dt[e]=m}n.isNull(a.DumpData[g].flag)?a.DumpData[g].flag="U":"I"!=a.DumpData[g].flag&&(a.DumpData[g].flag="U")}a.beforeSelectedVal=""}else if(a.DumpData){if(-1!=e.indexOf("/")){e=
e.split("/");p=a.DumpData[g].dt;for(q=0;q<e.length-1;q++)p=p[e[q]];p[e[q]]==m&&(k=!1);p[e[q]]=m}else a.DumpData[g].dt[e]==m&&(k=!1),a.DumpData[g].dt[e]=m;k&&(n.isNull(a.DumpData[g].flag)?a.DumpData[g].flag="U":"I"!=a.DumpData[g].flag&&(a.DumpData[g].flag="U"))}if(""!=n(c.target).val()&&"undefined"!=typeof l.type&&"text"!=l.type)if(m=n(c.target)._isValid(!0))"date"==l.type&&n(c.target)._setHoliday(),h=n(c.target).valMask();else return!1;else if(l.required&&(m=n(c.target)._isValid(!0),!m))return!1;
if(k&&""!=a.onBodyChange)if("function"==typeof a.onBodyChange)a.onBodyChange(b,a);else eval(a.onBodyChange)(b,a);""!=n(c.target).val()&&(h=l.currency?l.currency+n(c.target).valMask():n(c.target).valMask());if(!a.isMobile&&!l.calendar){var k=!0,r=a.DumpAttr[g][b.selectedIndex.colName];n.isNull(r.secureMask)||r.secureMask||(k=!1);try{for(d.removeChild(c.target),r=0;r<d.childNodes.length;r++)if(f==d.childNodes[r].id){h=n.replace(h.toString()," ","&nbsp;");h=n.replace(h.toString(),"<","&lt;");h=n.replace(h.toString(),
">","&gt;");""==h||!l.type||"card"!=l.type&&"an"!=l.type&&"sec"!=l.type&&"pn"!=l.type&&"dln"!=l.type&&"tel"!=l.type&&"phone"!=l.type&&"nm"!=l.type&&"cln"!=l.type&&"cvt"!=l.type&&"dlnA"!=l.type&&"mobile"!=l.type&&"email"!=l.type&&"sbnAll"!=l.type&&"ssn"!=l.type&&"foreign"!=l.type&&"ssnAll"!=l.type&&"emailid"!=l.type&&"pln"!=l.type||(h=k?n.secureMask(h,l.type):n.__valMaskGrid__(h,l.type));d.childNodes[r].innerHTML=n.replace(h.toString(),"\n","<BR>");d.childNodes[r].style.display="";break}}catch(x){return!1}}else if(!a.isMobile&&
l.calendar)if(l.mask&&7==l.mask.length){if(jQuery("#calymroot")&&"none"==jQuery("#calymroot").css("display")){if("true"==n(c.target).attr("calreq")&&""==n(c.target).val())return n(c.target).addClass("state-error-required"),n(c.target)._showAlertTooltip("필수 입력 필드입니다.",!0),!1;try{for(d.removeChild(c.target),r=0;r<d.childNodes.length;r++)if(f==d.childNodes[r].id){d.childNodes[r].innerHTML=h;d.childNodes[r].style.display="";break}}catch(x){return!1}}}else if(jQuery("#calroot")&&"none"==jQuery("#calroot").css("display")){if("true"==
n(c.target).attr("calreq")&&""==n(c.target).val())return n(c.target).addClass("state-error-required"),n(c.target)._showAlertTooltip("필수 입력 필드입니다.",!0),!1;try{for(d.removeChild(c.target),r=0;r<d.childNodes.length;r++)if(f==d.childNodes[r].id){d.childNodes[r].innerHTML=h;d.childNodes[r].style.display="";break}}catch(x){return!1}}if(jQuery("#calroot")&&"none"!=jQuery("#calroot").css("display")&&"undefined"!=typeof jQuery("#calroot").css("display")||jQuery("#calymroot")&&"none"!=jQuery("#calymroot").css("display")&&
"undefined"!=typeof jQuery("#calymroot").css("display"))return!0}else"se"==this.getAttribute("st")&&"SELECT"==c.target.tagName&&(this.firstChild.className="grid-td-select",jQuery(this).removeClass("grid-select-show"),d="",l=c.target,h=l.selectedIndex,-1!=h&&(d=l.options[h].text),this.firstChild.innerHTML=d,c.target.parentNode.removeChild(c.target));b.selectedIndex.value=n.replace(b.selectedIndex.value.toString(),"<br>","\\n");if(!n.isNull(c.target.tagName)&&"SPAN"==c.target.tagName)return!0;if(""!=
a.onBodyBlur)if("function"==typeof a.onBodyBlur)a.onBodyBlur(b,a);else eval(a.onBodyBlur)(b,a)}).on("keydown","td",function(c){if("checkbox"==c.target.type&&0==this.cellIndex&&a.multiCheck)return!0;if("SPAN"==c.target.tagName)return!1;var b=a._bodyEventPos(this);if(0>b.selectedIndex.x)return!0;b.selectedIndex.keyCode=c.keyCode;if(a.onBodyKeyDown)if("function"==typeof a.onBodyKeyDown)a.onBodyKeyDown(b,a);else eval(a.onBodyKeyDown)(b,a);return!0}).on("keyup","td",function(c){if("checkbox"==c.target.type&&
0==this.cellIndex&&a.multiCheck)return!0;if("SPAN"==c.target.tagName)return!1;var b=a._bodyEventPos(this);if(0>b.selectedIndex.x)return!0;b.selectedIndex.keyCode=c.keyCode;if(""!=a.onBodyKeyUp)if("function"==typeof a.onBodyKeyUp)a.onBodyKeyUp(b,a);else eval(a.onBodyKeyUp)(b,a);return!0}).on("keypress","td",function(c){if("checkbox"==c.target.type&&0==this.cellIndex&&a.multiCheck)return!0;if("SPAN"==c.target.tagName)return!1;var b=a._bodyEventPos(this);if(0>b.selectedIndex.x)return!0;b.selectedIndex.keyCode=
c.keyCode;if(""!=a.onBodyKeyPress)if("function"==typeof a.onBodyKeyPress)a.onBodyKeyPress(b,a);else eval(a.onBodyKeyPress)(b,a);return!0}).on("calblur","td",function(c){var b=a._bodyEventPos(this);if(0>b.selectedIndex.x)return!0;var g="";""!=n(c.target)._val()&&(g=n(c.target).valMask(),b.selectedIndex.value=n(c.target).val());if(!a.isMobile){var e=c.target.parentNode,h=c.target.id;try{for(e.removeChild(c.target),c=0;c<e.childNodes.length;c++)if(h==e.childNodes[c].id){e.childNodes[c].innerHTML=g;e.childNodes[c].style.display=
"";break}}catch(f){return!1}}a.beforeSelected=null;if(""!=a.onBodyBlur)if("function"==typeof a.onBodyBlur)a.onBodyBlur(b,a);else eval(a.onBodyBlur)(b,a)}).on("calchange","td",function(c){for(var b=c.target.parentNode,g=c.target.id,e=n(c.target).val(),h=0;h<b.childNodes.length;h++)if(g==b.childNodes[h].id){b.childNodes[h].innerHTML=jQuery(c.target).val();break}jQuery(c.target).trigger("focusout");a.beforeSeletedVal=e;n(c.target).trigger("focus")}).on("mouseover","td",function(c){var b=a._bodyEventPos(this);
if(0>b.selectedIndex.x)return!0;if("DIV"==c.target.tagName)if("grid-graph-range"==c.target.className){var g=c.target.firstChild.style.width;n(c.target).showTooltip(g)}else"grid-graph-mark-range"==c.target.className&&(g=c.target.style.width,n(c.target).showTooltip(g));if(""!=a.onBodyMouseOver)if("function"==typeof a.onBodyMouseOver)a.onBodyMouseOver(b,a);else eval(a.onBodyMouseOver)(b,a)}).on("mouseout","td",function(c){c=a._bodyEventPos(this);if(0>c.selectedIndex.x)return!0;if(""!=a.onBodyMouseOut)if("function"==
typeof a.onBodyMouseOut)a.onBodyMouseOut(c,a);else eval(a.onBodyMouseOut)(c,a)})},evtBottom:function(a){jQuery("#"+this.g_ID+"-outertotal").on("scroll",function(c){A(a.g_ID+"-outerbody").scrollLeft=this.scrollLeft;A(a.g_ID+"-outerheader").scrollLeft=this.scrollLeft});jQuery("#"+this.g_ID+"-total").on("mousedown","td",function(c){var b=a._topBottomEventPos(this,c,"total");if(!(0>b.selectedIndex.x)){if(1==c.which){if(""!=a.onBottomLButtonDown)if("function"==typeof a.onBottomLButtonDown)a.onBottomLButtonDown(b,
a);else eval(a.onBottomLButtonDown)(b,a)}else if(3==c.which&&""!=a.onBottomRButtonDown)if("function"==typeof a.onBottomRButtonDown)a.onBottomRButtonDown(b,a);else eval(a.onBottomRButtonDown)(b,a);return!0}}).on("mouseup","td",function(c){if("INPUT"==c.target.tagName)return!0;var b=a._topBottomEventPos(this,c,"total");if(!(0>b.selectedIndex.x)){if(1==c.which){if(""!=a.onBottomLButtonUp)if("function"==typeof a.onBottomLButtonUp)a.onBottomLButtonUp(b,a);else eval(a.onBottomLButtonUp)(b,a)}else if(3==
c.which&&""!=a.onBottomRButtonUp)if("function"==typeof a.onBottomRButtonUp)a.onBottomRButtonUp(b,a);else eval(a.onBottomRButtonUp)(b,a);return!0}}).on("dblclick","td",function(c){if("INPUT"==c.target.tagName)return!0;c=a._topBottomEventPos(this,c,"total");if(!(0>c.selectedIndex.x)&&""!=a.onBottomDblClick)if("function"==typeof a.onBottomDblClick)a.onBottomDblClick(c,a);else eval(a.onBottomDblClick)(c,a)}).on("change","td",function(c){c=a._topBottomEventPos(this,c,"total");if(!(0>c.selectedIndex.x)&&
a.onBottomChange)if("function"==typeof a.onBottomChange)a.onBottomChange(c,a);else eval(a.onBottomChange)(c,a)}).on("focus","on",function(c){if("INPUT"==c.target.tagName)return!0;c=a._topBottomEventPos(this,c,"total");if(!(0>c.selectedIndex.x)&&""!=a.onBottomFocus)if("function"==typeof a.onBottomFocus)a.onBottomFocus(c,a);else eval(a.onBottomFocus)(c,a)}).on("mouseover","td",function(c){c=a._topBottomEventPos(this,c,"total");if(!(0>c.selectedIndex.x)&&""!=a.onBottomMouseOver)if("function"==typeof a.onBottomMouseOver)a.onBottomMouseOver(c,
a);else eval(a.onBottomMouseOver)(c,a)}).on("mouseout","td",function(c){c=a._topBottomEventPos(this,c,"total");if(!(0>c.selectedIndex.x)&&""!=a.onBottomMouseOut)if("function"==typeof a.onBottomMouseOut)a.onBottomMouseOut(c,a);else eval(a.onBottomMouseOut)(c,a)}).on("blur","td",function(c){c=a._topBottomEventPos(this,c,"total");if(!(0>c.selectedIndex.x)&&""!=a.onBottomBlur)if("function"==typeof a.onBottomBlur)a.onBottomBlur(c,a);else eval(a.onBottomBlur)(c,a)})},evtTree:function(a){var c=0;a.multiCheck&&
(c=1);jQuery([a.bodyDiv,a.lbodyDiv]).on("click","button.tree-icon-fold",function(b){b.target.className="tree-icon-spread";var g=b.target.id,e=g.split(a.treeStruct.separate).length;for(b=b.target.parentNode.parentNode.rowIndex+a.maxBodyRowIdx;b<a.DumpDataLen*a.maxBodyRowIdx;b+=a.maxBodyRowIdx){var h;h=a.colFix?a.lbodyTable.rows[b].cells[c].firstChild.id:a.bodyTable.rows[b].cells[c].firstChild.id;if(h.split(a.treeStruct.separate).length==e+1&&0==h.indexOf(g))for(var f=0;f<a.maxBodyRowIdx;f++)jQuery(a.bodyTable.rows[b+
f]).removeClass(),a.colFix&&jQuery(a.lbodyTable.rows[b+f]).removeClass();if(h.split(a.treeStruct.separate).length==e)break}a.repaint();if(""!=a.onBodyFolderClick)if(g={selectedIndex:{treeKey:g,folded:!1}},"function"==typeof a.onBodyFolderClick)a.onBodyFolderClick(g,a);else eval(a.onBodyFolderClick)(g,a,a)}).on("click","button.tree-icon-spread",function(b){b.target.className="tree-icon-fold";var g=b.target.id,e=a.treeStruct.separate,h=g.split(e).length;for(b=b.target.parentNode.parentNode.rowIndex+
a.maxBodyRowIdx;b<a.DumpDataLen*a.maxBodyRowIdx;b+=a.maxBodyRowIdx){var f,k;f=a.colFix?a.lbodyTable.rows[b].cells[c].firstChild.id:a.bodyTable.rows[b].cells[c].firstChild.id;k=f.split(e).length;if(0==f.indexOf(g)&&k>h)for(a.bodyTable.rows[b+a.maxBodyRowIdx]&&(subSubSCnt=(a.colFix?a.lbodyTable.rows[b+a.maxBodyRowIdx].cells[c].firstChild.id:a.bodyTable.rows[b+a.maxBodyRowIdx].cells[c].firstChild.id).split(e).length,subSubSCnt>k&&(a.colFix?a.lbodyTable.rows[b].cells[c].firstChild.className="tree-icon-fold":
a.bodyTable.rows[b].cells[c].firstChild.className="tree-icon-fold")),f=0;f<a.maxBodyRowIdx;f++)jQuery(a.bodyTable.rows[b+f]).addClass("state-hide"),a.colFix&&jQuery(a.lbodyTable.rows[b+f]).addClass("state-hide");else break}if(""!=a.onBodyFolderClick)if(g={selectedIndex:{treeKey:g,folded:!0}},"function"==typeof a.onBodyFolderClick)a.onBodyFolderClick(g,a);else eval(a.onBodyFolderClick)(g,a,a)})},dragStart:function(a){var c=a.target.offsetLeft,b;b="mozilla"==n.agent.browser?a.pageX+document.documentElement.scrollLeft:
event.clientX;var g=jQuery("#"+this.g_ID+"-header table").offset().left,e;this.comboboxSpan&&"none"!=jQuery(this.comboboxSpan).css("display")&&jQuery(this.comboboxSpan).hide();e=0;if(this.multiCheck||this.singleCheck)e+=1;this.numbering&&(e+=1);this.colFix&&this.colFix.left&&(e=0);var h="";if("msie"==n.agent.browser&&0==c-b){h=jQuery("#"+this.g_ID+"-header table thead tr th").index(a.target);if(0==h||h<=e)return;e=jQuery("#"+this.g_ID+"-header table thead tr th").eq(h-1);h=n(e).attr("colindex");e=
n(e).attr("id").split("-headertd")}else if(c==b-g){h=jQuery("#"+this.g_ID+"-header table thead tr th").index(a.target);if(0==h||h<=e)return;e=jQuery("#"+this.g_ID+"-header table thead tr th").eq(h-1);h=n(e).attr("colindex");e=n(e).attr("id").split("-headertd")}else if(h=n(a.target).attr("colindex"),e=a.target.id.split("-headertd"),n.isNull(h))return;var f=this.getBottomTdElement("header",e[1]);e[1]=h;if("*"==A(e[0]+"-headercol"+h.toString()).getAttribute("width"))return!1;var c=parseFloat(jQuery(A(this.g_ID+
"-header")).innerWidth()),k=parseFloat(jQuery(this.headerTable).innerWidth()),d=[];if(n.isNull(jQuery(f).attr("colspan")))d.push(parseFloat(A(e[0]+"-headercol"+h.toString()).getAttribute("width")));else for(var l=0,f=jQuery(f).attr("colspan");l<f;l++)d.push(parseFloat(A(e[0]+"-headercol"+(parseInt(h)+l)).getAttribute("width")));b=b-g-A(this.g_ID+"-outerheader").scrollLeft;this.colFix&&(this.colFix.left||this.colFix.mCheck||this.colFix.sCheck||this.colFix.numbering)&&(b+=parseFloat(jQuery("#"+this.g_ID+
"-left").width()));this.resizing={startX:a.clientX,colNm:e,colVal:d,divVal:c,markWidth:b,tableVal:k};jQuery("#"+this.g_ID+"-resize").css("display","block").css("left",b+"px").css("top","0px").css("height",jQuery("#"+this.g_ID).height()-jQuery("#"+this.g_ID+"-buttons").height()+"px");document.onselectstart=function(){return!1}},dragMove:function(a){this.resizing&&(a=a.clientX-this.resizing.startX,jQuery("#"+this.g_ID+"-resize").css("left",this.resizing.markWidth+a+"px"))},dragEnd:function(a){if(this.resizing){a=
a.clientX-this.resizing.startX;for(var c=this.resizing.tableVal+a,b=this.resizing.colVal,g=this.resizing.divVal+a,e=parseInt(this.resizing.colNm[1]),h=0,f=0,k=b.length;f<k;f++)if(5>b[f]+a/k){this.resizing=!1;jQuery("#"+this.g_ID+"-resize").css("display","none");return}jQuery(A(this.g_ID+"-total")).css("width",g.toString()+"px");jQuery(this.headerTable).css("width",c.toString()+"px");f=0;for(k=b.length;f<k;f++)h=b[f]+a/k,A(this.resizing.colNm[0]+"-headercol"+e).setAttribute("width",h+"px"),A(this.resizing.colNm[0]+
"-bodycol"+e).setAttribute("width",h+"px"),""==A(this.g_ID+"-outertotal").style.display&&A(this.resizing.colNm[0]+"-totalcol"+e).setAttribute("width",h+"px"),e++;""==A(this.g_ID+"-outertotal").style.display&&jQuery(this.totalTable).css("width",c.toString()+"px");jQuery(A(this.g_ID+"-header")).css("width",g.toString()+"px");0<this.colBottomLen?jQuery(A(this.g_ID+"-body")).css("width",g.toString()+"px"):jQuery(A(this.g_ID+"-body")).css("width",c.toString()+"px");jQuery(this.bodyTable).css("width",c.toString()+
"px");this.resizing=!1;this.colFix&&this.colFix.right?jQuery("#"+this.g_ID+"-total").css("width",c+"px"):this.colFix&&!this.colFix.right&&jQuery("#"+this.g_ID+"-total").css("width",c+this.scrollOffset+"px");0<this.colBottomLen&&(A(this.g_ID+"-outerbody").scrollLeft=A(this.g_ID+"-outertotal").scrollLeft);0<this.DumpDataLen?A(this.g_ID+"-outerheader").scrollLeft=A(this.g_ID+"-outerbody").scrollLeft:A(this.g_ID+"-outerheader").scrollLeft=A(this.g_ID+"-outertotal").scrollLeft;jQuery("#"+this.g_ID+"-resize").css("display",
"none")}this.resizing=!1;document.onselectstart=function(){return!0}},addDumpData:function(a){this.appendAutoBind||0==this.DumpDataLen||"next"==this.type||(delete this.DumpData,this.DumpData=[],this.emptyRows(),this.DumpDataLen=0);a="object"==typeof a?a:(new Function("return "+a))();for(var c=this.DumpDataLen,b=this.colBodyLen,g={},e=0;e<b;e++){g[this.colBody[e].colName]={};var h=g[this.colBody[e].colName];h.type=this.colBody[e].type;this.colBody[e].options&&(h.opt=this.colBody[e].options);this.colBody[e].caption&&
(h.title=this.colBody[e].caption);h.edit=this.colBody[e].editable?!0:!1;this.colBody[e]["class"]&&(h["class"]=this.colBody[e]["class"]);h.align=this.colBody[e].align?this.colBody[e].align:"center";this.colBody[e].dataNX&&(h.dataNX=this.colBody[e].dataNX);this.colBody[e].maxlength&&(h.maxlength=this.colBody[e].maxlength);this.colBody[e].colSpan&&(h.colSpan=this.colBody[e].colSpan);this.colBody[e].rowSpan&&(h.rowSpan=this.colBody[e].rowSpan);n.isNull(this.colBody[e].secureMask)||this.colBody[e].secureMask||
(h.secureMask=!1)}h=a.length;for(e=0;e<h;e++){this.DumpData[c+e]={};this.DumpData[c+e].dt=a[e];this.DumpAttr[c+e]=n.merge(g);for(var f=0;f<b;f++)if(-1!=this.colBody[f].colName.indexOf("/"))for(var k=this.colBody[f].colName.split("/"),d=this.DumpData[c+e].dt,l=0;l<k.length;l++)if(l+1==k.length){if("undefined"==typeof d[k[l]]||null==d[k[l]])d[k[l]]=""}else{if("undefined"==typeof d[k[l]]||null==d[k[l]])d[k[l]]={};d=d[k[l]]}else if("undefined"==typeof this.DumpData[c+e].dt[this.colBody[f].colName]||null==
this.DumpData[c+e].dt[this.colBody[f].colName])this.DumpData[c+e].dt[this.colBody[f].colName]="";this.DumpData[c+e].type="data";this.DumpData[c+e].flag="S";this.DumpData[c+e].idx=c+e}this.DumpDataLen+=h;0==c?this.addJSONData(0):this.addJSONData(c);this.endTime();a=[];delete a},addJSONData:function(a){var c,b=this.DumpDataLen,g=this.colModelLen,e=this.colHeaderLen,h=0;(this.multiCheck||this.singleCheck)&&h++;0==a&&this.emptyRows();if(b){this.CTRArrLen=this.LTRArrLen=this.TRArrLen=0;this.TRArr=[];this.LTRArr=
[];this.CTRArr=[];for(var f;a<b;){var k=this.DumpData[a].dt[this.treeStruct.key];this.DumpData[a].idx=a+1;var d=!1;if(-1!=k.indexOf(this.treeStruct.separate)){if(0==a)n.logger.log(n.getMessage("W0409",k)),this.DumpData.splice(a,1),b--,d=!0;else{f=this.DumpData[a-1].dt[this.treeStruct.key];var l=k.substring(0,k.lastIndexOf(this.treeStruct.separate));f.substr(0,l.length)!=l&&(n.logger.log(n.getMessage("W0409",k)),this.DumpData.splice(a,1),b--,d=!0)}this.maxDepth<k.split(this.treeStruct.separate).length&&
(this.maxDepth=k.split(this.treeStruct.separate).length)}if(1==d)this.DumpAttr.splice(a,1);else{f=!0;a+1<b&&(d=this.DumpData[a+1].dt[this.treeStruct.key].indexOf(k),l=k.length,0==d&&this.DumpData[a+1].dt[this.treeStruct.key].charAt(l)==this.treeStruct.separate&&(f=!1));1<k.split(this.treeStruct.separate).length?this.TRArr[this.TRArrLen++]='<tr class="state-hide" rindex="1" y="'+a+'">':this.TRArr[this.TRArrLen++]='<tr rindex="1" rindex="1"  y="'+a+'">';this.colFix&&(this.colFix.left||this.colFix.numbering||
this.colFix.mCheck||this.colFix.sCheck)&&(this.LTRArr[this.LTRArrLen++]=this.TRArr[this.TRArrLen-1]);this.CTRArr[this.CTRArrLen++]=this.TRArr[this.TRArrLen-1];l=this.TRArrLen;this.multiCheck&&(1<this.maxBodyRowIdx?this.TRArr[this.TRArrLen++]="<td st=mc rowSpan="+this.maxBodyRowIdx+' style="text-align:center">':this.TRArr[this.TRArrLen++]='<td st=mc style="text-align:center">',this.TRArr[this.TRArrLen++]='<input type="checkbox" class="grid-multi-check" /></td>');if(this.isColFixLeft)for(d=0;d<this.TRArrLen-
l;d++)this.LTRArr[this.LTRArrLen++]=this.TRArr[l+d];else for(d=0;d<this.TRArrLen-l;d++)this.CTRArr[this.CTRArrLen++]=this.TRArr[l+d];for(var l=1,m=0,p=0,q=0,d=0;d<g;d++){this.colModel[d].rowIndex&&l!=this.colModel[d].rowIndex&&(l=this.colModel[d].rowIndex,1<k.split(this.treeStruct.separate).length?this.TRArr[this.TRArrLen++]='<tr class="state-hide" rindex="'+l+'"  y="'+a+'">':this.TRArr[this.TRArrLen++]='<tr rindex="'+l+'"  y="'+a+'">',this.colFix&&this.colFix.left&&(this.LTRArr[this.LTRArrLen++]=
this.TRArr[this.TRArrLen-1]),this.CTRArr[this.CTRArrLen++]=this.TRArr[this.TRArrLen-1],q=p=m=0);if(this.colModel[d].colName){if(-1!=this.colModel[d].colName.indexOf("/")){var r=this.colModel[d].colName.split("/");c=this.DumpData[a].dt;for(var x=!0,z=0;z<r.length;z++)if("undefined"!=typeof c[r[z]])c=c[r[z]];else{x=!1;break}c=x?c:""}else c="undefined"!=typeof this.DumpData[a].dt[this.colModel[d].colName]?this.DumpData[a].dt[this.colModel[d].colName]:"";if(void 0==c||null==c)c="";r=1;this.viewTitle?
(this.colHeader[e-1].rowIndex&&(r=this.colHeader[e-1].rowIndex),r=e/r):(this.colModel[g-1].rowIndex&&(r=this.colModel[g-1].rowIndex),r=g/r);this.colFix&&this.colFix.left&&parseInt(this.colFix.left);x=!1;!0===this.colModel[d].hide&&(x=!0);this.addTreeCell(a,c,d,k,f,q,x)}else this.colFix&&this.colFix.left&&d%r<parseInt(this.colFix.left)?c=this.lbodyTable.childNodes[0].childNodes[m+h]:this.colFix&&(this.colFix.left||this.colFix.mCheck||this.colFix.sCheck)?(c=this.lbodyTable.childNodes[0].childNodes.length,
c=this.bodyTable.childNodes[0].childNodes[m-c+h]):c=this.bodyTable.childNodes[0].childNodes[m+h],x="",c&&(c=c.id,x=n.replace(c,this.g_ID+"-bodycol","")),parseInt(x)!=p&&m--;m++;p++;q++}this.TRArr[this.TRArrLen++]="</tr>";this.colFix&&(this.colFix.left||this.colFix.mCheck||this.colFix.sCheck)&&(this.LTRArr[this.LTRArrLen++]=this.TRArr[this.TRArrLen-1]);this.CTRArr[this.CTRArrLen++]=this.TRArr[this.TRArrLen-1];a++}}jQuery(this.bodyTable.childNodes[1]).append(this.CTRArr.join(""));this.colFix&&(this.colFix.left||
this.colFix.mCheck||this.colFix.sCheck)&&jQuery(this.lbodyTable.childNodes[1]).append(this.LTRArr.join(""));this.repaint();this.endTime()}this.autoCalculateColumn()},addTreeCell:function(a,c,b,g,e,h,f){var k=this.TRArrLen,d="";0==b&&this.treeStruct.icon&&(d='<img class="grid-tree-image" src="',d=e?d+this.treeStruct.icon.leaf:d+this.treeStruct.icon.parent,d+='" />');var l=this.DumpAttr[a][this.colModel[b].colName];if(l.del)return!0;var m=this.colModel[b].colName;this.TRArr[this.TRArrLen++]="<td id="+
this.g_ID+"-td-"+m+' colIndex="'+h+'" ';h="";l.colSpan&&(h+='colspan="'+l.colSpan+'" ');l.rowSpan&&(h+='rowspan="'+l.rowSpan+'" ');this.TRArr[this.TRArrLen++]=h;l.title&&(this.TRArr[this.TRArrLen++]='title="'+l.title+'" ');this.TRArr[this.TRArrLen++]='st="'+this.simpleType[l.type]+'" ';this.TRArr[this.TRArrLen++]=' class="';l.edit&&(this.TRArr[this.TRArrLen++]="grid-editable-td ");l.errf&&(this.TRArr[this.TRArrLen++]="grid-err-td ");l["class"]&&(this.TRArr[this.TRArrLen++]=l["class"]+" ");this.TRArr[this.TRArrLen++]=
'"';var p=h="",q="",r="";if(l.style)for(var x in l.style)r+=x+":"+l.style[x]+"; ";f&&(q=" display:none;");!l.align||l.style&&"undefined"!=typeof l.style["text-align"]||(h="text-align:"+l.align+";");l.style&&"undefined"!=typeof l.style["vertical-align"]||(p="vertical-align:middle;");this.TRArr[this.TRArrLen++]=' style="'+h+" "+p+" "+q+" "+r+'">';f="";f=e?"tree-icon-leaf":"tree-icon-fold";e="";0==b&&(e=g.split(this.treeStruct.separate).length-1,this.TRArr[this.TRArrLen++]='<button type="button" id="'+
g+'" class="'+f+'" style="float:left; margin-left:'+15*e+'px"></button>',this.treeStruct.icon&&(this.TRArr[this.TRArrLen++]=d),e='style="width: 60%;" ');if("input"==l.type){c=n.replace(c.toString()," ","&nbsp;");g=!1;n.isNull(l.secureMask)||l.secureMask||(g=!0);l.edit&&(d="",n.isNull(l.dataNX)?d="{type:'text'}":("date"==l.dataNX.type&&l.dataNX.calendar&&(l.dataNX.grid=!0),d=n.convertString(l.dataNX,!1)),d=n.replace(d,'"',"'"),l.maxlength?this.TRArr[this.TRArrLen++]='<span id="'+this.g_ID+"-"+m+'" maxlength="'+
l.maxlength+'" data-nx="'+d+'" class="grid-body-span" '+e+" contenteditable=true >":this.TRArr[this.TRArrLen++]='<span id="'+this.g_ID+"-"+m+'" data-nx="'+d+'" class="grid-body-span" '+e+" contenteditable=true >");g=this.dataNXFormatVal(c,l.dataNX,l.maxlength,g);if("digit"==l.dataNX.type)if(l.maxlength)if(l.dataNX.padLeft||l.dataNX.padRight)if(this.TRArr[this.TRArrLen++]=g,-1!=m.indexOf("/")){m=m.split("/");d=this.DumpData[a].dt;for(e=0;e<m.length-1;e++)d[m[e]]||(d[m[e]]={}),d=d[m[e]];d[m[e]]=g}else this.DumpData[a].dt[m]=
g;else this.TRArr[this.TRArrLen++]=g;else this.TRArr[this.TRArrLen++]=g;else this.TRArr[this.TRArrLen++]=g;this.TRArr[this.TRArrLen++]=l.edit?"</span></td>":"</td>"}else if("select"==l.type){l.edit?this.TRArr[this.TRArrLen++]='<p class="grid-td-select" '+e+' contenteditable="true">':this.TRArr[this.TRArrLen++]='<p class="grid-td-select" '+e+' contenteditable="false">';d="";if(l.opt)if(e=l.opt,jQuery.isArray(e))for(m=0,g=e.length;m<g;m++)if("undefined"!=typeof c){if(c==e[m].value){d=e[m].label;break}}else{if(e[m].selected){d=
e[m].label;break}}else"undefined"!=typeof c?c==e.value&&(d=e.label):e.selected&&(d=e.label);this.TRArr[this.TRArrLen++]=d;this.TRArr[this.TRArrLen++]="</p></td>"}else if("checkbox"==l.type){d=function(d,e,f){var g="{checkValue:'"+e.checkValue+"',",g=e.unCheckValue?g+("unCheckValue:'"+e.unCheckValue+"'}"):g+"unCheckValue:''}";l.edit?d.TRArr[d.TRArrLen++]="<input data-nx="+g+' id="'+a.toString()+b.toString()+"checkbox"+f.toString()+'" type="checkbox"':d.TRArr[d.TRArrLen++]="<input data-nx="+g+' id="'+
a.toString()+b.toString()+"checkbox"+f.toString()+'" type="checkbox" disabled="dislabed"';"undefined"!=typeof c?c==e.checkValue&&(d.TRArr[d.TRArrLen++]=" checked=true "):e.checked&&(d.TRArr[d.TRArrLen++]=" checked=true ");d.TRArr[d.TRArrLen++]=" />";e.label&&(l.edit?d.TRArr[d.TRArrLen++]='<label for="'+a.toString()+b.toString()+"checkbox"+f.toString()+'" >':d.TRArr[d.TRArrLen++]='<label disabled="disabled" for="'+a.toString()+b.toString()+"checkbox"+f.toString()+'" >',d.TRArr[d.TRArrLen++]=e.label+
"</label>")};if(jQuery.isArray(l.opt))for(m=0,g=l.opt.length;m<g;m++)d(this,l.opt[m],m);else d(this,l.opt,"");this.TRArr[this.TRArrLen++]="</td>"}else if("radio"==l.type){var m=new Date,z=m.getHours()+"_"+m.getMinutes()+"_"+m.getSeconds()+"_"+m.getMilliseconds(),d=function(d,e,f){d.TRArr[d.TRArrLen++]='<input id="'+a.toString()+b.toString()+z+"radio"+f.toString()+'" name="'+a.toString()+b.toString()+z+'radio" type="radio"';l.edit||(d.TRArr[d.TRArrLen++]=' disabled="disabled"');"undefined"!=typeof c?
c==e.value&&(d.TRArr[d.TRArrLen++]=" checked=true "):e.checked&&(d.TRArr[d.TRArrLen++]=" checked=true ");d.TRArr[d.TRArrLen++]='value="'+e.value+'" />';e.label&&(l.edit?d.TRArr[d.TRArrLen++]='<label for="'+a.toString()+b.toString()+z+"radio"+f.toString()+'" >':d.TRArr[d.TRArrLen++]='<label disabled="disabled" for="'+a.toString()+b.toString()+z+"radio"+f.toString()+'" >',d.TRArr[d.TRArrLen++]=e.label+"</label>")};if(jQuery.isArray(l.opt))for(m=0,g=l.opt.length;m<g;m++)d(this,l.opt[m],m);else d(this,
l.opt,"");this.TRArr[this.TRArrLen++]="</td>"}else if("button"==l.type){d="";l.edit||(d="state-disabled ");if(l.opt)if(jQuery.isArray(l.opt))for(m=0,g=l.opt.length;m<g;m++)this.TRArr[this.TRArrLen++]='<button class="',l.opt[m]["class"]&&(this.TRArr[this.TRArrLen++]=l.opt[m]["class"]+" "),this.TRArr[this.TRArrLen++]=d,this.TRArr[this.TRArrLen++]='"',"image"==l.opt[m].type?this.TRArr[this.TRArrLen++]=' type="image">':this.TRArr[this.TRArrLen++]=' type="button">',l.opt[m].label?this.TRArr[this.TRArrLen++]=
l.opt[m].label:this.TRArr[this.TRArrLen++]=c;else this.TRArr[this.TRArrLen++]='<button class="',l.opt["class"]&&(this.TRArr[this.TRArrLen++]=l.opt["class"]+" "),this.TRArr[this.TRArrLen++]=d,this.TRArr[this.TRArrLen++]='"',"image"==l.opt.type?this.TRArr[this.TRArrLen++]=' type="image">':this.TRArr[this.TRArrLen++]=' type="button">',l.opt.label?this.TRArr[this.TRArrLen++]=l.opt.label:this.TRArr[this.TRArrLen++]=c,this.TRArr[this.TRArrLen++]="</button>";else this.TRArr[this.TRArrLen++]='<button class="'+
d+'" type="button">',this.TRArr[this.TRArrLen++]=c,this.TRArr[this.TRArrLen++]="</button>";this.TRArr[this.TRArrLen++]="</td>"}else if("image"==l.type)this.TRArr[this.TRArrLen++]="<img",(c=n.replace(c.toString()," ",""))?this.TRArr[this.TRArrLen++]=' src="'+c+'" /></td>':l.opt&&l.opt.src?this.TRArr[this.TRArrLen++]=' src="'+l.opt.src+'" /></td>':this.TRArr[this.TRArrLen++]=' src="" /></td>';else if("textarea"==l.type){this.TRArr[this.TRArrLen++]="<textarea";l.edit||(this.TRArr[this.TRArrLen++]=" readonly=true");
l.align&&(this.TRArr[this.TRArrLen++]=' style="text-align:'+l.align+"; ");this.TRArr[this.TRArrLen++]='"';if(l.opt)for(g in l.opt)this.TRArr[this.TRArrLen++]=" "+g+'="'+l.opt[g]+'"';this.TRArr[this.TRArrLen++]=' value="'+c+'">'+c+"</textarea></td>"}else"link"==l.type?(this.TRArr[this.TRArrLen++]="<a ",this.isMobile?0==c.length?n.isNull(l.opt.linkType)||"addr"==l.opt.linkType?this.TRArr[this.TRArrLen++]=' href="javascript:void(0)" ></a></td>':this.TRArr[this.TRArrLen++]=' href="'+l.opt.linkType+':" ></a></td>':
n.isNull(l.opt)?this.TRArr[this.TRArrLen++]=' href="'+c+'" >'+c+"</a></td>":n.isNull(l.opt.linkType)||"addr"==l.opt.linkType?n.isNull(l.opt.label)||""==l.opt.label?this.TRArr[this.TRArrLen++]=' href="'+c+'" >'+c+"</a></td>":this.TRArr[this.TRArrLen++]=' href="'+c+'" >'+l.opt.label+"</a></td>":"tel"==l.opt.linkType||"sms"==l.opt.linkType?(c=n.replace(c.toString(),"-",""),m=n.valMask(c,"tel"),n.isNull(l.opt.label)||""==l.opt.label?this.TRArr[this.TRArrLen++]=' href="'+l.opt.linkType+":"+m+'" >'+m+"</a></td>":
this.TRArr[this.TRArrLen++]=' href="'+l.opt.linkType+":"+m+'" >'+l.opt.label+"</a></td>"):"mail"==l.opt.linkType?n.isNull(l.opt.label)||""==l.opt.label?this.TRArr[this.TRArrLen++]=' href="mailTo:'+c+'" >'+c+"</a></td>":this.TRArr[this.TRArrLen++]=' href="mailTo:'+c+'" >'+l.opt.label+"</a></td>":n.isNull(l.opt.label)||""==l.opt.label?this.TRArr[this.TRArrLen++]=' href="'+c+'" >'+c+"</a></td>":this.TRArr[this.TRArrLen++]=' href="'+c+'" >'+l.opt.label+"</a></td>":0==c.length?this.TRArr[this.TRArrLen++]=
' href="javascript:void(0)" ></a></td>':n.isNull(l.opt)?this.TRArr[this.TRArrLen++]=' href="javascript:void(0)" >'+c+"</a></td>":n.isNull(l.opt.linkType)||"addr"==l.opt.linkType?n.isNull(l.opt.label)||""==l.opt.label?this.TRArr[this.TRArrLen++]=' href="javascript:void(0)" >'+c+"</a></td>":this.TRArr[this.TRArrLen++]=' href="javascript:void(0)" >'+l.opt.label+"</a></td>":"tel"==l.opt.linkType||"sms"==l.opt.linkType?(c=n.replace(c.toString(),"-",""),m=n.valMask(c,"tel"),n.isNull(l.opt.label)||""==l.opt.label?
this.TRArr[this.TRArrLen++]=' href="javascript:void(0)" >'+m+"</a></td>":this.TRArr[this.TRArrLen++]=' href="javascript:void(0)" >'+l.opt.label+"</a></td>"):n.isNull(l.opt.label)||""==l.opt.label?this.TRArr[this.TRArrLen++]=' href="javascript:void(0)" >'+c+"</a></td>":this.TRArr[this.TRArrLen++]=' href="javascript:void(0)" >'+l.opt.label+"</a></td>"):"graph"==l.type?(this.TRArr[this.TRArrLen++]='<div id="'+m+'" class="grid-graph-range">',this.TRArr[this.TRArrLen++]='<div class="grid-graph-mark-range" style="width:',
this.TRArr[this.TRArrLen++]=c,this.TRArr[this.TRArrLen++]=';" ></div></div>'):"html"==l.type&&(this.TRArr[this.TRArrLen++]=c);m=1;g=0;this.viewTitle?(this.colHeader[this.colHeaderLen-1].rowIndex&&(m=this.colHeader[this.colHeaderLen-1].rowIndex),g=this.colHeaderLen/m):(this.colModel[this.colModelLen-1].rowIndex&&(m=this.colModel[this.colModelLen-1].rowIndex),g=this.colModelLen/m);if(this.colFix&&this.colFix.left&&b%g<parseInt(this.colFix.left))for(m=0;m<this.TRArrLen-k;m++)this.LTRArr[this.LTRArrLen++]=
this.TRArr[k+m];else for(m=0;m<this.TRArrLen-k;m++)this.CTRArr[this.CTRArrLen++]=this.TRArr[k+m]},toGrid:function(a,c){if(this.autoBind)return this.removeAll(),n.logger.warn("["+this.g_ID+"][toGrid] 해당 함수는 treegrid template에 autoBind:false 속성을 주어야 사용 가능합니다."),alert("["+this.g_ID+"][toGrid] 해당 함수는 treegrid template에 autoBind:false 속성을 주어야 사용 가능합니다."),!1;var b=null,g=null;if(1==arguments.length){if(0==this.ref.length)return n.logger.warn("["+this.g_ID+"][toGrid] grid template에 ref 정보가 없습니다."),alert("["+
this.g_ID+"][toGrid]  grid template에 ref 정보가 없습니다."),!1;b=this.SaveTmpData;g=a}else b=a.__getRawListData__(),g=c;for(var e={},h=this.getRowNum(),f=0;f<this.colBodyLen;f++){e[this.colBody[f].colName]={};var k=e[this.colBody[f].colName];k.type=this.colBody[f].type;this.colBody[f].options&&(k.opt=this.colBody[f].options);this.colBody[f].caption&&(k.title=this.colBody[f].caption);k.edit=this.colBody[f].editable?!0:!1;this.colBody[f]["class"]&&(k["class"]=this.colBody[f]["class"]);k.align=this.colBody[f].align?
this.colBody[f].align:"center";this.colBody[f].dataNX&&(k.dataNX=this.colBody[f].dataNX);this.colBody[f].maxlength&&(k.maxlength=this.colBody[f].maxlength);this.colBody[f].colSpan&&(k.colSpan=this.colBody[f].colSpan);this.colBody[f].rowSpan&&(k.rowSpan=this.colBody[f].rowSpan);n.isNull(this.colBody[f].secureMask)||this.colBody[f].secureMask||(k.secureMask=!1)}for(var d=this,f=0,k=function(a){d.DumpData[h]={flag:"S",type:"data",idx:h,dt:{}};for(var b=0;b<d.colBodyLen;b++)0==n.isNull(a[d.colBody[b].colName])?
d.DumpData[h].dt[d.colBody[b].colName]=a[d.colBody[b].colName]:d.DumpData[h].dt[d.colBody[b].colName]="";return d.DumpData[h].dt},l=function(a){for(var b=0;b<d.colBodyLen;b++)if("undefined"==typeof a[d.colBody[b].colName]&&(a[d.colBody[b].colName]="",selfAttr=d.DumpAttr[h][d.colBody[b].colName],selfAttr.type&&selfAttr.opt&&"select"==selfAttr.type))if(jQuery.isArray(selfAttr.opt))for(var c=0,e=selfAttr.opt.length;c<e;c++){if(selfAttr.opt[c].selected){a[d.colBody[b].colName]=selfAttr.opt[c].value;break}}else selfAttr.opt.selected&&
(a[d.colBody[b].colName]=selfAttr.opt.value);d.DumpData[h].dt=a},m=function(a){a=b[f][a];"undefined"==typeof a&&(a="");return a},p=b.length,f=0;f<p;f++){this.DumpAttr[h]=JSON.parse(JSON.stringify(e));var q=k(b[f]);this.DumpDataLen++;this.DataLen++;b[f].get=m;var r=g(q,b[f],this.DumpData[h].dt[this.treeStruct.key],f);if(1==r)this.DumpDataLen--,this.DataLen--,this.DumpData.splice(h,1)[0],this.DumpAttr.splice(h,1)[0];else{if(0==r){this.DumpDataLen--;this.DataLen--;this.DumpData.splice(h,1)[0];this.DumpAttr.splice(h,
1)[0];break}l(q);h++}}d.addJSONData(0);delete b},toDataSet:function(a,c){var b=[],g=[],e=0,h=[],f=0,k=!1,d=!1,l=!1;"object"==typeof this.HWDataSetOption.flag&&0<this.HWDataSetOption.flag.length&&(g=this.HWDataSetOption.flag,e=this.HWDataSetOption.flag.length);"object"==typeof this.HWDataSetOption.colName&&(0==this.HWDataSetOption.colName.length&&(k=!0),h=this.HWDataSetOption.colName,f=this.HWDataSetOption.colName.length);"boolean"==typeof this.HWDataSetOption.checked&&(d=!0,l=this.HWDataSetOption.checked);
for(var m={},n=function(a){a=m[a];"undefined"==typeof a&&(a="");return a},q=0;q<this.DumpDataLen;q++){if(0<e){for(var r=!1,x=0;x<e;x++)if(this.DumpData[q].flag==g[x]){r=!0;break}if(!r)continue}if(d&&(r=!1,1==l&&this.DumpData[q].ck?r=!0:0!=l||this.DumpData[q].ck||(r=!0),!r))continue;r={};if(0==k&&0==f)for(x=0;x<this.colBodyLen;x++)r[this.colBody[x].colName]=this.DumpData[q].dt[this.colBody[x].colName];else for(x=0;x<f;x++)r[h[x]]=this.DumpData[q].dt[h[x]];m=JSON.parse(JSON.stringify(this.DumpData[q].dt));
m.get=n;x=c(r,m,this.DumpData[q].dt[this.treeStruct.key]);if(1!=x){if(0==x)return;for(var z in r)void 0==r[z]&&(r[z]="");b.push(r)}}a.__setRawListData__(b);this.HWDataSetOption={}},addRow:function(a,c){var b,g=this.DumpDataLen,e=g,h="S";if(0==arguments.length)return!1;c&&(h=c);b="function"==typeof a.getJson?a.getJson():JSON.parse(JSON.stringify(a));b="object"==typeof b?b:(new Function("return "+b))();for(var f={},k=0;k<this.colBodyLen;k++){f[this.colBody[k].colName]={};var d=f[this.colBody[k].colName];
d.type=this.colBody[k].type;this.colBody[k].options&&(d.opt=this.colBody[k].options);this.colBody[k].caption&&(d.title=this.colBody[k].caption);d.edit=this.colBody[k].editable?!0:!1;this.colBody[k]["class"]&&(d["class"]=this.colBody[k]["class"]);d.align=this.colBody[k].align?this.colBody[k].align:"center";this.colBody[k].dataNX&&(d.dataNX=this.colBody[k].dataNX);this.colBody[k].maxlength&&(d.maxlength=this.colBody[k].maxlength);this.colBody[k].colSpan&&(d.colSpan=this.colBody[k].colSpan);this.colBody[k].rowSpan&&
(d.rowSpan=this.colBody[k].rowSpan);n.isNull(this.colBody[k].secureMask)||this.colBody[k].secureMask||(d.secureMask=!1)}if(0==g){if(jQuery.isArray(b)){d=b.length;for(k=0;k<d;k++){for(var l=0;l<this.colBodyLen;l++)if(-1!=this.colBody[l].colName.indexOf("/"))for(var m=this.colBody[l].colName.split("/"),p=b[k],q=0;q<m.length;q++)if(q+1==m.length){if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]=""}else{if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]={};p=p[m[q]]}else if("undefined"==typeof b[k][this.colBody[l].colName]||
null==b[k][this.colBody[l].colName])b[k][this.colBody[l].colName]="";this.DumpData[k]={};this.DumpData[k].flag=h;this.DumpData[k].type="data";this.DumpData[k].dt=b[k];this.DumpAttr[k]=n.merge(f)}this.DumpDataLen=d}else{for(l=0;l<this.colBodyLen;l++)if(-1!=this.colBody[l].colName.indexOf("/"))for(m=this.colBody[l].colName.split("/"),p=b,q=0;q<m.length;q++)if(q+1==m.length){if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]=""}else{if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]={};p=p[m[q]]}else if("undefined"==
typeof b[this.colBody[l].colName]||null==b[this.colBody[l].colName])b[this.colBody[l].colName]="";this.DumpData[0]={};this.DumpData[0].flag=h;this.DumpData[0].type="data";this.DumpData[0].dt=b;this.DumpAttr[0]=n.merge(f);this.DumpDataLen=1}e=0}else if("object"==typeof b[0])for(d=b.length,l=0;l<d;l++){for(k=0;k<this.DumpDataLen;k++)if(this.DumpData[k].dt[this.treeStruct.key]==b[l][this.treeStruct.key]){n.logger.log(n.getMessage("W0408",b[l][this.treeStruct.key]));break}k=b[l][this.treeStruct.key].split(this.treeStruct.separate);
m="";1<k.length&&(m=b[l][this.treeStruct.key].substr(0,b[l][this.treeStruct.key].lastIndexOf(this.treeStruct.separate)));if(m){for(var r=!1,k=0;k<this.DumpDataLen;k++)if(m==this.DumpData[k].dt[this.treeStruct.key]&&(r=!0),r){for(m+=this.treeStruct.separate;;)if(k++,k==this.DumpDataLen||-1==this.DumpData[k].dt[this.treeStruct.key].indexOf(m)){e>k&&(e=k);for(var x={},z=0;z<this.colBodyLen;z++)if(-1!=this.colBody[z].colName.indexOf("/"))for(m=this.colBody[z].colName.split("/"),p=b[l],q=0;q<m.length;q++)if(q+
1==m.length){if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]=""}else{if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]={};p=p[m[q]]}else if("undefined"==typeof b[l][this.colBody[z].colName]||null==b[l][this.colBody[z].colName])b[l][this.colBody[z].colName]="";x.flag=h;x.dt=b[l];x.type="data";this.DumpData.splice(k,0,x);this.DumpAttr.splice(k,0,n.merge(f));this.DumpDataLen++;break}break}if(!r){n.logger.log(n.getMessage("W0409",b[l][this.treeStruct.key]));break}}else{for(z=0;z<this.colBodyLen;z++)if(-1!=
this.colBody[z].colName.indexOf("/"))for(m=this.colBody[l].colName.split("/"),p=b[l],q=0;q<m.length;q++)if(q+1==m.length){if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]=""}else{if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]={};p=p[m[q]]}else if("undefined"==typeof b[l][this.colBody[z].colName]||null==b[l][this.colBody[z].colName])b[l][this.colBody[z].colName]="";this.DumpData[g+l]={};this.DumpData[g+l].flag=h;this.DumpData[g+l].type="data";this.DumpData[g+l].dt=b[l];this.DumpAttr[g+
l]=n.merge(f);this.DumpDataLen++;e>g&&(e=g)}}else{k=b[this.treeStruct.key].split(this.treeStruct.separate);m="";1<k.length&&(m=b[this.treeStruct.key].substr(0,b[this.treeStruct.key].lastIndexOf(this.treeStruct.separate)));for(k=0;k<this.DumpDataLen;k++)if(this.DumpData[k].dt[this.treeStruct.key]==b[this.treeStruct.key])return n.logger.log(n.getMessage("W0408",b[this.treeStruct.key])),!1;if(m){r=!1;for(k=0;k<this.DumpDataLen;k++)if(m==this.DumpData[k].dt[this.treeStruct.key]&&(r=!0),r){for(m+=this.treeStruct.separate;;)if(k++,
k==this.DumpDataLen||-1==this.DumpData[k].dt[this.treeStruct.key].indexOf(m)){e>k&&(e=k);x={};for(z=0;z<this.colBodyLen;z++)if(-1!=this.colBody[z].colName.indexOf("/"))for(m=this.colBody[z].colName.split("/"),p=b,q=0;q<m.length;q++)if(q+1==m.length){if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]=""}else{if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]={};p=p[m[q]]}else if("undefined"==typeof b[this.colBody[z].colName]||null==b[this.colBody[z].colName])b[this.colBody[z].colName]="";x.flag=
h;x.dt=b;x.type="data";this.DumpData.splice(k,0,x);this.DumpAttr.splice(k,0,n.merge(f));this.DumpDataLen++;break}break}if(!r)return n.logger.log(n.getMessage("W0409",b[this.treeStruct.key])),!1}else{for(z=0;z<this.colBodyLen;z++)if(-1!=this.colBody[z].colName.indexOf("/"))for(m=this.colBody[z].colName.split("/"),p=b,q=0;q<m.length;q++)if(q+1==m.length){if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]=""}else{if("undefined"==typeof p[m[q]]||null==p[m[q]])p[m[q]]={};p=p[m[q]]}else if("undefined"==
typeof b[this.colBody[z].colName]||null==b[this.colBody[z].colName])b[this.colBody[z].colName]="";this.DumpData[g]={};this.DumpData[g].flag=h;this.DumpData[g].type="data";this.DumpData[g].dt=b;this.DumpAttr[g]=n.merge(f);this.DumpDataLen++;e>g&&(e=g)}}0!=e&&e--;g=e*this.maxBodyRowIdx;h=this.bodyTable.rows.length;if(0!=h)for(;g<h;)this.bodyTable.deleteRow(g),this.colFix&&this.lbodyTable.deleteRow(g),h--;this.addJSONData(e)},insertRow:function(a,c,b){var g,e=this.DumpDataLen,h,f="S";if(0==arguments.length)return!1;
var k=a.treekey,d="before";void 0!=a.type&&(d=a.type);b&&(f=b);g="function"==typeof c.getJson?c.getJson():JSON.parse(JSON.stringify(c));g="object"==typeof g?g:(new Function("return "+g))();var l={};for(h=0;h<this.colBodyLen;h++){l[this.colBody[h].colName]={};var m=l[this.colBody[h].colName];m.type=this.colBody[h].type;this.colBody[h].options&&(m.opt=this.colBody[h].options);this.colBody[h].caption&&(m.title=this.colBody[h].caption);m.edit=this.colBody[h].editable?!0:!1;this.colBody[h]["class"]&&(m["class"]=
this.colBody[h]["class"]);m.align=this.colBody[h].align?this.colBody[h].align:"center";this.colBody[h].dataNX&&(m.dataNX=this.colBody[h].dataNX);this.colBody[h].maxlength&&(m.maxlength=this.colBody[h].maxlength);this.colBody[h].colSpan&&(m.colSpan=this.colBody[h].colSpan);this.colBody[h].rowSpan&&(m.rowSpan=this.colBody[h].rowSpan);n.isNull(this.colBody[h].secureMask)||this.colBody[h].secureMask||(m.secureMask=!1)}if(0==e){if(jQuery.isArray(g)){e=g.length;for(h=0;h<e;h++){for(d=0;d<this.colBodyLen;d++)if(-1!=
this.colBody[d].colName.indexOf("/"))for(var k=this.colBody[d].colName.split("/"),m=g[h],p=0;p<k.length;p++)if(p+1==k.length){if("undefined"==typeof m[k[p]]||null==m[k[p]])m[k[p]]=""}else{if("undefined"==typeof m[k[p]]||null==m[k[p]])m[k[p]]={};m=m[k[p]]}else if("undefined"==typeof g[h][this.colBody[d].colName]||null==g[h][this.colBody[d].colName])g[h][this.colBody[d].colName]="";this.DumpData[h]={};this.DumpData[h].flag=f;this.DumpData[h].type="data";this.DumpData[h].dt=g[h];this.DumpAttr[h]=n.merge(l)}this.DumpDataLen=
e}else{for(d=0;d<this.colBodyLen;d++)if(-1!=this.colBody[d].colName.indexOf("/"))for(k=this.colBody[d].colName.split("/"),m=g,p=0;p<k.length;p++)if(p+1==k.length){if("undefined"==typeof m[k[p]]||null==m[k[p]])m[k[p]]=""}else{if("undefined"==typeof m[k[p]]||null==m[k[p]])m[k[p]]={};m=m[k[p]]}else if("undefined"==typeof g[this.colBody[d].colName]||null==g[this.colBody[d].colName])g[this.colBody[d].colName]="";this.DumpData[0]={};this.DumpData[0].flag=f;this.DumpData[0].type="data";this.DumpData[0].dt=
g;this.DumpAttr[0]=n.merge(l);this.DumpDataLen=1}h=0}else if("object"==typeof g[0]){e=g.length;h=B(this,k);if(-1==h)return!1;"after"==d&&h++;for(d=0;d<e;d++){for(var q=0;q<this.colBodyLen;q++)if(-1!=this.colBody[q].colName.indexOf("/"))for(k=this.colBody[d].colName.split("/"),m=g[d],p=0;p<k.length;p++)if(p+1==k.length){if("undefined"==typeof m[k[p]]||null==m[k[p]])m[k[p]]=""}else{if("undefined"==typeof m[k[p]]||null==m[k[p]])m[k[p]]={};m=m[k[p]]}else if("undefined"==typeof g[d][this.colBody[q].colName]||
null==g[d][this.colBody[q].colName])g[d][this.colBody[q].colName]="";this.DumpData.splice(h+d,0,{});this.DumpData[h+d].flag=f;this.DumpData[h+d].type="data";this.DumpData[h+d].dt=g[d];this.DumpAttr.splice(h+d,0,n.merge(l));this.DumpDataLen++}}else{h=B(this,k);if(-1==h)return!1;"after"==d&&h++;for(q=0;q<this.colBodyLen;q++)if(-1!=this.colBody[q].colName.indexOf("/"))for(k=this.colBody[q].colName.split("/"),m=g,p=0;p<k.length;p++)if(p+1==k.length){if("undefined"==typeof m[k[p]]||null==m[k[p]])m[k[p]]=
""}else{if("undefined"==typeof m[k[p]]||null==m[k[p]])m[k[p]]={};m=m[k[p]]}else if("undefined"==typeof g[this.colBody[q].colName]||null==g[this.colBody[q].colName])g[this.colBody[q].colName]="";this.DumpData.splice(h,0,{});this.DumpData[h].flag=f;this.DumpData[h].type="data";this.DumpData[h].dt=g;this.DumpAttr.splice(h,0,n.merge(l));this.DumpDataLen++}0!=h&&h--;f=h*this.maxBodyRowIdx;g=this.bodyTable.rows.length;if(0!=g)for(;f<g;)this.bodyTable.deleteRow(f),this.colFix&&this.lbodyTable.deleteRow(f),
g--;this.addJSONData(h)},deleteRow:function(a){var c=a;n.isNull(c)&&(c="");a=!1;var b=[],g=this,e=function(a){g.deleteData.push({dt:g.DumpData.splice(a,1)[0].dt,flag:"D"});g.DumpAttr.splice(a,1)[0];a*=g.maxBodyRowIdx;for(var b=0;b<g.maxBodyRowIdx;b++)g.bodyTable.deleteRow(a),g.colFix&&g.lbodyTable.deleteRow(a)};if(""==c&&this.multiCheck)for(var h=-1,f=0;f<this.DumpDataLen;f++)n.isNull(this.DumpData[f].ck)?""!=c&&0==this.DumpData[f].dt[this.treeStruct.key].indexOf(c+this.treeStruct.separate)&&(e(f),
f--,this.DumpDataLen--):(c=this.DumpData[f].dt[this.treeStruct.key],b.push(c.substring(0,c.lastIndexOf(this.treeStruct.separate))),-1==h&&(h=f*this.maxBodyRowIdx),e(f),this.DumpDataLen--,a=!0,f--);else if(n.isArray(c)){for(var k=!1,d=0,l=c.length;d<l;d++)for(f=0;f<this.DumpDataLen;f++)if(0==this.DumpData[f].dt[this.treeStruct.key].indexOf(c[d])&&(b.push(c[d].substring(0,c[d].lastIndexOf(this.treeStruct.separate))),e(f),a=k=!0,this.DumpDataLen--),a){for(h=f;h<this.DumpDataLen;h++)if(0==this.DumpData[h].dt[this.treeStruct.key].indexOf(c[d]+
this.treeStruct.separate))e(h),h--,this.DumpDataLen--;else break;a=!1;break}a=k}else for(f=0;f<this.DumpDataLen;f++)if(0==this.DumpData[f].dt[this.treeStruct.key].indexOf(c)&&(b.push(c.substring(0,c.lastIndexOf(this.treeStruct.separate))),e(f),a=!0,this.DumpDataLen--),a){for(h=f;h<this.DumpDataLen;h++)if(0==this.DumpData[h].dt[this.treeStruct.key].indexOf(c+this.treeStruct.separate))e(h),h--,this.DumpDataLen--;else break;break}c=b.length;if(0!=c)for(e=null,e=this.colFix?this.lbodyTable:this.bodyTable,
f=0;f<c;f++)for(h=k=0;h<this.DumpDataLen;h++)if(0==this.DumpData[h].dt[this.treeStruct.key].indexOf(b[f])){if(k++,1<k)break}else if(0<k){this.multiCheck?e.rows[h*this.maxBodyRowIdx].cells[1].firstChild.className="tree-icon-leaf":e.rows[h*this.maxBodyRowIdx].cells[0].firstChild.className="tree-icon-leaf";break}a&&(this.repaint(),this.clickTR=-1)},removeAll:function(){this.emptyRows();delete this.DumpData;delete this.deleteData;this.DumpData=[];this.DumpAttr=[];this.DataLen=this.DumpDataLen=0;this.deleteData=
[];delete this.filterTmpCellData;this.filterTmpCellData=[];this.selectedRow="";this.selectedCol=-1;this.selectedValue=this.selectedColName="";this.lastClickTR=this.clickTR=-1;this.clickTD=[]},repaint:function(a){var c=0,b="",g=this.bodyTable;this.colFix&&(g=this.lbodyTable);for(var e=0,h=this.bodyTable.rows.length;e<h;e+=this.maxBodyRowIdx)if(a&&(""==b?b=this.multiCheck?g.rows[e].cells[1].firstChild.id:g.rows[e].cells[0].firstChild.id:this.multiCheck?0==g.rows[e].cells[1].firstChild.id.indexOf(b)?
"tree-icon-leaf"!=g.rows[e-1].cells[1].firstChild.className&&(jQuery(g.rows[e]).hasClass("state-hide")?g.rows[e-1].cells[1].firstChild.className="tree-icon-fold":g.rows[e-1].cells[1].firstChild.className="tree-icon-spread"):b=g.rows[e].cells[1].firstChild.id:0==g.rows[e].cells[0].firstChild.id.indexOf(b)?"tree-icon-leaf"!=g.rows[e-1].cells[0].firstChild.className&&(jQuery(g.rows[e]).hasClass("state-hide")?g.rows[e-1].cells[0].firstChild.className="tree-icon-fold":g.rows[e-1].cells[0].firstChild.className=
"tree-icon-spread"):b=g.rows[e].cells[0].firstChild.id),1<this.maxBodyRowIdx?(this.bodyTable.rows[e].setAttribute("y",e/this.maxBodyRowIdx),this.colFix&&this.lbodyTable.rows[e].setAttribute("y",e/this.maxBodyRowIdx)):(this.bodyTable.rows[e].setAttribute("y",e),this.colFix&&this.lbodyTable.rows[e].setAttribute("y",e)),!jQuery(this.bodyTable.rows[e]).hasClass("state-hide")){if(1==c%2)for(var f=0;f<this.maxBodyRowIdx;f++)jQuery(this.bodyTable.rows[e+f]).addClass("grid-body-even"),jQuery(this.bodyTable.rows[e+
f]).removeClass("grid-body-odd"),this.colFix&&(jQuery(this.lbodyTable.rows[e+f]).addClass("grid-body-even"),jQuery(this.lbodyTable.rows[e+f]).removeClass("grid-body-odd"));else for(f=0;f<this.maxBodyRowIdx;f++)jQuery(this.bodyTable.rows[e+f]).addClass("grid-body-odd"),jQuery(this.bodyTable.rows[e+f]).removeClass("grid-body-even"),this.colFix&&(jQuery(this.lbodyTable.rows[e+f]).addClass("grid-body-odd"),jQuery(this.lbodyTable.rows[e+f]).removeClass("grid-body-even"));c++}},getRowTreeKey:function(a){a=
parseInt(a);a=0>a||a>=this.getRowNum()?"":this.DumpData[a].dt[this.treeStruct.key];return a},setCell:function(a,c,b){a=B(this,a);if(-1==a)return!1;c=C(this,a,c);var g=this.getBodyTdElement(a,c);if(0<this.DumpDataLen){var e=this.DumpData[a];e.flag="U";if(-1!=c.indexOf("/")){for(var h=c.split("/"),e=e.dt,f=0;f<h.length-1;f++)e[h[f]]||(e[h[f]]={}),e=e[h[f]];e[h[f]]=b}else e.dt[c]=b;if(n.isNull(g))return!0;this.cellFormatData(b,this.DumpAttr[a][c],g,this.colBodyColumn[c])}},cellFormatData:function(a,
c,b,g){var e=c.type,h=c.dataNX,f=c.opt,k=c.maxlength,d=null;"html"!=e&&(a=n.replace(a.toString(),"<","&lt;"));a=n.replace(a.toString(),"\\n","<br>");if("input"==e){a=n.replace(a.toString()," ","&nbsp;");e=0;0==g&&(e=this.treeStruct.icon?2:1);if(this.isMobile)for(;e<b.childNodes.length;e++){if("INPUT"==b.childNodes[e].tagName&&"text"==b.childNodes[e].type){d=b.childNodes[e];break}}else for(;e<b.childNodes.length;e++)if("SPAN"==b.childNodes[e].tagName){d=b.childNodes[e];"INPUT"==jQuery(d).next().prop("tagName")&&
(d=jQuery(d).next());break}e=!1;n.isNull(c.secureMask)||c.secureMask||(e=!0);null==d?0==g?(this.treeStruct.icon?2<b.childNodes.length&&b.removeChild(b.childNodes[2]):1<b.childNodes.length&&b.removeChild(b.childNodes[1]),a=n.isNull(h)?a:this.dataNXFormatVal(a,h,k,e),b.innerHTML+=a):(a=n.isNull(h)?a:this.dataNXFormatVal(a,h,k,e),b.innerHTML=a):this.isMobile?n(d).val(a):n.isNull(h)?d.innerHTML=a:d.innerHTML=this.dataNXFormatVal(a,h,k,e)}else if("select"==e){for(e=0;e<b.childNodes.length;e++)if("P"==
b.childNodes[e].tagName){d=b.childNodes[e];break}if(null==d)return!1;1==jQuery(d).next().length&&(d.className="",jQuery(d).next().remove());b="";if(f)if(jQuery.isArray(f))for(e=0,c=f.length;e<c;e++){if(a==f[e].value){b=f[e].label;break}}else a==f.value&&(b=f.label);d.innerHTML=b}else if("checkbox"==e){if(a)for(e=0;e<b.childNodes.length;e++)d=b.childNodes[e],"checkbox"==d.type&&(f=d.getAttribute("data-nx"),f=(new Function("return "+f))(),a==f.checkValue?(d.checked=!0,d.value=a):(d.checked=!1,d.value=
f.unCheckValue))}else if("link"==e){for(e=0;e<b.childNodes.length;e++)if("A"==b.childNodes[e].tagName){d=b.childNodes[e];break}if(null==d)return!1;n.isNull(f)||n.isNull(f.linkType)||"addr"==f.linkType?(d.href="javascript:void(0)",0<a.length?d.innerHTML=a:n.isNull(f)||n.isNull(f.label)?d.innerHTML="":d.innerHTML=f.label):"tel"==f.linkType||"sms"==f.linkType?(a=n.replace(a.toString(),"-",""),b="","02"==a.substr(0,2)?b=10>a.length?a.substr(0,2)+"-"+a.substr(2,3)+"-"+a.substr(5,4):a.substr(0,2)+"-"+a.substr(2,
4)+"-"+a.substr(6,4):0<a.length&&(b=11>a.length?a.substr(0,3)+"-"+a.substr(3,3)+"-"+a.substr(6,4):a.substr(0,3)+"-"+a.substr(3,4)+"-"+a.substr(7,4)),d.href=this.isMobile?f.linkType+":"+b:"javascript:void(0)",0<a.length?d.innerHTML=b:n.isNull(f.label)?d.innerHTML="":d.innerHTML=f.label):(d.href="mail"==f.linkType?this.isMobile?"mailto:"+a:"javascript:void(0)":"javascript:void(0)",0<a.length?d.innerHTML=a:n.isNull(f.label)?d.innerHTML="":d.innerHTML=f.label)}else if("radio"==e){if(a)for(e=0;e<b.childNodes.length;e++)d=
b.childNodes[e],"radio"==d.type&&a==d.value&&(d.checked=!0)}else if("textarea"==e){for(e=0;e<b.childNodes.length;e++)if("TEXTAREA"==b.childNodes[e].tagName){d=b.childNodes[e];break}if(null==d)return!1;d.value=a}else if("image"==e)a=n.replace(a.toString()," ",""),d.src=a?a:f&&f.src?f.src:"";else if("graph"==e){for(e=0;e<b.childNodes.length;e++)if("DIV"==b.childNodes[e].tagName){d=b.childNodes[e];break}if(null==d)return!1;a?jQuery(d.fistChild).css("width",a):jQuery(d.fistChild).css("width","0%")}else"html"==
e&&(b.innerHTML=a?a:"")},getCell:function(a,c,b){var g;a=B(this,a);if(-1==a)return!1;var e=this.DumpData[a];c=C(this,a,c);a=this.DumpAttr[a][c];if(-1!=c.indexOf("/")){g=c.split("/");for(var e=e.dt,h=!0,f=0;f<g.length;f++)if(e[g[f]])e=e[g[f]];else{h=!1;break}g=h?e:""}else g=n.isNull(e.dt[c])?"":e.dt[c];return b?this.dataFormatTempVal(c,g,a,!0):g},getAllRow:function(a){var c="";argFlag="";argDepth=!1;argCols=[];argExtend={};argChecked=!1;inData=a;if("object"==typeof inData)for(var b in inData)"flag"==
b?c=inData[b]:"checked"==b?argChecked=inData[b]:"cols"==b?argCols=inData[b]:"depth"==b?argDepth=inData[b]:"addColumn"==b&&(argExtend=inData[b]);if("boolean"!=typeof argChecked){a={};if(argCols.length)for(c=0;c<argCols.length;c++)n.isNull(this.DumpData[argChecked].dt[argCols[c]])||(a[argCols[c]]=this.DumpData[argChecked].dt[argCols[c]]);else for(b in this.DumpData[argChecked].dt)a[b]=this.DumpData[argChecked].dt[b];return a}this.multiCheck||(argChecked="");argFlag="object"==typeof c?c.toString():c;
a=[];if(argCols.length){for(var g=0,c=0;c<this.DumpDataLen;c++)if(!argFlag||!n.isNull(this.DumpData[c].flag)&&-1!=argFlag.indexOf(this.DumpData[c].flag))if(!argChecked||!n.isNull(this.DumpData[c].ck)&&argChecked==this.DumpData[c].ck){a[g]={};for(var e=0;e<argCols.length;e++)n.isNull(this.DumpData[c].dt[argCols[e]])||(a[g][argCols[e]]=this.DumpData[c].dt[argCols[e]]);for(b in argExtend)a[g][b]="=flag"==argExtend[b]?this.DumpData[c].flag?this.DumpData[c].flag:"":"=checked"==argExtend[b]?"boolean"==
typeof this.DumpData[c].ck?this.DumpData[c].ck:!1:argExtend[b];g++}if(-1!=argFlag.indexOf("D"))for(c=0;c<this.deleteData.length;c++)if(!argChecked||!n.isNull(this.deleteData[c].ck)&&argChecked==this.deleteData[c].ck){a[g]={};for(e=0;e<this.colBodyLen;e++)n.isNull(this.deleteData[c].dt[argCols[e]])||(a[g][argCols[e]]=this.DumpData[len].dt[argCols[e]]);for(b in argExtend)a[g][b]="=flag"==argExtend[b]?this.deleteData[c].flag?this.deleteData[c].flag:"":"=checked"==argExtend[b]?"boolean"==typeof this.deleteData[c].ck?
this.deleteData[c].ck:!1:argExtend[b];g++}}else if(argDepth){for(c=g=0;c<this.DumpDataLen;c++)if(!argFlag||!n.isNull(this.DumpData[c].flag)&&-1!=argFlag.indexOf(this.DumpData[c].flag))if(!argChecked||!n.isNull(this.DumpData[c].ck)&&argChecked==this.DumpData[c].ck){a[g]={};for(b in this.DumpData[c].dt)a[g][b]=this.DumpData[c].dt[b];for(b in argExtend)a[g][b]="=flag"==argExtend[b]?this.DumpData[c].flag?this.DumpData[c].flag:"":"=checked"==argExtend[b]?"boolean"==typeof this.DumpData[c].ck?this.DumpData[c].ck:
!1:argExtend[b];g++}if(-1!=argFlag.indexOf("D"))for(c=0;c<this.deleteData.length;c++)if(!argChecked||!n.isNull(this.deleteData[c].ck)&&argChecked==this.deleteData[c].ck){a[g]={};for(b in this.deleteData[c].dt)a[g][b]=this.deleteData[c].dt[b];for(b in argExtend)a[g][b]="=flag"==argExtend[b]?this.deleteData[c].flag?this.deleteData[c].flag:"":"=checked"==argExtend[b]?"boolean"==typeof this.deleteData[c].ck?this.deleteData[c].ck:!1:argExtend[b];g++}}else{for(c=g=0;c<this.DumpDataLen;c++)if(!argFlag||
!n.isNull(this.DumpData[c].flag)&&-1!=argFlag.indexOf(this.DumpData[c].flag))if(!argChecked||!n.isNull(this.DumpData[c].ck)&&argChecked==this.DumpData[c].ck){a[g]={};for(b in this.DumpData[c].dt)"object"!=typeof this.DumpData[c].dt[b]&&(a[g][b]=this.DumpData[c].dt[b]);for(b in argExtend)a[g][b]="=flag"==argExtend[b]?this.DumpData[c].flag?this.DumpData[c].flag:"":"=checked"==argExtend[b]?"boolean"==typeof this.DumpData[c].ck?this.DumpData[c].ck:!1:argExtend[b];g++}if(-1!=argFlag.indexOf("D"))for(c=
0;c<this.deleteData.length;c++)if(!argChecked||!n.isNull(this.deleteData[c].ck)&&argChecked==this.deleteData[c].ck){a[g]={};for(b in this.deleteData[c].dt)"object"!=typeof this.deleteData[c].dt[b]&&(a[g][b]=this.deleteData[c].dt[b]);for(b in argExtend)a[g][b]="=flag"==argExtend[b]?this.deleteData[c].flag?this.deleteData[c].flag:"":"=checked"==argExtend[b]?"boolean"==typeof this.deleteData[c].ck?this.deleteData[c].ck:!1:argExtend[b];g++}}return(new Function("return "+JSON.stringify(a)))()},getSecureData:function(a,
c){var b="",g;B(this,a);g=B(this,a);if(-1==g)return"";var e=C(this,g,c),h=this.DumpData[g];g=this.DumpAttr[g][e];if(!n.isNull(h)){if(-1!=e.indexOf("/")){for(var b=e.split("/"),h=h.dt,e=!0,f=0;f<b.length;f++)if(h[b[f]])h=h[b[f]];else{e=!1;break}b=e?h:""}else b=n.isNull(h.dt[e])?"":h.dt[e];if(!g)return b;"input"==g.type&&(h=g.dataNX,e=g.maxlength,f=!1,n.isNull(g.secureMask)||g.secureMask||(f=!0),b=this.dataNXFormatVal(b.toString(),h,e,f));return b}return"object"==typeof b?(new Function("return "+JSON.stringify(b)))():
b},getRow:function(a,c){var b;b=B(this,a);if(-1==b)return!1;var g=(new Function("return "+JSON.stringify(this.DumpData[b].dt)))();if(c){b=this.DumpAttr[b];for(var e=0,h=this.colBodyLen;e<h;e++){var f=this.colBody[e].colName,k=g[f];""!=k&&(value=this.dataFormatTempVal(f,k,b[f],!0),g[f]=value)}}return g},getBodyTdElement:function(a,c){if(!(1==jQuery(this.bodyTable.parentNode).height()||!isNaN(c)&&0>c)){var b=0;if(this.multiCheck||this.singleCheck)b+=1;var g=this.maxBodyRowIdx,e;e="number"==typeof a?
a:B(this,a);if(-1!=e){var h=this.bodyTable,f=null;this.colFix&&(f=this.lbodyTable);e*=g;if(isNaN(c))for(var k=0;k<g;k++){if(this.colFix)for(b=0,h=this.lbodyTable.rows[e+k].cells.length;b<h;b++)if(c==this.lbodyTable.rows[e+k].cells[b].id.substr((this.g_ID+"-td-").length))return this.lbodyTable.rows[e+k].cells[b];b=0;for(h=this.bodyTable.rows[e+k].cells.length;b<h;b++)if(c==this.bodyTable.rows[e+k].cells[b].id.substr((this.g_ID+"-td-").length))return this.bodyTable.rows[e+k].cells[b]}else{parseInt(c);
var d=e;c=parseInt(c);var l=0,m,p="";e=parseInt(c);for(k=0;k<g;k++){this.colFix&&(this.colFix.left||this.colFix.mCheck)?(l=f.rows[d].cells.length,0==k&&(l-=b),m=h.rows[d].cells.length):(m=h.rows[d].cells.length,0==k&&(m-=b));if(0>e-l){0==k&&(e+=b);realId=f.rows[d].cells[e].id.substr((this.g_ID+"-td-").length);p=this.g_ID+"-l-body";break}e-=l;if(0>e-m){this.colFix&&(this.colFix.numbering||this.colFix.sCheck||this.colFix.mCheck)||0==k&&(e+=b);realId=h.rows[d].cells[e].id.substr((this.g_ID+"-td-").length);
p=this.g_ID+"-body";break}e-=m;d++}if(""!=realId&&-1!=e&&(g=A(p).firstChild.rows[d].cells[e],!n.isNull(g)))return g}}}},setCellEditable:function(a,c,b,g){var e="",h=!1,f=!1;4==arguments.length&&(h=g);var k;if(isNaN(a)||-1!=a){var d=B(this,a);if(-1==d)return!1;l=this.DumpAttr[d];if("number"==typeof c&&-1==c)for(m=0;m<this.colBodyLen;m++)e=this.colBody[m].colName,k=l[e],"link"!=k.type&&"graph"!=k.type&&(k.edit=b?!0:!1,p=this.getBodyTdElement(d,this.colBody[m].colName),n.isNull(p)||(b?jQuery(p).addClass("grid-editable-td"):
jQuery(p).removeClass("grid-editable-td"),k=m,this._cellChangeEditable(a,k,p,e,b,f)));else{e=C(this,d,c);k=l[e];if("link"==k.type||"graph"==k.type)return!1;k.edit=b?!0:!1;p=this.getBodyTdElement(d,e);if(n.isNull(p))return n.logger.log(n.getMessage("W0407",e)),!1;b?jQuery(p).addClass("grid-editable-td"):jQuery(p).removeClass("grid-editable-td");k=parseInt(this.colBodyColumn[e]);1!=h&&5>arguments.length&&(f=!0);this._cellChangeEditable(a,k,p,e,b,f)}if(1==h)for(d=0,f=!1,arguments[4]&&(d=arguments[4]);d<
this.DumpDataLen;d++)if(0==this.DumpData[d].dt[this.treeStruct.key].indexOf(a))isNaN(c)||-1!=c?this.setCellEditable(d,e,b,h,d):this.setCellEditable(d,-1,b,h,d),f=!0;else if(1==f)break}else{if(isNaN(c)||-1!=c)for(d=0;d<this.DumpDataLen;d++)e=C(this,d,c),k=this.DumpAttr[d][e],"link"!=k.type&&"graph"!=k.type&&(k.edit=b?!0:!1,p=this.getBodyTdElement(d,e),n.isNull(p)||(b?jQuery(p).addClass("grid-editable-td"):jQuery(p).removeClass("grid-editable-td"),k=this.colBodyColumn[e],this._cellChangeEditable(this.DumpData[d].dt[this.treeStruct.key],
k,p,e,b,f)));else for(d=0;d<this.DumpDataLen;d++)for(var l=this.DumpAttr[d],m=0;m<this.colBodyLen;m++)if(e=this.colBody[m].colName,k=l[e],"link"!=k.type&&"graph"!=k.type){k.edit=b?!0:!1;var p=this.getBodyTdElement(d,this.colBody[m].colName);n.isNull(p)||(b?jQuery(p).addClass("grid-editable-td"):jQuery(p).removeClass("grid-editable-td"),k=m,this._cellChangeEditable(this.DumpData[d].dt[this.treeStruct.key],k,p,e,b,f))}this.expendAll()}},_cellChangeEditable:function(a,c,b,g,e,h){a=n.isNull(this.colBody[c].dataNX)?
"{type:'text'}":n.replace(n.convertString(this.colBody[c].dataNX,!1),'"',"'");for(var f=!1,k=b.childNodes.length,d=0;d<b.childNodes.length;d++)if(e)n.isNull(b.childNodes[d].tagName)?f=!0:"SPAN"==b.childNodes[d].tagName?(b.childNodes[d].contentEditable=!0,h&&b.childNodes[d].focus()):"P"==b.childNodes[d].tagName?b.childNodes[d].setAttribute("contenteditable",!0):(f=!1,b.childNodes[d].removeAttribute("disabled"),jQuery(b.childNodes[d]).removeClass("state-disabled"));else if(0==c&&0==d&&(d=this.treeStruct.icon?
2:1),!n.isNull(b.childNodes[d].tagName))if(0==c)if("SPAN"==b.childNodes[d].tagName){for(var l=b.childNodes[d].innerHTML,m=d;m<k;m++)jQuery(b.childNodes[d]).remove();jQuery(b).append(l)}else"INPUT"==b.childNodes[d].tagName&&"text"==b.childNodes[d].type?(l=b.childNodes[d].value,b.childNodes[d].style.textAlign&&(b.style.textAlign=b.childNodes[d].style.textAlign),b.removeChild(b.childNodes[d]),jQuery(b).append(l)):"P"==b.childNodes[d].tagName?b.childNodes[d].setAttribute("contenteditable",!1):"BUTTON"==
b.childNodes[d].tagName?n(b.childNodes[d]).disabled(!0):b.childNodes[d].disabled="disabled";else"SPAN"==b.childNodes[d].tagName||"INPUT"==b.childNodes[d].tagName&&"text"==b.childNodes[d].type?(l=b.childNodes[d].innerHTML,b.innerHTML=l):"P"==b.childNodes[d].tagName?b.childNodes[d].setAttribute("contenteditable",!1):"BUTTON"==b.childNodes[d].tagName?n(b.childNodes[d]).disabled(!0):b.childNodes[d].disabled="disabled";0==k&&e&&(f=!0);f&&(this.isMobile?(0==c?(l=b.cloneNode(!0),this.treeStruct.icon?(b.removeChild(b.childNodes[2]),
l.removeChild(l.childNodes[0])):b.removeChild(b.childNodes[1]),l.removeChild(l.childNodes[0]),l=l.innerHTML):(l=b.innerHTML,b.innerHTML=""),c=document.createElement("input"),c.type="text",c.setAttribute("data-nx",a),c.id=this.g_ID+"-"+g,b.style.textAlign&&(c.style.textAlign=b.style.textAlign,b.style.textAlign=""),c.value=l,b=b.appendChild(c)):(0==c?(l=b.cloneNode(!0),this.treeStruct.icon?(b.removeChild(b.childNodes[2]),l.removeChild(l.childNodes[0])):b.removeChild(b.childNodes[1]),l.removeChild(l.childNodes[0]),
l=l.innerHTML):(l=b.innerHTML,b.innerHTML=""),e=document.createElement("span"),e.contentEditable=!0,e.setAttribute("data-nx",a),e.className="grid-body-span",this.colBody[c].maxlength&&e.setAttribute("maxlength",this.colBody[c].maxlength),e.id=this.g_ID+"-"+g,b=b.appendChild(e),b.innerHTML=l),h&&b.focus())},getCellEditable:function(a,c){var b;b=B(this,a);if(-1==b)return!1;var g=C(this,b,c);return""==g?!1:this.DumpAttr[b][g].edit?!0:!1},setCellStyle:function(a,c,b){if(b.textAlign||""==b.textAlign)b["text-align"]=
b.textAlign,delete b.textAlign;var g=function(a){for(var c in b){if(1<a.childNodes.length)for(var e=0;e<a.childNodes.length;e++)jQuery(a.childNodes[e]).css(c,b[c]);else n.isNull(a.firstChild)||"SPAN"!=a.firstChild.tagName&&"text"!=a.firstChild.type&&n.isNull(a.firstChild.tagName)||jQuery(a.firstChild).css(c,b[c]);jQuery(a).css(c,b[c])}};if("number"==typeof a&&-1==a){if(-1==c)for(var e=0;e<this.DumpDataLen;e++){c=this.DumpAttr[e];for(var h=0;h<this.colBodyLen;h++){a=c[this.colBody[h].colName];for(var f in b)a.style||
(a.style={}),a.style[f]=b[f];a=this.getBodyTdElement(e,this.colBody[h].colName);n.isNull(a)||g(a)}}else for(h=C(this,0,c),e=0;e<this.DumpDataLen;e++){a=this.DumpAttr[e][h];for(f in b)a.style||(a.style={}),a.style[f]=b[f];a=this.getBodyTdElement(e,c);n.isNull(a)||g(a)}this.expendAll()}else{e=-1;e=B(this,a);if(-1==e)return!1;if(-1==c)for(c=this.DumpAttr[e],h=0;h<this.colBodyLen;h++){a=c[this.colBody[h].colName];for(f in b)a.style||(a.style={}),a.style[f]=b[f];a=this.getBodyTdElement(e,this.colBody[h].colName);
n.isNull(a)||g(a)}else{h=C(this,e,c);a=this.DumpAttr[e][h];for(f in b)a.style||(a.style={}),a.style[f]=b[f];a=this.getBodyTdElement(e,h);if(n.isNull(a))return!1;g(a)}}},updateRow:function(a,c,b){this.setRow(a,c,b)},setRow:function(a,c,b){var g;g=B(this,a);if(-1==g)return!1;c="function"==typeof c.getJson?c.getJson():c;if("object"==typeof c)if(c[this.treeStruct.key]=this.DumpData[g].dt[this.treeStruct.key],b)for(var e in c)this.setCell(a,e,c[e]);else{b={};g=0;for(var h=this.colBodyLen;g<h;g++)b[this.colBody[g].colName]=
!1;for(e in c)this.setCell(a,e,c[e]),b[e]=!0;g=0;for(h=this.colBodyLen;g<h;g++)0==b[this.colBody[g].colName]&&this.treeStruct.key!=this.colBody[g].colName&&this.setCell(a,this.colBody[g].colName,"")}},setCellFocus:function(a,c){var b;b=B(this,a);if(-1==b)return!1;var g=C(this,b,c);b=this.getBodyTdElement(b,g);if(n.isNull(b)||!jQuery(b).is(":visible"))return!1;this.expandNode(a);var e=b.fistChild;this.colBody[0].colName==g&&(e="undefined"==typeof this.treeStruct.icon?b.childNodes[1]:b.childNodes[2]);
!e||"SPAN"!=e.tagName&&"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&"SELECT"!=e.tagName||e.focus()},expandAll:function(){jQuery(this.bodyTable).find("tr").removeClass().end().find("button.tree-icon-fold").removeClass("tree-icon-fold").addClass("tree-icon-spread");this.colFix&&jQuery(this.lbodyTable).find("tr").removeClass().end().find("button.tree-icon-fold").removeClass("tree-icon-fold").addClass("tree-icon-spread");this.repaint()},expendAll:function(){this.expandAll()},foldAll:function(){var a=0;
this.multiCheck&&a++;var c=0,b;b=this.colFix?this.lbodyTable:this.bodyTable;for(var g=0,e=this.DumpDataLen*this.maxBodyRowIdx;g<e;g+=this.maxBodyRowIdx){var h=b.rows[g].cells[a].firstChild.id;this.bodyTable.rows[g].className="";this.colFix&&(this.lbodyTable.rows[g].className="");if(-1!=h.indexOf(this.treeStruct.separate))for(h=0;h<this.maxBodyRowIdx;h++)jQuery(this.bodyTable.rows[g+h]).addClass("state-hide"),this.colFix&&jQuery(this.lbodyTable.rows[g+h]).addClass("state-hide"),0==h&&"tree-icon-spread"==
b.rows[g+h].cells[a].firstChild.className&&(b.rows[g+h].cells[a].firstChild.className="tree-icon-fold");else{for(h=0;h<this.maxBodyRowIdx;h++)this.bodyTable.rows[g+h].className=0==(c+1)%2?"grid-body-even":"grid-body-odd",this.colFix&&(this.lbodyTable.rows[g+h].className=0==(c+1)%2?"grid-body-even":"grid-body-odd"),0==h&&"tree-icon-spread"==b.rows[g+h].cells[a].firstChild.className&&(b.rows[g+h].cells[a].firstChild.className="tree-icon-fold");c++}}},getRowFolded:function(a){a=B(this,a);if(-1==a)return!1;
var c=0;this.multiCheck&&c++;return-1!=(this.colFix?this.lbodyTable.rows[a*this.maxBodyRowIdx].cells[c].firstChild.className:this.bodyTable.rows[a*this.maxBodyRowIdx].cells[c].firstChild.className).indexOf("tree-icon-fold")?!0:!1},getRowNum:function(){return this.DumpDataLen},expendNode:function(a){this.expandNode(a)},expandNode:function(a){if(n.isNull(a))return!1;a=a.toString();a=a.split(this.treeStruct.separate);var c=a[0],b;b=this.colFix?this.lbodyTable:this.bodyTable;for(var g=0;g<a.length;g++){0<
g&&(c+="-",c+=a[g]);for(var e=0,h=this.DumpDataLen*this.maxBodyRowIdx;e<h;e+=this.maxBodyRowIdx){var f;f=this.multiCheck?b.rows[e].cells[1].firstChild.id:b.rows[e].cells[0].firstChild.id;if(0==f.indexOf(c)&&(f==c&&(this.multiCheck?"tree-icon-leaf"!=b.rows[e].cells[1].firstChild.className&&(b.rows[e].cells[1].firstChild.className="tree-icon-spread"):"tree-icon-leaf"!=b.rows[e].cells[0].firstChild.className&&(b.rows[e].cells[0].firstChild.className="tree-icon-spread")),f.split(this.treeStruct.separate).length==
c.split(this.treeStruct.separate).length+1))for(f=0;f<this.maxBodyRowIdx;f++)jQuery(this.bodyTable.rows[e+f]).removeClass(),this.colFix&&jQuery(this.lbodyTable.rows[e+f]).removeClass()}}this.repaint()},foldNode:function(a){var c=this.treeStruct.separate,b=a.split(c).length,g=this.DumpDataLen,e;e=B(this,a);if(-1==e)return!1;var h;h=this.colFix?this.lbodyTable:this.bodyTable;for(var f=e*this.maxBodyRowIdx;f<g*this.maxBodyRowIdx;f+=this.maxBodyRowIdx)if(f==e*this.maxBodyRowIdx)this.multiCheck?"tree-icon-spread"==
h.rows[f].cells[1].firstChild.className&&(h.rows[f].cells[1].firstChild.className="tree-icon-fold"):"tree-icon-spread"==h.rows[f].cells[0].firstChild.className&&(h.rows[f].cells[0].firstChild.className="tree-icon-fold");else{var k,d;k=this.multiCheck?h.rows[f].cells[1].firstChild.id:h.rows[f].cells[0].firstChild.id;d=k.split(c).length;if(0==k.indexOf(a)&&d>b)for(k=0;k<this.maxBodyRowIdx;k++)0==k&&(this.multiCheck?"tree-icon-spread"==h.rows[f+k].cells[1].firstChild.className&&(h.rows[f+k].cells[1].firstChild.className=
"tree-icon-fold"):"tree-icon-spread"==h.rows[f+k].cells[0].firstChild.className&&(h.rows[f+k].cells[0].firstChild.className="tree-icon-fold")),jQuery(this.bodyTable.rows[f+k]).addClass("state-hide"),this.colFix&&jQuery(this.lbodyTable.rows[f+k]).addClass("state-hide");else break}},mergeCell:function(a,c,b,g){if(1>this.DumpDataLen)return!1;var e,h,f;e=B(this,a);if(-1==e)return!1;h=C(this,e,c);f=C(this,e,b);var k=this.DumpAttr[e];if("string"==typeof c){var d=0;for(c=0;c<this.colBodyLen&&!k[this.colBody[c].colName];c++)k[this.colBody[c].colName].del||
d++}if("string"==typeof b)for(c=d=0;c<this.colBodyLen&&!k[this.colBody[c].colName];c++)k[this.colBody[c].colName].del||d++;b=this.getBodyTdElement(e,h);c=this.getBodyTdElement(e,f);if(n.isNull(b)||n.isNull(c)||jQuery(b).parent().parent().parent().parent().attr("id")!=jQuery(c).parent().parent().parent().parent().attr("id"))return!1;e=jQuery(b).parent().parent().parent().parent().get(0).firstChild;f=parseInt(jQuery(b).attr("colindex"));var d=parseInt(jQuery(c).attr("colindex")),l=parseInt(jQuery(b).parent().index()),
m=parseInt(jQuery(c).parent().index()),p=d-f+1,m=m-l+1;n.isNull(jQuery(c).attr("colspan"))||(p=p+parseInt(jQuery(c).attr("colspan"))-1,d=d+parseInt(jQuery(c).attr("colspan"))-1);n.isNull(jQuery(c).attr("rowspan"))||(m=m+parseInt(jQuery(c).attr("rowspan"))-1);for(c=0;c<m;c++){var q;q=e.rows[l+c];for(var r=f;r<=d;r++)if(0!=c||r!=f){var x=jQuery(q).find("[colindex="+r+"]");if(0<x.length){var z=x.get(0).id.split("-")[2];k[z].del=!0;x.remove()}}}1<p&&(b.colSpan=p);1<m&&(b.rowSpan=m);g&&this.setCell(a,
h,g);this.bBodyMerge=!0},setCellOptions:function(a,c,b,g){var e;e=B(this,a);if(-1==e)return!1;var h=C(this,e,c),f=this.DumpAttr[e][h],k=f.edit;if(""==h||0==this.colBodyColumn[h])return!1;b&&b.dataNX?(f.dataNX=b.dataNX,b.maxlength&&(f.maxlength=b.maxlength)):"select"==f.type||"editSelect"==f.type?g?(jQuery.isArray(f.opt)||(f.opt=[f.opt]),jQuery.isArray(b)?f.opt=f.opt.concat(b):f.opt.push(b)):f.opt=b:f.opt=b;e=this.getBodyTdElement(e,h);n.isNull(e)||this._cellOptionsChange(e,a,c,"body",b,g);"checkbox"!=
f.type&&"radio"!=f.type&&"button"!=f.type||this.setCellEditable(a,c,k)},getCellOptions:function(a,c){var b=-1,b=B(this,a);if(-1==b)return!1;var g=[],e=null,h=C(this,b,c);getData=this.getCell(a,h);selfAttr=this.DumpAttr[b][h];if("select"==selfAttr.type){b=selfAttr.opt;if(n.isNull(b))return null;var f=function(a,b){b.label=a.label;b.value=a.value;a.value==getData&&(b.selected=!0)};if(jQuery.isArray(b))for(var h=0,k=b.length;h<k;h++)e={},f(b[h],e),g.push(e);else e={},f(b,e);return 0==g.length?e:g}if("input"==
selfAttr.type)return e={},e.dataNX=selfAttr.dataNX,selfAttr.maxlength&&(e.maxlength=selfAttr.maxlength.toString()),e;if("checkbox"==selfAttr.type){b=selfAttr.opt;if(n.isNull(b))return null;k=function(a,b){b.checkValue=a.checkValue;n.isNull(a.unCheckValue)||(b.unCheckValue=a.unCheckValue);a.checkValue==getData&&(b.checked=!0);n.isNull(a.label)||(b.label=a.label)};if(jQuery.isArray(b))for(h=0,f=b.length;h<f;h++)e={},k(b[h],e),g.push(e);else e={},k(b,e);return 0==g.length?e:g}if("radio"==selfAttr.type){b=
selfAttr.opt;if(n.isNull(b))return null;k=function(a,b){b.value=a.value;a.value==getData&&(b.checked=!0);n.isNull(a.label)||(b.label=a.label)};if(jQuery.isArray(b))for(h=0,f=b.length;h<f;h++)e={},k(b[h],e),g.push(e);else e={},k(b,e);return 0==g.length?e:g}if("image"==selfAttr.type)return b=selfAttr.opt,e={},""==getData?n.isNull(b)||n.isNull(b.src)?e.src="":e.src=b.src:e.src=getData,e;if("button"==selfAttr.type){b=selfAttr.opt;e=null;if(b)if(jQuery.isArray(b))for(e=[],h=0,g=b.length;h<g;h++)e.push({label:b[h].label});
else e={},e.label=b.label;return e}if("link"==selfAttr.type)return e={linkType:""},e.label=this.dataFormatTempVal(h,getData,selfAttr),e;if("editSelect"==selfAttr.type){b=selfAttr.opt;if(n.isNull(b))return null;e={};f=function(a,b){b.label=a.label;b.value=a.value;a.value==getData&&(b.selected=!0)};if(jQuery.isArray(b))for(h=0,k=b.length;h<k;h++)e={},f(b[h],e),g.push(e);else f(b,e);return 0==g.length?e:g}if("textImage"!=selfAttr.type&&"textarea"==selfAttr.type){b=selfAttr.opt;if(n.isNull(b))return null;
e={};b.rows&&(e.rows=b.rows);b.cols&&(e.cols=b.cols);return e}return null},setCellAttr:function(a,c,b){var g;g=B(this,a);if(-1==g)return!1;var e=C(this,g,c);if(""==e||0==this.colBodyColumn[e])return!1;g=this.DumpAttr[g];var h={};h.type=b.type?b.type:"input";"input"!=h.type||b.dataNX||(h.dataNX={},h.dataNX.type="text");b.dataNX&&(h.dataNX=b.dataNX);b.maxlength&&(h.maxlength=b.maxlength);b.options&&(h.opt=b.options);b.editable&&"link"!=h.type&&"graph"!=h.type&&"image"!=h.type?h.edit=!0:(h.edit=!1,b.editable=
!1);h.align=b.align?b.align:"center";g[e]=h;var f=this.getBodyTdElement(a,c);if(n.isNull(f))return!1;f.setAttribute("st",b.type?this.simpleType[b.type]:"in");f.style.textAlign=h.align;h.edit?n(f).addClass("grid-editable-td"):n(f).removeClass("grid-editable-td");I(this,f,a,c,b,g[e])},getCellAttr:function(a,c){var b=-1,b=B(this,a);if(-1==b)return!1;var g={},e=[],h={},f=C(this,b,c);if(""==f)return null;var b=this.DumpAttr[b][f],k=this.getCell(a,f);g.type=b.type;g.editable=b.edit?!0:!1;g.align=b.align?
b.align:"center";if("input"==b.type)g.dataNX=b.dataNX,b.maxlength&&(g.maxlength=b.maxlength.toString());else if("select"==b.type||"editSelect"==b.type){f=b.opt;"editSelect"==b.type&&b.dataNX&&(g.dataNX=b.dataNX);var d=function(a,b){b.value=a.value;a.value==k&&(b.selected=!0);n.isNull(a.label)||(b.label=a.label)};if(jQuery.isArray(f))for(var b=0,l=f.length;b<l;b++)h={},d(f[b],h),e.push(h);else h={},d(f,h);g.options=0==e.length?h:e}else if("checkbox"==b.type){f=b.opt;d=function(a,b){b.checkValue=a.checkValue;
n.isNull(a.unCheckValue)||(b.unCheckValue=a.unCheckValue);a.checkValue==k&&(b.checked=!0);n.isNull(a.label)||(b.label=a.label)};if(jQuery.isArray(f))for(b=0,l=f.length;b<l;b++)h={},d(f[b],h),e.push(h);else h={},d(f,h);g.options=0==e.length?h:e}else if("radio"==b.type){f=b.opt;d=function(a,b){b.value=a.value;a.value==k&&(b.checked=!0);n.isNull(a.label)||(b.label=a.label)};if(jQuery.isArray(f))for(b=0,l=f.length;b<l;b++)h={},d(f[b],h),e.push(h);else h={},d(f,h);g.options=0==e.length?h:e}else if("link"==
b.type)h={linkType:""},h.label=this.dataFormatTempVal(f,k,b),g.options=h;else if("image"==b.type)f=b.opt,h={},""==k?n.isNull(f)||n.isNull(f.src)?h.src="":h.src=f.src:h.src=k,g.options=h;else if("button"==b.type)if(f=b.opt,h={},f){h=[];if(jQuery.isArray(f))for(b=0,e=f.length;b<e;b++)l={},f[b].label&&(l.label=f[b].label),f[b]["class"]&&(l["class"]=f[b]["class"]),l.type=f[b].type?f[b].type:"button",h.push(l);else h={},f.label&&(h.label=f.label),f["class"]&&(h["class"]=f["class"]),h.type=f.type?f.type:
"button";g.options=h}else g.options={type:"button"};else"textarea"==b.type&&(f=b.opt,h={},n.isNull(f)||(f.rows&&(h.rows=f.rows),f.cols&&(h.cols=f.cols)),n.isNull(h)||(g.options=h));return g},setCellFormat:function(a,c,b,g){var e;e=B(this,a);if(-1==e)return!1;c=C(this,e,c);if(""==c||0==this.colBodyColumn[c])return!1;var h=this.DumpAttr[e],f=h[c],k={};k.type=""!=b?b:"input";"input"==k.type?(k.dataNX={},g?(k.dataNX.type=g.type,g.mask&&(k.dataNX.mask=g.mask)):k.dataNX.type="text",g&&g.maxlength?k.maxlength=
g.maxlength:f.maxlength&&(k.maxlength=f.maxlength)):g&&(k.opt=g);f.edit&&(k.edit=f.edit);f.style&&(k.style=f.style);k.align=k.style&&k.style["text-align"]?k.style["text-align"]:f.align?f.align:"center";h[c]=k;b=this.getBodyTdElement(e,c);n.isNull(b)||(b.setAttribute("st",this.simpleType[h[c].type]),J(this,b,a,c,h[c]))},setSelectOptions:function(a,c,b,g){var e;e=B(this,a);if(-1==e)return!1;var h=C(this,e,c);if(""==h)return!1;var f=[],k=this.getCell(a,h);a=!1;var d=-1,h=this.DumpAttr[e][h];if("select"!=
h.type)return!1;if(g){var l=b.length;if(l!=g.length)return!1;for(var m=0;m<l;m++){var p={};p.label=b[m];p.value=g[m];f.push(p);g[m]==k&&(a=!0,d=b[m])}h.opt=1==f.length?f[0]:f}else{if(!b)return!1;if(jQuery.isArray(b))for(m=0,l=b.length;m<l;m++)b[m].value==k&&(a=!0,d=b[m].label);else b.value==k&&(a=!0,d=b.label);h.opt=b}c=this.getBodyTdElement(e,c);null!=n.isNull(c)&&(c.firstChild.innerHTML=a?d:"")},setCellCaption:function(a,c,b){if(3>arguments.length)return!1;var g;g=B(this,a);if(-1==g)return!1;var e=
C(this,g,c),h=this.DumpAttr[g][e];""!=b?h.title=b:(b="",delete h.title);g=this.getBodyTdElement(g,e);n.isNull(g)||(g.title=b)},getCellCaption:function(a,c){if(2>arguments.length)return"";var b;b=B(this,a);if(-1==b)return"";var g=C(this,b,c);b=this.DumpAttr[b][g];g="";b.title&&(g=b.title);return g},setCellSecureMask:function(a,c,b){if(3>arguments.length||0==this.getRowNum())return!1;var g=-1,e=this,h=function(c,f){b?delete c.secureMask:c.secureMask=!1;var d=e.getBodyTdElement(g,f);n.isNull(d)||e.setCell(a,
f,e.getCell(a,f))};if(-1!=a){g=B(this,a);if(-1==g)return"";var f=C(this,g,c),k=this.getDumpAttr(g,f);h(k,f)}else if(-1!=c)for(isNaN(c)||(c=this.colBody[c].colName),f=0;f<this.getRowNum();f++)if(k=this.getDumpAttr(f,c))g=f,a=this.DumpData[f].dt[this.treeStruct.key],h(k,c)},showTooltip:function(a,c,b,g){if(0==this.getRowNum())return!1;var e;e=B(this,a);if(-1==e)return"";if(this.getRowFolded(a))return!1;var h=C(this,e,c);e=this.getBodyTdElement(e,h);if(n.isNull(e))return!1;h=!0;4==arguments.length&&
(h=g);n(e).showTooltip(b,h)},hideTooltip:function(a,c,b){if(0==this.getRowNum())return!1;var g;g=B(this,a);if(-1==g)return"";var e=C(this,g,c);g=this.getBodyTdElement(g,e);if(n.isNull(g))return!1;3==arguments.length?n(g).hideTooltip(b):n(g).hideTooltip()},errField:function(a,c,b){if(3>arguments.length||0==this.getRowNum())return!1;var g;if(-1!=a){g=B(this,a);if(-1==g)return"";var e=C(this,g,c),h=this.getBodyTdElement(g,e);if(n.isNull(h))return!1;this.getDumpAttr(g,e).errf=!0;n(h).addClass("grid-err-td");
if(jQuery(h).is(":visible")){try{h.firstChild&&h.firstChild.tagName&&h.firstChild.focus()}catch(f){this.setSelectedLine(g)}n(h)._showAlertTooltip(b,!0)}}},errFieldReset:function(a,c){var b;if(2>arguments.length)return!1;b=B(this,a);if(-1==b)return"";var g=C(this,b,c),e=this.getBodyTdElement(b,g);if(n.isNull(e))return!1;delete this.getDumpAttr(b,g).errf;n(e).removeClass("grid-err-td")},getChildRowGroupCnt:function(a){var c=this.DumpDataLen,b=0,g=this.treeStruct.key,e;if("undefined"==typeof a)return b;
a+=this.treeStruct.separate;for(var h=0;h<c;h++){if(-1!=g.indexOf("/")){e=g.split("/");for(var f=this.DumpData[h].dt,k=0;k<e.length-1;k++)f[e[k]]||(f[e[k]]={}),f=f[e[k]];e=f[e[k]]}else e=this.DumpData[h].dt[g];0==e.indexOf(a)&&b++}return b},getChildRowGroupTreeKey:function(a){var c=this.DumpDataLen,b=[],g=this.treeStruct.key,e;if("undefined"==typeof a)return b;a+=this.treeStruct.separate;for(var h=0;h<c;h++){if(-1!=g.indexOf("/")){e=g.split("/");for(var f=this.DumpData[h].dt,k=0;k<e.length-1;k++)f[e[k]]||
(f[e[k]]={}),f=f[e[k]];e=f[e[k]]}else e=this.DumpData[h].dt[g];0==e.indexOf(a)&&b.push(e)}return b},setSelectedLine:function(a){var c;c=B(this,a);if(-1==c||this.DumpDataLen<c)return!1;c=parseInt(c);c*=this.maxBodyRowIdx;if(this.clickTR!=c){if(-1!=this.clickTR)for(var b=parseInt(this.clickTR)%parseInt(this.maxBodyRowIdx),g=0;g<parseInt(this.maxBodyRowIdx);g++)jQuery(this.bodyTable.rows[parseInt(this.clickTR)-b+g]).children("td").removeClass("grid-body-click"),this.colFix&&jQuery(this.lbodyTable.rows[parseInt(this.clickTR)-
b+g]).children("td").removeClass("grid-body-click");b=c%parseInt(this.maxBodyRowIdx);for(g=0;g<parseInt(this.maxBodyRowIdx);g++)jQuery(this.bodyTable.rows[c-b+g]).children("td").addClass("grid-body-click"),this.colFix&&jQuery(this.lbodyTable.rows[c-b+g]).children("td").addClass("grid-body-click");-1!=a.lastIndexOf("-")&&(a=a.substring(0,a.lastIndexOf("-")),this.expandNode(a));this.clickTR=c}},setCheckIndex:function(a,c){if(!this.multiCheck&&!this.singleCheck)return!1;var b=this.DumpDataLen;if(0==
b)return!1;var g=!1,e=!0;2==arguments.length&&(e=c);var h;h=this.colFix?this.lbodyTable:this.bodyTable;var f;f=this.colFix?this.lheaderTable:this.headerTable;if(jQuery.isArray(a)){if(this.singleCheck)return!1;var k=0;for(f=a.length;k<f;k++)for(var g=!1,d=0;d<b;d++){if(a[k]==this.DumpData[d].dt[this.treeStruct.key])if(this.DumpData[d].ck=e,h.rows[d*this.maxBodyRowIdx]&&n(h.rows[d*this.maxBodyRowIdx].cells[0].firstChild).checked(e),g=!0,this.multiCheckAutoLeaf)continue;else break;if(g&&this.multiCheckAutoLeaf)if(0==
this.DumpData[d].dt[this.treeStruct.key].indexOf(a[k]))this.DumpData[d].ck=e,h.rows[d*this.maxBodyRowIdx]&&n(h.rows[d*this.maxBodyRowIdx].cells[0].firstChild).checked(e);else break}}else if(isNaN(a)||-1!=a)if(isNaN(a)){if(this.singleCheck)for(k=0;k<b;k++)this.DumpData[k].ck=!1;for(k=0;k<b;k++){if(a==this.DumpData[k].dt[this.treeStruct.key])if(this.DumpData[k].ck=e,h.rows[k*this.maxBodyRowIdx]&&n(h.rows[k*this.maxBodyRowIdx].cells[0].firstChild).checked(e),g=!0,this.multiCheckAutoLeaf)continue;else break;
if(g&&this.multiCheckAutoLeaf)if(0==this.DumpData[k].dt[this.treeStruct.key].indexOf(a))this.DumpData[k].ck=e,h.rows[k*this.maxBodyRowIdx]&&n(h.rows[k*this.maxBodyRowIdx].cells[0].firstChild).checked(e);else break}}else return!1;else{if(this.singleCheck)return!1;for(k=0;k<b;k++)this.DumpData[k].ck=e,h.rows[k*this.maxBodyRowIdx]&&n(h.rows[k*this.maxBodyRowIdx].cells[0].firstChild).checked(e);n(f.rows[0].cells[0].firstChild.firstChild).checked(e)}},getCheckIndex:function(a){var c=[];if(!this.multiCheck&&
!this.singleCheck||0==this.DumpDataLen)return c;var b=!0;"boolean"==typeof a&&(b=a);for(a=0;a<this.DumpDataLen;a++)b?!n.isNull(this.DumpData[a].ck)&&this.DumpData[a].ck&&c.push(this.DumpData[a].dt[this.treeStruct.key]):!n.isNull(this.DumpData[a].ck)&&this.DumpData[a].ck||c.push(this.DumpData[a].dt[this.treeStruct.key]);return c},getCheckedRow:function(a){var c=!1,b=this.DumpDataLen;return!this.multiCheck&&!this.singleCheck||0==b?c:-1==B(this,a)?!1:c="undefined"==typeof this.DumpData[i].ck?!1:this.DumpData[i].ck},
setCheckEditable:function(a,c,b){if(!this.multiCheck&&!this.singleCheck)return!1;var g=!1;3==arguments.length&&(g=b);var e="disabled",h=!1;c&&(e=!1,h=!0);var f;f=this.colFix?this.lbodyTable:this.bodyTable;if(jQuery.isArray(a))for(var k=0;k<a.length;k++)for(var d=0;d<this.DumpDataLen;d++){if(a[k]==this.DumpData[d].dt[this.treeStruct.key]&&(this.DumpData[d].ckEdit=h,f.rows[d*this.maxBodyRowIdx]&&jQuery(f.rows[d*this.maxBodyRowIdx].cells[0].firstChild).attr("disabled",e),g))for(var l=d;l<this.DumpDataLen;l++)if(0==
this.DumpData[l].dt[this.treeStruct.key].indexOf(a[k]))this.DumpData[l].ckEdit=h,f.rows[l*this.maxBodyRowIdx]&&jQuery(f.rows[l*this.maxBodyRowIdx].cells[0].firstChild).attr("disabled",e);else break}else for(d=0;d<this.DumpDataLen;d++)if(a==this.DumpData[d].dt[this.treeStruct.key]&&(this.DumpData[d].ckEdit=h,f.rows[d*this.maxBodyRowIdx]&&jQuery(f.rows[d*this.maxBodyRowIdx].cells[0].firstChild).attr("disabled",e),g))for(l=d;l<this.DumpDataLen;l++)if(0==this.DumpData[l].dt[this.treeStruct.key].indexOf(a))this.DumpData[l].ckEdit=
h,f.rows[l*this.maxBodyRowIdx]&&jQuery(f.rows[l*this.maxBodyRowIdx].cells[0].firstChild).attr("disabled",e);else break},getCheckEditable:function(a){var c=[];if(!this.multiCheck&&!this.singleCheck)return c;if("string"==typeof a){a=B(this,a);if(-1==a)return!1;a=this.DumpData[a];c=!1;null!=a&&(c=0==a.ckEdit?!1:!0);return c}for(var b=0;b<this.DumpDataLen;b++)a?(n.isNull(this.DumpData[b].ckEdit)||this.DumpData[b].ckEdit)&&c.push(rowIdx):n.isNull(this.DumpData[b].ckEdit)||this.DumpData[b].ckEdit||c.push(rowIdx);
return c},setEditMode:function(a,c){},exportExcel:function(a,c){var b={};b.name=a;b.drm=this.isDRM?!0:!1;null!=this.excelExtraData&&(b.extraData=this.excelExtraData,this.excelExtraData=null);b.title=this.excelTitle;if(""!=this.excelColwidth)b.width=this.excelColwidth;else if(c)c.width&&(b.width=c.width.join("^"));else if(n.isNull(c)){var g=jQuery("#"+this.g_ID);if("undefined"==typeof g||null==g)return;var e=parseFloat(g.width()),e=""!=this.bodyWidth&&0<parseInt(this.bodyWidth)?parseInt(this.bodyWidth):
g.is(":visible")?parseFloat(g.parent().css("width"))-12:jQuery("body").width(),h=null,h=this.viewTitle&&0<this.colHeaderLen?this.colHeader:this.colModel,f=[];this.numbering&&f.push(6);for(var g=0,k=h.length;g<k&&!(h[g].rowIndex&&1<h[g].rowIndex);g++){var d=parseFloat(h[g].width),d=parseInt(n.round(d/100*e*.15,2));f.push(d)}b.width=f.join("^")}b.sheetName=this.excelSheetName;this.excelContainsPI&&(b.containsPI=!0);null!=this.excelLayout&&(b.layout=this.excelLayout);0!=this.strExcelData.length&&(b.userCell=
[],b.userCell=this.strExcelData);e=[];g=this.headerTable.firstChild.childNodes.length;(this.multiCheck||this.singleCheck)&&g--;this.numbering&&g--;b.col=g;if(1==arguments.length||"boolean"==typeof c&&!c){if(this.viewTitle){var k=this.headerTable,d=k.rows.length,l=null;b.header=[];var m=0;this.colFix&&(l=this.lheaderTable);for(g=0;g<d;g++){var p=[],h=0;if(this.colFix)for(var q=l.rows[g].cells.length,r=0;r<q;r++)f=l.rows[g].cells[r],f.id&&(p[h++]=n.replace(this.getTdElementVal(f.firstChild,this.bTitleMerge),
"<br>","\n"));q=k.rows[g].cells.length;for(r=0;r<q;r++)f=k.rows[g].cells[r],f.id&&(p[h++]=n.replace(this.getTdElementVal(f.firstChild,this.bTitleMerge),"<br>","\n"));b.header[m++]=p}}for(g=0;g<this.colBodyLen;g++)e.push(this.colBody[g].colName);if(0<this.DumpDataLen){if(!this.bBodyMerge){f=[];k=[];d=0;if(1<this.maxBodyRowIdx){f[d]=[];k[d]=[];for(g=r=0;g<this.colModelLen;g++)if(d+1!=parseInt(this.colModel[g].rowIndex,10)&&(d++,f[d]=[],k[d]=[],r=0),this.colModel[g].colName){this.colModel[g].align?"left"==
this.colModel[g].align?f[d][r]="L":"center"==this.colModel[g].align?f[d][r]="C":"right"==this.colModel[g].align&&(f[d][r]="R"):f[d][r]="C";0==g&&this.treeStruct.icon&&(f[d][g]="L");if(n.isNull(this.colModel[g].type)||"input"==this.colModel[g].type)if(this.colModel[g].dataNX&&"text"!=this.colModel[g].dataNX.type)if(this.colModel[g].dataNX.mask)if("num"==this.colModel[g].dataNX.type)if(h=this.colModel[g].dataNX.mask,l=eval('"'+h+'"'),-1!=l.indexOf("."))for(h=l.substr(0,l.indexOf(".")),l=l.substr(l.indexOf(".")+
1),"#"==h.substr(h.length-1)&&(h=h.substr(0,h.length-1)+"0"),k[d][r]=h,k[d][r]+=".",h=0;h<l.length;h++)k[d][r]+="0";else"#"==l.substr(l.length-1)&&(k[d][r]=l.substr(0,l.length-1)+"0");else k[d][r]=this.colModel[g].dataNX.mask;else k[d][r]="num"==this.colModel[g].dataNX.type?"#,##0":" ";else k[d][r]=" ";else k[d][r]=" ";r++}b.align=Array(this.maxBodyRowIdx);b.mask=Array(this.maxBodyRowIdx);r=[];h=[];for(g=0;g<f.length;g++)r[g]=f[g].join("^"),h[g]=k[g].join("^");b.align=r.join("^");this.bBodyMerge||
(b.mask=h.join("^"))}else{for(g=r=0;g<this.colModelLen;g++)if(this.colModel[g].colName){this.colModel[g].align?"left"==this.colModel[g].align?f[r]="L":"center"==this.colModel[g].align?f[r]="C":"right"==this.colModel[g].align&&(f[r]="R"):f[r]="C";0==g&&this.treeStruct.icon&&(f[g]="L");if(n.isNull(this.colModel[g].type)||"input"==this.colModel[g].type)if(this.colModel[g].dataNX&&"text"!=this.colModel[g].dataNX.type)if(this.colModel[g].dataNX.mask)if("num"==this.colModel[g].dataNX.type)if(h=this.colModel[g].dataNX.mask,
l=eval('"'+h+'"'),-1!=l.indexOf("."))for(h=l.substr(0,l.indexOf(".")),l=l.substr(l.indexOf(".")+1),"#"==h.substr(h.length-1)&&(h=h.substr(0,h.length-1)+"0"),k[r]=h,k[r]+=".",h=0;h<l.length;h++)k[r]+="0";else"#"==l.substr(l.length-1)&&(k[r]=l.substr(0,l.length-1)+"0");else k[r]=this.colModel[g].dataNX.mask;else k[r]="num"==this.colModel[g].dataNX.type?"#,##0":" ";else k[r]=" ";else k[r]=" ";r++}b.align=f.join("^");this.bBodyMerge||(b.mask=k.join("^"))}f=[];k=[];r=[];h=[]}k=this.bodyTable;d=k.rows.length;
l=null;this.colFix&&(l=this.lbodyTable);b.body=[];for(g=m=0;g<d;g++){p=[];h=0;if(this.colFix){q=l.rows[g].cells.length;if(jQuery(l.rows[g]).hasClass("state-hide"))continue;for(r=0;r<q;r++)f=l.rows[g].cells[r],f.id&&(f.firstChild&&"DIV"==f.firstChild.tagName?p[h++]=f.firstChild.firstChild.style.width:p[h++]=n.replace(this.getTdElementVal(f,this.bBodyMerge),"\r\n","\n"))}q=k.rows[g].cells.length;if(!jQuery(k.rows[g]).hasClass("state-hide")){for(r=0;r<q;r++)f=k.rows[g].cells[r],f.id&&(f.firstChild&&
"DIV"==f.firstChild.tagName?p[h++]=f.firstChild.firstChild.style.width:p[h++]=n.replace(this.getTdElementVal(f,this.bBodyMerge),"\r\n","\n"));b.body[m++]=p}}}if(0<this.colBottomLen){k=this.totalTable;d=k.rows.length;l=null;this.colFix&&(l=this.ltotalTable);b.bottom=[];for(var m=0,p=[],x=0,g=0;g<d;g++){p[g]=[];var z=[],h=0;if(this.colFix)for(q=l.rows[g].cells.length,r=0;r<q;r++)f=l.rows[g].cells[r],f.id&&(f.style.textAlign?"left"==f.style.textAlign?p[g][x++]="L":"center"==f.style.textAlign?p[g][x++]=
"C":"right"==f.style.textAlign?p[g][x++]="R":p[g][x++]="C":p[g][x++]="C",z[h++]=this.getTdElementVal(f,this.bBottomMerge));q=k.rows[g].cells.length;for(r=0;r<q;r++)f=k.rows[g].cells[r],f.id&&(f.style.textAlign?"left"==f.style.textAlign?p[g][x++]="L":"center"==f.style.textAlign?p[g][x++]="C":"right"==f.style.textAlign?p[g][x++]="R":p[g][x++]="C":p[g][x++]="C",z[h++]=this.getTdElementVal(f,this.bBottomMerge));b.bottom[m++]=z}b.bAlign=Array(d);for(g=0;g<d;g++)b.bAlign[g]=p[g].join("^")}}else if("boolean"==
typeof c&&c){b.col=this.colModelLen;if(this.viewTitle){k=this.headerTable;d=k.rows.length;l=null;this.colFix&&(l=this.lheaderTable);b.header=[];m=0;p=[];for(g=0;g<d;g++){h=0;p[g]=[];if(this.colFix)for(q=0,q=l.rows[g].cells.length,r=0;r<q;r++)f=l.rows[g].cells[r],f.id&&(p[g][h++]=n.replace(this.getTdElementVal(f.firstChild,this.bTitleMerge),"<br>","\n"));q=0;q=k.rows[g].cells.length;for(r=0;r<q;r++)f=k.rows[g].cells[r],f.id&&(p[g][h++]=n.replace(this.getTdElementVal(f.firstChild,this.bTitleMerge),
"<br>","\n"))}b.header=[];b.header[0]=[];for(r=0;r<p.length;r++)b.header[0]=jQuery.merge(b.header[0],p[r]);p=[]}for(g=0;g<this.colBodyLen;g++)e.push(this.colBody[g].colName);if(0<this.DumpDataLen){if(!this.bBodyMerge)if(f=[],k=[],d=0,1<this.maxBodyRowIdx){f[d]=[];k[d]=[];for(g=r=0;g<this.colModelLen;g++)if(d+1!=parseInt(this.colModel[g].rowIndex,10)&&(d++,f[d]=[],k[d]=[],r=0),this.colModel[g].colName){this.colModel[g].align?"left"==this.colModel[g].align?f[d][r]="L":"center"==this.colModel[g].align?
f[d][r]="C":"right"==this.colModel[g].align&&(f[d][r]="R"):f[d][r]="C";if(n.isNull(this.colModel[g].type)||"input"==this.colModel[g].type)if(this.colModel[g].dataNX&&"text"!=this.colModel[g].dataNX.type)if(this.colModel[g].dataNX.mask)if("num"==this.colModel[g].dataNX.type)if(h=this.colModel[g].dataNX.mask,l=eval('"'+h+'"'),-1!=l.indexOf("."))for(h=l.substr(0,l.indexOf(".")),l=l.substr(l.indexOf(".")+1),"#"==h.substr(h.length-1)&&(h=h.substr(0,h.length-1)+"0"),k[d][r]=h,k[d][r]+=".",h=0;h<l.length;h++)k[d][r]+=
"0";else"#"==l.substr(l.length-1)&&(k[d][r]=l.substr(0,l.length-1)+"0");else k[d][r]=this.colModel[g].dataNX.mask;else k[d][r]="num"==this.colModel[g].dataNX.type?"#,##0":" ";else k[d][r]=" ";else k[d][r]=" ";r++}b.align=Array(this.maxBodyRowIdx);b.mask=Array(this.maxBodyRowIdx);r=[];h=[];for(g=0;g<f.length;g++)r[g]=f[g].join("^"),h[g]=k[g].join("^");b.align=r.join("^");this.bBodyMerge||(b.mask=h.join("^"));f=[];k=[];r=[];h=[]}else{for(g=r=0;g<this.colModelLen;g++)if(this.colModel[g].colName){this.colModel[g].align?
"left"==this.colModel[g].align?f[r]="L":"center"==this.colModel[g].align?f[r]="C":"right"==this.colModel[g].align&&(f[r]="R"):f[r]="C";if(n.isNull(this.colModel[g].type)||"input"==this.colModel[g].type)if(this.colModel[g].dataNX&&"text"!=this.colModel[g].dataNX.type)if(this.colModel[g].dataNX.mask)if("num"==this.colModel[g].dataNX.type)if(h=this.colModel[g].dataNX.mask,l=eval('"'+h+'"'),-1!=l.indexOf("."))for(h=l.substr(0,l.indexOf(".")),l=l.substr(l.indexOf(".")+1),"#"==h.substr(h.length-1)&&(h=
h.substr(0,h.length-1)+"0"),k[r]=h,k[r]+=".",h=0;h<l.length;h++)k[r]+="0";else"#"==l.substr(l.length-1)&&(k[r]=l.substr(0,l.length-1)+"0");else k[r]=this.colModel[g].dataNX.mask;else k[r]="num"==this.colModel[g].dataNX.type?"#,##0":" ";else k[r]=" ";else k[r]=" ";r++}b.align=f.join("^");this.bBodyMerge||(b.mask=k.join("^"));f=[];k=[]}k=this.bodyTable;d=k.rows.length;l=null;this.colFix&&(l=this.lbodyTable);b.body=[];m=0;p=[];for(g=0;g<d;g++){q=0;p[g]=[];h=0;if(this.colFix)for(q=l.rows[g].cells.length,
r=0;r<q;r++)if(f=l.rows[g].cells[r],f.id)if(f.firstChild&&"DIV"==f.firstChild.tagName)p[g][h++]=f.firstChild.firstChild.style.width;else if(p[g][h++]=n.replace(this.getTdElementVal(f,this.bBodyMerge),"\r\n","\n"),x=f.id.substr((this.g_ID+"-td-").length),m=0,this.colBody[0].colName==x)for(m=parseInt(jQuery(f.firstChild).css("margin-left"))/10-1,f=0;f<m;f++)p[g][h-1]=0==f?"└"+p[g][h-1]:"  "+p[g][h-1];q=k.rows[g].cells.length;for(r=0;r<q;r++)if(f=k.rows[g].cells[r],f.id)if(f.firstChild&&"DIV"==f.firstChild.tagName)p[g][h++]=
f.firstChild.firstChild.style.width;else if(p[g][h++]=n.replace(this.getTdElementVal(f,this.bBodyMerge),"\r\n","\n"),x=f.id.substr((this.g_ID+"-td-").length),m=0,this.colBody[0].colName==x)for(m=parseInt(jQuery(f.firstChild).css("margin-left"))/10-1,f=0;f<m;f++)p[g][h-1]=0==f?"└"+p[g][h-1]:"  "+p[g][h-1]}for(g=h=0;g<p.length;g+=this.maxBodyRowIdx){b.body[h]=[];for(r=0;r<this.maxBodyRowIdx;r++)b.body[h]=jQuery.merge(b.body[h],p[g+r]);h++}p=[]}if(0<this.colBottomLen&&0<this.DumpDataLen){k=this.totalTable;
d=k.rows.length;l=null;this.colFix&&(l=this.ltotalTable);b.bottom=[];q=m=0;z=[];for(g=0;g<d;g++){z[g]=[];h=0;if(this.colFix)for(q=l.rows[g].cells.length,r=0;r<q;r++)f=l.rows[g].cells[r],f.id&&(z[g][h++]=n.replace(this.getTdElementVal(f,this.bBottomMerge),"<br>","\n"));q=k.rows[g].cells.length;for(r=0;r<q;r++)f=k.rows[g].cells[r],f.id&&(z[g][h++]=n.replace(this.getTdElementVal(f,this.bBottomMerge),"<br>","\n"))}b.bottom=[];b.bottom[0]=[];for(r=0;r<z.length;r++)b.bottom[0]=jQuery.merge(b.bottom[0],
z[r]);z=[]}}else{if(c.title)if(jQuery.isArray(c.title[0])){b.header=[];for(g=0;g<c.title.length;g++)b.header[g]=c.title[g];b.col=c.title[g].length}else b.header=[],b.header[0]=c.title,b.col=c.title.length;if(0<this.DumpDataLen){if(c.align&&c.mask&&c.align.length!=c.mask.length){n.logger.log(n.getMessage("W0410"));return}if(c.align){for(g=0;g<c.align.length;g++)""==c.align[g]&&(c.align[g]=" ");b.align=c.align.join("^")}if(c.mask){for(g=0;g<c.mask.length;g++)""==c.mask[g]&&(c.mask[g]=" ");b.mask=c.mask.join("^")}h=
null;c.column&&(h={},h.cols=c.column);if(c.bottom)if(jQuery.isArray(c.bottom[0]))for(b.bottom=[],g=0;g<c.bottom.length;g++)b.bottom[g]=c.bottom[g];else b.bottom=[],b.bottom[0]=c.bottom;h=this.getAllRow(h);b.col=c.column.length;b.body=Array(h.length);for(g=0;g<b.col;g++)e.push(c.column[g]);for(g=0;g<h.length;g++){k=[];d=0;for(r in h[g])(f=this.getTdElement("body",g,r))?k[d++]=n.replace(n.replace(this.getTdElementVal(f,!1,!1),"&nbsp;"," "),"<br>","\n"):k[d++]=n.replace(h[g][r].toString(),"\r\n","\n");
b.body[g]=k}}delete c}this.excelContainsPI&&(b.colName=e.join("^"));var A=this,B=b.name,e=jQuery('<form id="json2excel" method="post" action='+n._getServletUri("excel")+"></form>");jQuery('<input name="xls" type="hidden">').val(n.convertString(b,!1)).appendTo(e);e.appendTo(document.body);g=jQuery(this).attr("action");jQuery.ajax({url:g,type:"POST",success:function(a,b,c){A.excelSuccess&&setTimeout(function(){"function"==typeof A.excelSuccess?A.excelSuccess(B):eval(A.excelSuccess)(B);A.excelSuccess=
null},1E3)},error:function(a,b,c){}});e.submit().remove();delete b;this.excelColwidth="";this.excelLayout=null;this.strExcelData=[];this.excelSheetName="";this.excelContainsPI=!1;this.excelTitle="";b=[]},getTdElementVal:function(a,c){var b="",g=!0;3==arguments.length&&(g=!1);if(null==a||"undefined"==typeof a)return"";var e=a.cloneNode(!0);if(-1!=a.parentNode.parentNode.parentNode.parentNode.id.indexOf("body")){var h=a.id.substr((this.g_ID+"-td-").length);this.colBody[0].colName==h&&(this.treeStruct.icon&&
e.removeChild(e.childNodes[0]),e.removeChild(e.childNodes[0]),a=e)}if(a.firstChild)if(e=a.firstChild,"INPUT"==e.tagName)if("text"==e.type)b=n(e).val();else if("checkbox"==e.type)for(e=0;e<a.childNodes.length;e++)"INPUT"==a.childNodes[e].tagName&&"checkbox"==a.childNodes[e].type&&a.childNodes[e].checked&&a.childNodes[e].getAttribute("data-nx")&&(h=a.childNodes[e].getAttribute("data-nx"),b=(new Function("return "+h))(),b=b.checkValue);else if("radio"==e.type)for(e=0;e<a.childNodes.length;e++)"INPUT"==
a.childNodes[e].tagName&&"radio"==a.childNodes[e].type&&a.childNodes[e].checked&&(b=a.childNodes[e].getAttribute("value"));else b="button"==e.type?"":e.value;else if("P"==e.tagName)b=e.innerHTML;else if("IMG"==e.tagName)b="";else if("SPAN"==e.tagName)c?b=e.innerHTML:(h=e.getAttribute("data-nx"),b=null,h&&(b=(new Function("return "+h))()),b=null!=b?b.type?"num"==b.type?n.unValNum(e.innerHTML):e.innerHTML:e.innerHTML:e.innerHTML);else if("SELECT"==e.tagName)b=e[e.selectedIndex].text;else if("TEXTAREA"==
e.tagName)b=e.value;else if("A"==e.tagName)b=e.innerHTML;else if(c)b=a.innerHTML;else{b=null;for(e=0;e<this.colModelLen;e++)if(a.id.substr((this.g_ID+"-td-").length)==this.colModel[e].colName){this.colModel[e].dataNX&&(b=this.colModel[e].dataNX);break}b=null!=b?b.type?"num"==b.type?b.mask?n.unValNum(a.innerHTML,b.mask):n.unValNum(a.innerHTML):a.innerHTML:a.innerHTML:a.innerHTML}else if(c)b=a.innerHTML;else{b=null;for(e=0;e<this.colModelLen;e++)if(a.id.substr((this.g_ID+"-td-").length)==this.colModel[e].colName){this.colModel[e].dataNX&&
(b=this.colModel[e].dataNX);break}b=null!=b?b.type?"num"==b.type?b.mask?n.unValNum(a.innerHTML,b.mask):n.unValNum(a.innerHTML):a.innerHTML:a.innerHTML:a.innerHTML}e="DIV"==a.tagName?a.parentNode:a;g?(b=n.replace(b.toString(),"&nbsp;"," "),e.getAttribute("colspan")&&(b+="$C"+e.getAttribute("colspan")),e.getAttribute("rowspan")&&(b+="$R"+e.getAttribute("rowspan"))):b=n.replace(b.toString()," ","&nbsp;");return b},reSize:function(){this.fixCol=!1;this.gridResize(this.g_ID)},sortColumn:function(a,c,b){var g=
this.colBodyLen,e=this.DumpDataLen;if(!isNaN(a)&&(0>a||a>=g)||2>arguments.length||1>=e)return!1;var h=a,f="string",k=null,d=this.treeStruct.separate,l=this.treeStruct.key,m=this.getBodyTdElement(0,h);if(n.isNull(m)){if("undefined"==typeof this.DumpData[0].dt[h])return!1;3==arguments.length&&(f=b)}else{h=m.id.substr((this.g_ID+"-td-").length);for(m=0;m<g;m++)h==this.colBody[m].colName&&(k=this.colBody[m]);if(null==k)return!1}!k||n.isNull(k.dataNX)||n.isNull(k.dataNX.type)||(f=k.dataNX.type);for(var p=
this.DumpData.slice(0),q=this.DumpAttr.slice(0),r=[],x=0,g=0,k=function(a,b,c){for(var e=0,f;f=a[e];e++){var g=b.dt[l];if(g.substring(0,g.lastIndexOf(d))==f.treekey){e={};e.DumpData=b;e.DumpAttr=c;e.treekey=b.dt[l];e.idx=b.idx;e.children=[];f.children.push(e);x++;p.splice(jQuery(p).index(b),1);q.splice(jQuery(q).index(c),1);f.children.sort(function(a,b){return a.treekey<b.treekey?-1:a.treekey>b.treekey?1:0});break}else f.children.length&&arguments.callee(f.children,b,c)}};x!=e&&e!=g++;)for(var m=
0,z;z=p[m];m++){var A=p[m].dt[l];1==A.split(d).length?(z={},z.DumpData=p[m],z.DumpAttr=q[m],z.treekey=A,z.idx=p[m].idx,z.children=[],r.push(z),x++,p.splice(m,1),q.splice(m,1),r.sort(function(a,b){return a.treekey<b.treekey?-1:a.treekey>b.treekey?1:0})):k(r,z,q[m])}var B=this;for(loopSort=function(a){for(;;){B.splitSort(a,h,c,f);for(var b=0,d=a.length;b<d;b++)arguments.callee(a[b].children);break}};;){this.splitSort(r,h,c,f);m=0;for(x=r.length;m<x;m++)loopSort(r[m].children);break}g=jQuery(this.bodyTable.childNodes[1]).clone(!0).get(0);
k=null;this.colFix&&(k=jQuery(this.lbodyTable.childNodes[1]).clone(!0).get(0));this.removeAll();var u=0;for(loopAdd=function(a){for(;;){for(var b=0,c=a.length;b<c;b++)B.DumpData[u]=a[b].DumpData,B.DumpAttr[u]=a[b].DumpAttr,u++,arguments.callee(a[b].children);break}};;){m=0;for(x=r.length;m<x;m++)this.DumpData[u]=r[m].DumpData,this.DumpAttr[u]=r[m].DumpAttr,u++,loopAdd(r[m].children);break}r=document.createElement("tbody");A=document.createElement("tbody");z=null;for(var y="",t="",C=0,m=0;m<e;m++){for(u=
0;u<this.maxBodyRowIdx;u++)z=jQuery(g.rows[(this.DumpData[m].idx-1)*this.maxBodyRowIdx+u]).clone(!0),this.colFix&&(ltempTr=jQuery(k.rows[(this.DumpData[m].idx-1)*this.maxBodyRowIdx+u]).clone(!0)),0!=u||z.hasClass("state-hide")||(1==C%2?(y="grid-body-even",t="grid-body-odd"):(y="grid-body-odd",t="grid-body-even"),C++),0==u&&z.find("td:first").hasClass("grid-body-click")&&(this.clickTR=m*this.maxBodyRowIdx),z.addClass(y).removeClass(t),z=z.get(0),r.appendChild(z),this.colFix&&(ltempTr.addClass(y).removeClass(t),
ltempTr=ltempTr.get(0),A.appendChild(ltempTr));this.DumpData[m].idx=m+1}this.DumpDataLen=e;this.bodyTable.replaceChild(r,this.bodyTable.childNodes[1]);this.colFix&&this.lbodyTable.replaceChild(A,this.lbodyTable.childNodes[1])},splitSort:function(a,c,b,g){"asc"==b?"num"==g||"number"==g||"digit"==g?a.sort(function(a,b){if(-1!=c.indexOf("/")){for(var e=c.split("/"),g=a.DumpData.dt,d=b.DumpData.dt,h=0;h<e.length;h++)g=g[e[h]],d=d[e[h]];return parseFloat(g)-parseFloat(d)}return parseFloat(a.DumpData.dt[c])-
parseFloat(b.DumpData.dt[c])}):a.sort(function(a,b){if(-1!=c.indexOf("/")){for(var e=c.split("/"),g=a.DumpData.dt,d=b.DumpData.dt,h=0;h<e.length;h++)g=g[e[h]],d=d[e[h]];return g<d?-1:g>d?1:0}return a.DumpData.dt[c]<b.DumpData.dt[c]?-1:a.DumpData.dt[c]>b.DumpData.dt[c]?1:0}):"num"==g||"number"==g||"digit"==g?a.sort(function(a,b){if(-1!=c.indexOf("/")){for(var e=c.split("/"),g=a.DumpData.dt,d=b.DumpData.dt,h=0;h<e.length;h++)g=g[e[h]],d=d[e[h]];return parseFloat(d)-parseFloat(g)}return parseFloat(b.DumpData.dt[c])-
parseFloat(a.DumpData.dt[c])}):a.sort(function(a,b){if(-1!=c.indexOf("/")){for(var e=c.split("/"),g=a.DumpData.dt,d=b.DumpData.dt,h=0;h<e.length;h++)g=g[e[h]],d=d[e[h]];return g>d?-1:g<d?1:0}return a.DumpData.dt[c]>b.DumpData.dt[c]?-1:a.DumpData.dt[c]<b.DumpData.dt[c]?1:0});return a},addEmptyRow:function(){},filterData:function(){},multiSort:function(){},setTplSelectOptions:function(a,c){this.setTplCell(a,{type:"select",options:c})},setTplCellEditable:function(){},setTplCellAlign:function(){},setCellNX:function(){},
colHide:function(a){if(isNaN(a))for(var c=0;c<this.colModelLen;c++)if(this.colModel[c].colName&&a==this.colModel[c].colName){a=c;1<this.maxBodyRowIdx&&(a%=this.colModelLen/this.maxBodyRowIdx);break}this.colModel[a].hide=!0;for(var b=0,g=-1,e=this.headerTable,c=0;c<e.childNodes[0].childNodes.length;c++)if(e.childNodes[0].childNodes[c].id&&e.childNodes[0].childNodes[c].id.substr((this.g_ID+"-headercol").length)==a){b=parseFloat(e.childNodes[0].childNodes[c].getAttribute("width"));e.childNodes[0].removeChild(e.childNodes[0].childNodes[c]);
g=c;break}if(0==parseInt(b))return!1;for(c=0;c<this.maxTitleRowIdx;c++)for(var h=0;h<e.rows[c].cells.length;h++)if(a==jQuery(e.rows[c].cells[h]).attr("colIndex")){jQuery(e.rows[c].cells[h]).css("display","none");break}var f=this.bodyTable;if(0<this.DumpDataLen)for(c=0;c<f.rows.length;c++)for(h=0;h<f.rows[c].cells.length;h++)if(a==jQuery(f.rows[c].cells[h]).attr("colIndex")){jQuery(f.rows[c].cells[h]).css("display","none");break}f.childNodes[0].removeChild(f.childNodes[0].childNodes[g]);if(0<this.colBottomLen){for(var k=
this.totalTable,c=0;c<this.maxBottomRowIdx;c++)for(h=0;h<k.rows[c].cells.length-1;h++)if(a==jQuery(k.rows[c].cells[h]).attr("colIndex")){jQuery(k.rows[c].cells[h]).css("display","none");break}k.childNodes[0].removeChild(k.childNodes[0].childNodes[g])}a=parseFloat(e.style.width);jQuery(e).css("width",a-b+"px");jQuery(f).css("width",a-b+"px");0<this.colBottomLen&&jQuery(this.totalTable).css("width",a-b+"px");this.bodyWidth&&(e=parseInt(this.scrollOffset),this.colFix&&this.colFix.right&&(e=0),jQuery(A(this.g_ID+
"-header")).css("width",a-b+e+"px"),jQuery(A(this.g_ID+"-body")).css("width",a-b+e+"px"),0<this.colBottomLen&&jQuery(A(this.g_ID+"-total")).css("width",a-b+e+"px"));this.gridResize(this.g_ID);0<this.colBottomLen?A(this.g_ID+"-outerbody").scrollLeft=A(this.g_ID+"-outertotal").scrollLeft:A(this.g_ID+"-outerheader").scrollLeft=A(this.g_ID+"-outerbody").scrollLeft;return!0},colShow:function(a){if(isNaN(a))for(var c=0;c<this.colModelLen;c++)if(this.colModel[c].colName&&a==this.colModel[c].colName){a=c;
1<this.maxBodyRowIdx&&(a%=this.colModelLen/this.maxBodyRowIdx);break}this.colModel[a].hide=!1;a=parseInt(a);var b=0,g=0;if(this.multiCheck||this.singleCheck)b+=parseInt(this.checkWidth),g++;this.numbering&&(b+=parseInt(this.numberingWidth),g++);var e;if(this.viewTitle){e=this.colHeaderLen/this.maxTitleRowIdx;if(this.colFix&&(this.colFix.left&&parseInt(this.colFix.left)>a%e||this.colFix.right&&e-parseInt(this.colFix.right)<=a%e))return!1;for(var h=this.headerTable.childNodes[0].childNodes,f=h.length,
c=0;c<f;c++)if(h[c].id&&parseInt(h[c].id.substr((this.g_ID+"-headercol").length))==a%e)return!1}else{e=this.colModelLen/this.maxBodyRowIdx;if(this.colFix&&(this.colFix.left&&parseInt(this.colFix.left)>a%e||this.colFix.right&&e-parseInt(this.colFix.right)<=a%e))return!1;h=this.bodyTable.childNodes[0].childNodes;f=h.length;for(c=0;c<f;c++)if(h[c].id&&parseInt(h[c].id.substr((this.g_ID+"-bodycol").length))==a%e)return!1}this.bodyWidth?(c=this.colHeader[a].width,c=parseFloat(c),b=this.dynamicGrid?c:parseFloat(c/
100*(this.bodyWidth-b))):(c=this.colHeader[a].width,c=parseFloat(c),e=parseFloat(jQuery(A(this.g_ID+"-header")).width()),e-=parseInt(this.scrollOffset),b=this.dynamicGrid?c:parseFloat(c/100*(e-b)));c=document.createElement("col");c.id=this.g_ID+"-headercol"+a;jQuery(c).attr("width",b+"px");e=this.headerTable;e.childNodes[0].childNodes.length-1>a+g?jQuery(c).insertBefore(jQuery(e.childNodes[0].childNodes[a+g])):1==e.childNodes[0].childNodes.length?jQuery(c).insertBefore(jQuery(e.childNodes[0].childNodes[0])):
jQuery(c).insertAfter(jQuery(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-2]));for(c=0;c<this.maxTitleRowIdx;c++)for(var f=e.rows[c].cells.length,k=0;k<f;k++)if(a==jQuery(e.rows[c].cells[k]).attr("colIndex")){jQuery(e.rows[c].cells[k]).css("display","");break}c=document.createElement("col");c.id=this.g_ID+"-bodycol"+a;jQuery(c).attr("width",b+"px");h=this.bodyTable;h.childNodes[0].childNodes.length>a+g?jQuery(c).insertBefore(jQuery(h.childNodes[0].childNodes[a+g])):0==h.firstChild.childNodes.length?
h.firstChild.appendChild(c):jQuery(c).insertAfter(jQuery(h.childNodes[0].childNodes[h.childNodes[0].childNodes.length-1]));if(0<this.DumpDataLen)for(f=h.rows.length,c=0;c<f;c++)for(k=0;k<h.rows[c].cells.length;k++)if(a==jQuery(h.rows[c].cells[k]).attr("colIndex")){jQuery(h.rows[c].cells[k]).css("display","");break}if(0<this.colBottomLen)for(c=document.createElement("col"),c.id=this.g_ID+"-totalcol"+a,c.setAttribute("width",b+"px"),f=this.totalTable,f.childNodes[0].childNodes.length-1>a+g?jQuery(c).insertBefore(jQuery(f.childNodes[0].childNodes[a+
g])):1==f.childNodes[0].childNodes.length?jQuery(c).insertBefore(jQuery(f.childNodes[0].childNodes[0])):jQuery(c).insertAfter(jQuery(f.childNodes[0].childNodes[f.childNodes[0].childNodes.length-2])),c=0;c<this.maxBottomRowIdx;c++)for(k=0;k<f.rows[c].cells.length-1;k++)if(a==jQuery(f.rows[c].cells[k]).attr("colIndex")){jQuery(f.rows[c].cells[k]).css("display","");break}a=parseFloat(e.style.width);jQuery(e).css("width",a+b+"px");jQuery(h).css("width",a+b+"px");0<this.colBottomLen&&jQuery(this.totalTable).css("width",
a+b+"px");this.bodyWidth&&(g=parseInt(this.scrollOffset),this.colFix&&this.colFix.right&&(g=0),jQuery(A(this.g_ID+"-header")).css("width",a+b+g+"px"),jQuery(A(this.g_ID+"-body")).css("width",a+b+g+"px"),0<this.colBottomLen&&jQuery(A(this.g_ID+"-total")).css("width",a+b+g+"px"));this.gridResize(this.g_ID)},emptyRows:function(){1<this.bodyTable.childNodes.length&&this.cleanup(this.g_ID+"-body");this.colFix&&1<this.lbodyTable.childNodes.length&&this.cleanup(this.g_ID+"-l-body")},cleanup:function(a){a=
A(a).firstChild;if(1<a.childNodes.length&&a.childNodes[1].hasChildNodes()){var c=a.childNodes[1];a.removeChild(c);c.innerHTML="";a.appendChild(document.createElement("tbody"))}},setColumnSum:function(){},setColumnAvg:function(){},mergeGroupCell:function(){},setGroupCell:function(){},getGroupCell:function(){},setGroupSum:function(){},setGroupAvg:function(){},setGroupCnt:function(){},getColumnSum:function(){},getColumnAvg:function(){},multiFilter:function(){},addColumn:function(){},deleteColumn:function(){},
showRealLine:function(){},showRowLine:function(){},autoMerge:function(){},fixColumn:function(){this.fixCol=!1;this.gridResize(this.g_ID);this.fixCol=!0;var a=this.bodyTable.childNodes[0].childNodes,c=null,b=null;if(this.viewTitle||0<this.colHeaderLen)c=this.headerTable.childNodes[0].childNodes;0<this.colBottomLen&&(b=this.totalTable.childNodes[0].childNodes);var g;g=null!=c?c.length:a.length;var e=0;(this.multiCheck||this.singleCheck)&&e++;this.numbering&&e++;for(var h=0,f=e;f<g;f++)h=null!=c?h+parseFloat(jQuery(c[f]).attr("width")):
h+parseFloat(jQuery(a[f]).attr("width"));0!=this.innerBodyWidth?f=this.innerBodyWidth-this.scrollOffset:(f=parseFloat(jQuery("#"+this.g_ID).width()),f-=parseInt(this.scrollOffset));h=f-h-e*this.checkWidth;for(h/=g-e;e<g;e++){if(null!=c){var k=parseFloat(jQuery(c[e]).attr("width"));jQuery(c[e]).attr("width",k+h+"px")}else k=parseFloat(jQuery(a[e]).attr("width"));jQuery(a[e]).attr("width",k+h+"px");0<this.colBottomLen&&jQuery(b[e]).attr("width",k+h+"px")}jQuery("#"+this.g_ID+"-header table").css("width",
f+"px");jQuery("#"+this.g_ID+"-total table").css("width",f+"px");jQuery("#"+this.g_ID+"-body table").css("width",f+"px");this.fixCol=!0},autoFit:function(){var a=[],c=this.DumpDataLen,b=this.colModelLen,g=[],e=0;if(0<c){this.isAutoFit=!0;for(d=0;d<b;d++){var h=this.colModel[d];if(h.colName)switch(h.type){case "input":if(h.dataNX){var f=h.dataNX;f.type||(f.type="text");var k=f.type.toUpperCase();if("num"!=k&&"digit"!=k&&f.mask)f=f.mask.length,a[d]=7*f;else if("NUM"==k)a[d]=h.colName,g[e++]=d;else if("TEL"==
k||"MOBILE"==k||"SSNALL"==k||"SBNALL"==k||"MASK"==k||n.validator.event._getBaseMask(k)){switch(k){case "TEL":case "MOBILE":f=13;break;case "SSNALL":case "SBNALL":f=14;break;case "MASK":f=f.mask.length;break;case "DATETIME":f=19;break;default:f=n.validator.event._getBaseMask(k).length}a[d]=7*f}else a[d]=h.colName,g[e++]=d}else h.maxlength?a[d]=7*parseInt(h.maxlength):(a[d]=h.colName,g[e++]=d);break;case "link":if(h.options&&h.options.linkType)switch(h.options.linkType){case "tel":case "sms":f=13;a[d]=
7*f;break;default:a[d]=h.colName}else a[d]=h.colName;break;case "graph":a[d]=100;break;case "image":a[d]=50;break;case "select":case "editSelect":f=0;if(h.options)if(h=h.options,jQuery.isArray(h))for(k=0;k<h.length;k++)f<n.getByteLength(h[k].label)&&(f=n.getByteLength(h[k].label));else f=n.getByteLength(h.label);0==f?a[d]=100:(a[d]=7*f,a[d]+=40);break;case "radio":case "checkbox":case "button":f=0;if(h.options){h=h.options;if(jQuery.isArray(h))for(k=0;k<h.length;k++)f+=7*n.getByteLength(h[k].label),
f+=25;else f=7*n.getByteLength(h.label),f+=25;a[d]=f}else a[d]=100;break;case "textarea":a[d]=100;break;default:a[d]=h.colName,g[e++]=d}else a[d]="spanArea"}if(0<g.length)for(var d=0;d<g.length;d++){for(var h=a[g[d]],l=e=!1,m=!1,k=0;k<this.colModelLen;k++)h==this.colModel[k].colName&&this.colModel[k].dataNX&&this.colModel[k].dataNX.type&&("num"==this.colModel[k].dataNX.type?e=!0:"datetime"==this.colModel[k].dataNX.type?m=!0:"digit"==this.colModel[k].dataNX.type&&(l=!0));for(k=f=0;k<c;k++){var p=this.DumpData[k].dt[h];
e?(p=parseInt(p).toString().length,p+=parseInt(p/4)):l?p=p.toString().length:m?(p=p.toString().length,p+=5):p=n.getByteLength(this.DumpData[k].dt[h]);f<p&&(f=p)}a[g[d]]=7*f}f=[];d=1;f[0]=[];for(k=c=0;k<b;k++)h=this.colModel[k],d!=h.rowIndex&&h.rowIndex&&(d=h.rowIndex,f[d-1]=[],c=0),f[d-1][c++]=a[k];a=[];if(1<this.maxBodyRowIdx)for(k=0;k<f.length;k++)for(d=0;d<f[k].length;d++){if(!a[d]||a[d]<f[k][d])a[d]=f[k][d]}else a=f[0];b=0;jQuery("#"+this.g_ID+"-body").find("table");e=h=null;0<this.colHeaderLen&&
(h=jQuery("#"+this.g_ID+"-header").find("table")[0].firstChild.childNodes);0<this.colBottomLen&&(e=jQuery("#"+this.g_ID+"-total").find("table")[0].firstChild.childNodes);g=jQuery("#"+this.g_ID+"-body").find("table")[0].firstChild.childNodes;f=g.length;d=k=0;if(this.multiCheck||this.singleCheck)k++,b+=25;this.numbering&&(k++,b+=25);c=a[0];c+=10*this.maxDepth;c+=15;b+=10*this.maxDepth;b+=15;this.treeStruct.icon&&(c+=15,b+=15);a[0]=c;l=0;for(k;k<f;k++)if("undefined"==typeof a[d])d++,l++;else if(c=g[k].id)c=
parseInt(n.replace(c,this.g_ID+"-bodycol","")),c>l?(l++,k--,d++):(parseFloat(a[d])>parseFloat(g[k].getAttribute("width"))?(g[k].setAttribute("width",a[d]+"px"),h&&h[k].setAttribute("width",a[d]+"px"),e&&e[k].setAttribute("width",a[d]+"px"),b+=parseFloat(a[d])):b+=parseFloat(g[k].getAttribute("width")),d++,l++);jQuery("#"+this.g_ID+"-body").find("table").css("width",b+"px");jQuery("#"+this.g_ID+"-body").css("width",b+18+"px");0<this.colHeaderLen&&(jQuery("#"+this.g_ID+"-header").find("table").css("width",
b+"px"),jQuery("#"+this.g_ID+"-header").css("width",b+18+"px"));0<this.colBottomLen&&(jQuery("#"+this.g_ID+"-total").find("table").css("width",b+"px"),jQuery("#"+this.g_ID+"-total").css("width",b+18+"px"));this.isMobile&&jQuery("#"+this.g_ID+"-buttons").css("width",b+18+"px");this.innerBodyWidth=this.bodyWidth=b+18}}});n._addWidget("treegrid",n.widget.treegrid)})(naw);