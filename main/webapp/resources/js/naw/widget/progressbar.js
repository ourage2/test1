(function(b){b.namespace("widget.progressbar");b.widget.progressbar=b.widget.Base.extend({init:function(a,d){this.setName("progressbar");this._super("progressbar");var e={width:"400px",height:"20px"};a&&jQuery.extend(e,a);this._element=jQuery(d);this._value;this._max=100;this._min=0;this._text;this.options=e;if(this._element.attr("data-prop")){var c=b.convertObject(this._element.attr("data-prop"));b.isNull(c.visible)||(c.visible?this._element.show():this._element.hide());b.isNull(c.max)||(this._max=
c.max);b.isNull(c.min)||(this._min=c.min);b.isNull(c.text)||(this._text=c.text);b.isNull(c.value)?this.value(0):this.value(c.value)}this._element.css({width:e.width,height:e.height});this._element.addClass("progress-pnl").append("<div class='progress-percent'></div>").append("<div class='progress-text'></div>");this.__draw__()},max:function(a){return this.__prop__("max",a)},min:function(a){return this.__prop__("min",a)},value:function(a){b.isNull(a)||(a=parseInt(a),a>this._max?a=this._max:a<this._min&&
(a=this._min));return this.__prop__("value",a)},text:function(a){return this.__prop__("text",a)},visible:function(a){if(b.isNull(a))return this._element.is(":visible");a?this._element.show():this._element.hide()},height:function(a){if(b.isNull(a))return this._element.height(a).find("div").height();this._element.height(a).find("div").height(a);return this},width:function(a){if(b.isNull(a))return this._element.width();this._element.width(a);return this},__prop__:function(a,d){if(b.isNull(d))return this["_"+
a];this["_"+a]=d;this.__draw__();return this},__draw__:function(){var a=this.__calcPercent__(),d=a*parseInt(this.options.width)/100,a=b.isNull(this._text)?a+"%":this._text;this._element.find(".progress-percent").animate({width:d},0).end().find(".progress-text").text(a)},__calcPercent__:function(){return Math.round((this._value-this._min)/(this._max-this._min)*100)}});b._addWidget("progressbar",b.widget.progressbar)})(naw);