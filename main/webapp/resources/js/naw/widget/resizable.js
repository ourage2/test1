(function(g,h){var k=g.agent.mobile,l=k?"touchstart.resize":"mousedown.resize",r=k?"touchmove.resize":"mousemove.resize",t=k?"touchend.resize":"mouseup.resize";g._addFunction(!0,{resizable:function(m,x){return this.foreach(function(){function n(c){if(b.disable)return!1;var f=k?c.originalEvent.targetTouches[0]:c,e=f.pageX,f=f.pageY,e={width:a.width()||u(a,"width"),height:a.height()||u(a,"height"),offLeft:e,offTop:f,scroll:c.data.scroll};document.body.onselectstart=function(){return!1};a.css("-moz-user-select",
"none");b.opacity&&a.css("opacity",b.opacity);h(document).bind(r,{resizeData:e},v).bind(t,{resizeData:e},w);p(c)}function v(c){var f=k?c.originalEvent.targetTouches[0]:c,e=c.data.resizeData,d=Math.min(Math.max(f.pageX-e.offLeft+e.width,b.minWidth),b.maxWidth),f=Math.min(Math.max(f.pageY-e.offTop+e.height,b.minHeight),b.maxHeight);"h"==e.scroll?a.css("width",d):"v"==e.scroll?a.css("height",f):a.css({width:d,height:f});b.onResize(c);p(c)}function w(c){b.onStop(c);document.body.onselectstart=function(){return!0};
a.css("-moz-user-select","");b.opacity&&a.css("opacity",y);h(document).unbind(r,v).unbind(t,w);p(c)}function u(c,a){var b=parseInt(c.css(a));return isNaN(b)?!1:b}function p(a){a=a?a:window.event;a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.cancelBubble=!0;a.cancel=!0;return a.returnValue=!1}var a=h(this);if("string"===typeof m)return a.data("options")[m]=x,this;var b=h.extend({draggable:!1,disable:!1,minWidth:0,minHeight:0,maxWidth:h(document).width(),maxHeight:h(document).height(),
onResize:function(){},onStop:function(){}},m);a.data("options",b);var y=a.css("opacity");a.height()<b.minHeight&&a.height(b.minHeight);a.width()<b.minWidth&&a.width(b.minWidth);var d="-12px";"msie"==g.agent.browser&&9>=g.agent.version&&(d="-17px");var q=a.data("hHandler");g.isNull(q)&&(q=h("<div id='h-handler'>").css({cursor:"e-resize",border:"2px solid transparent",top:"0px",width:"15px",right:d,height:"100%",zIndex:"10001",position:"absolute",display:"block"}).bind(l,{scroll:"h"},n).appendTo(this),
a.data("hHandler",q));d=a.data("vHandler");g.isNull(d)&&(d=h("<div>").css({cursor:"s-resize",left:"0px",height:"15px",bottom:"-12px",width:"100%",zIndex:"10001",position:"absolute",display:"block"}).bind(l,{scroll:"v"},n).appendTo(this),a.data("vHandler",d));d=a.data("cHandler");g.isNull(d)&&(d=h("<div>").css({"z-index":"10001",width:"16px",height:"16px",cursor:"se-resize",bottom:"-5px",right:"-5px",position:"absolute",display:"block"}).bind(l,{scroll:"b"},n).appendTo(this),a.data("cHandler",d));
b.draggable&&g(this).draggable();b.opacity&&g(this).draggable("opacity",b.opacity)})}})})(naw,jQuery);