(function(h){h.namespace("widget.orgchart");h.widget.orgchart=h.widget.Base.extend({init:function(a,c){this.setName("orgchart");this._super();this.id=c.id;var b=this._getTemplate(a);this.straightConnector={connector:"Flowchart",paintStyle:{lineWidth:3,strokeStyle:"#162453"},hoverPaintStyle:{strokeStyle:"#3d6aff"},endpoint:"Blank",anchors:["BottomCenter","Continuous"],overlays:[["Label",{location:1,width:25,length:12}]]};b.renderTo=c.id;this.totalHeight=document.documentElement.clientHeight;this.items=
b.items?b.items:null;this.width=b.width?b.width:"200px";this.height=b.height?b.height:"170px";this.dataNX=b.dataNX?b.dataNX:null;this.mask=b.mask?b.mask:null;this.rootname=b.rootname?b.rootname:null;this.imgKey=b.imgKey?b.imgKey:"image";this.filepath=b.filepath?b.filepath:null;this.getNodeData;this.ref=[];this.DumpData=[];this.contentHeight=b.contentHeight?b.contentHeight:this.totalHeight;this.targetId;this.menuId;this.dumpDataLen;this.imgPath=h.config.context+"/orgchart/"+this.filepath+"/image/";
this.imgName;if(h.isNull(this.items))alert(h.getMessage("W0701"));else{this.itemsLen=this.items.length;if(h.isNull(b))return!1;this.makeParam(b);this.create()}},setEvent:function(){var a=this;jQuery("#"+this.id).on("click",".infoOpen",function(c){c=jQuery("#"+this.id).parent().parent();h("#"+a.id+"_update").attr("target",c.attr("id"));a.targetId=jQuery("#"+a.id+"_update").attr("target");a.dumpDataLen=a.DumpData.length;if(a.dumpDataLen)for(c=0;c<a.dumpDataLen;c++)this.id==a.DumpData[c].id+"_info"&&
a.openDialog(this.id,a.DumpData[c]);else a.openDialog(this.id,a.DumpData)});jQuery("#"+this.id).on("click",".orgContent",function(c){naw("#"+a.menuId).removeClass("state-click");a.menuId=this.id;naw("#"+a.menuId).addClass("state-click")});jQuery("#"+this.id).on("mouseup",".orgContent",function(c){naw("#"+a.id+"_dialogPopup").hide()});jQuery("#"+this.id).on("click",".org-content-pnl",function(c){a.menuId&&this==c.target&&(-1==a.menuId.indexOf("_info")&&naw("#"+a.menuId).removeClass("state-click"),
a.menuId=null)});jQuery("#"+this.id).on("click",".collapse-img",function(c){c=jQuery(this).parent().parent();c=jQuery(c).attr("id");var b=jQuery("#"+a.id+" .orgContent[id^="+c+"-]").length;-1!=c.indexOf("assistant")?alert(h.getMessage("W0702")):b?a.collapseExpand(jQuery("#"+c)):alert(h.getMessage("W0705"))});jQuery("#"+this.id).on("click",".menuLi li",function(c){naw("#"+a.id+"_dialogPopup").hide();a.nodeMenu(a.menuId,this.id)});jQuery("#"+this.id+"_dialogPopup").on("click","#"+this.id+"_update",
function(c){a.updateNodeInfo(a.targetId)})},nodeMenu:function(a,c){var b=jQuery("#"+a).parent().children("#"+a+"-assistant").attr("id"),g=jQuery("#"+this.id+" .orgContent[id^="+a+"-]").length;if(a)switch(c){case this.id+"_add":if(-1!=a.indexOf("assistant")){alert(h.getMessage("W0702"));break}this.createContent(jQuery("#"+a),"c");break;case this.id+"_delete":this.deleteContent(jQuery("#"+a));break;case this.id+"_assadd":-1!=a.indexOf("assistant")?alert(h.getMessage("W0702")):b?alert(h.getMessage("W0703")):
this.createAssistant(jQuery("#"+a));break;case this.id+"_coll":-1!=a.indexOf("assistant")?alert(h.getMessage("W0702")):g?this.collapseExpand(jQuery("#"+a)):alert(h.getMessage("W0705"))}else alert(h.getMessage("W0704"))},openDialog:function(a,c){naw("#"+this.id+"_dialogPopup").hide();var b=a.substr(0,a.lastIndexOf("_")),g=parseInt(jQuery("#"+b).offset().top),b=parseInt(jQuery("#"+b).offset().left),e=parseInt(jQuery("#"+this.id).css("width")),h=parseInt(jQuery("#"+this.id+"_dialogPopup").css("height")),
f=parseInt(jQuery("#"+this.id+"_dialogPopup").css("width"));this.contentHeight<g+h&&(g=this.contentHeight-h);e<b+f&&(b=e-f);var d=this;naw("#"+this.id+"_dialogPopup").dialog({width:300,height:300,top:g,left:b,dialogType:"information",reset:!0,title:"상세정보",onOpen:function(){for(var a={},b=0;b<d.itemsLen;b++)if(a[d.rootname[0].orgKey]=c[d.rootname[0].orgKey],a[d.imgKey]=c[d.imgKey],a[d.items[b].orgKey]=c[d.items[b].orgKey],naw("#"+d.id+"_dialogPopup #"+d.id+"_org_name").val(a[d.rootname[0].orgKey]),
naw("#"+d.id+"_dialogPopup #"+d.id+"_org_img").attr("src",a[d.imgKey]),!d.items[b].selectbox)naw("#"+d.id+"_dialogPopup #"+d.id+"_"+d.items[b].orgKey).val(a[d.items[b].orgKey]);else if(a[d.items[b].orgKey]){var g=a[d.items[b].orgKey].split("-").splice(0,1),f=a[d.items[b].orgKey].split("-").splice(1,1),e=a[d.items[b].orgKey].split("-").splice(2,1),g=g[0],f=f[0],e=e[0];naw("select[name="+d.id+"_phone]").val(g);naw("#"+d.id+"_dialogPopup #"+d.id+"_"+d.items[b].orgKey+"-1").val(f);naw("#"+d.id+"_dialogPopup #"+
d.id+"_"+d.items[b].orgKey+"-2").val(e)}}})},addFileupLoad:function(){var a=this;naw.loadWidget("simplefileupload",function(){naw("#simplefileupload1").simplefileupload({template:{fileExt:["jpg","png","gif"],buttonText:"사진첨부",callBackFuntion:function(){jQuery("#"+a.id+"_dialogPopup #"+a.id+"_org_img").attr("src",a.imgPath+a.imgName)},nodeId:"orgchart",uploadSubPath:"/orgchart/"+a.filepath+"/image/",fileSelectFunction:function(c){c=c.split("\\");a.imgName=c[c.length-1]}}})})},reset:function(){jQuery("#"+
this.id+"_dialogPopup").remove();jQuery("#"+this.id+"_dialogPopup").off();jQuery("#"+this.id).off();jQuery("#"+this.id).html("");this.menuId=null;this.DumpData=[]},create:function(){var a=this;this.reset();this.dataLoad(this);jQuery("#"+this.id).css("height",parseInt(this.contentHeight));naw.loadScript(h.config.context+"/webfw/naw/thirdparty/jsPlumb/jquery.jsPlumb-1.3.15-all.js",function(){jsPlumb.bind("ready",function(){a.createContent(jQuery("#"+a.id),"c");var c;c="<div class='extra-dimensions'>"+
("<div id='"+a.id+"_dialogPopup'>");c=c+"<div class='org-dialog'>"+("<div class='org-dialog-left' id='"+a.id+"-dialog-left'>");c+="<img id='"+a.id+"_org_img' class='org-img' src=''></div>";c+="<div class='org-dialog-right' id='"+a.id+"-dialog-right'>";c+="<label class='org-name'>"+a.rootname[0].name+"</label>";c+="<input type='text' id='"+a.id+"_org_name' class='org-input'>";c=c+"<div class='simplefileupload-pnl' id='simplefileupload1'></div></div></div>"+("<div id='"+a.id+"-dialog-footer' class='org-dialog-footer'>");
c+="<table class='org-table'>";if(!h.isNull(a.items))for(var b=0;b<a.itemsLen;b++)c=a.items[b].selectbox?c+("<tr><th id='' class='org-th'><label>"+a.items[b].name+"</label></th><td class='org-td'><select name='"+a.id+"_phone'><option value='02'>02</option><option value='031'>031</option><option value='032'>032</option><option value='033'>033</option><option value='041'>041</option><option value='042'>042</option><option value='043'>043</option><option value='051'>051</option><option value='052'>052</option><option value='053'>053</option><option value='054'>054</option><option value='055'>055</option><option value='061'>061</option><option value='062'>062</option><option value='063'>063</option><option value='064'>064</option></select>-<input type='text' data-nx='{}' id='"+
a.id+"_"+a.items[b].orgKey+"-1' size='4' maxlength='4' class='org-tel-input'>-<input type='text' data-nx='{}' id='"+a.id+"_"+a.items[b].orgKey+"-2' size='4' maxlength='4' class='org-tel-input'></td></tr>"):c+("<tr><th id='' class='org-th'><label>"+a.items[b].name+"</label></th><td class='org-td'><input type='text' id='"+a.id+"_"+a.items[b].orgKey+"' class='org-input'></td></tr>");c=c+"</table></div>"+("<div class='update-pnl'><button type='button' id='"+a.id+"_update' class='update' target=''>수정</button></div>");
c+="</div></div>";b=jQuery("#footer");b=0==b.length?jQuery("footer"):b;b.after(c);h("#"+a.id+"_org_name").setNX("type","koEn");for(b=0;b<a.itemsLen;b++)a.items[b].dataNX&&("mask"!=a.items[b].dataNX.type?a.items[b].selectbox?(h("#"+a.id+"_"+a.items[b].orgKey+"-1").setNX("type",a.items[b].dataNX.type),h("#"+a.id+"_"+a.items[b].orgKey+"-2").setNX("type",a.items[b].dataNX.type)):h("#"+a.id+"_"+a.items[b].orgKey).setNX("type",a.items[b].dataNX.type):a.items[b].selectbox?(h("#"+a.id+"_"+a.items[b].orgKey+
"-1").setNX({type:a.items[b].dataNX.type,mask:a.items[b].dataNX.mask}),h("#"+a.id+"_"+a.items[b].orgKey+"-2").setNX({type:a.items[b].dataNX.type,mask:a.items[b].dataNX.mask})):h("#"+a.id+"_"+a.items[b].orgKey).setNX({type:a.items[b].dataNX.type,mask:a.items[b].dataNX.mask}));a.addFileupLoad();a.setEvent()})})},dataLoad:function(a){if(this.ref)for(var c=0;c<this.ref.length;c++){var b=this.ref[c].split("@");this.setRef(this.ref[c]);h.subscribe("binder."+b[0]+"."+b[1],function(b){a.addDumpData(b)})}},
addDumpData:function(a){0!=this.DumpData.lenght&&(delete this.DumpData,this.DumpData=[]);"object"==typeof a&&(this.DumpData=a.slice(0),0<this.DumpData.length&&this.createOrgchart())},createContent:function(a,c,b){var g=parseInt(this.contentHeight)-30,e=a.attr("nodelevel")?parseInt(a.attr("nodeLevel")):0,k=a.attr("id"),f="c"==c?e+1:e,d="";if("c"==c&&e)for(c=1;;)if(d=k+"-"+c,0<jQuery("#"+d).length)c++;else break;e=e?d:this.id+"_node";f='<div class="orgContent" id='+e+" nodelevel="+f+" collapse='false'><div class='org-content-top'><span class='collapse-img'></span><span id='name_data' class='org-name'></span></div><div class='org-content'>";
f+="<div class='org-content-left'><img id='img_data' class='org-img' src=''></div>";f+="<div class='org-content-right'>";f+="<ul>";if(!h.isNull(this.items))for(c=0;c<this.itemsLen;c++)f=this.items[c].hidden?f+("<li><input style='display:none;' id='"+this.items[c].orgKey+"_data' class='org-input' disabled></li>"):f+("<li><input id='"+this.items[c].orgKey+"_data' class='org-input' disabled></li>");f+="</ul>";f+="</div>";f+="</div>";f+="<div class='org-buttonpane'>";f+="<button type='button' id='"+e+
"_info' class='infoOpen'>상세정보</button>";f+="</div>";f+="</div>";c=e.split("-");k==this.id?(k="<div class='org-button-pnl' id='"+this.id+"_button'>",k+="<ul class='menuLi'><li class='org-button-add' id='"+this.id+"_add'>추가</li>",k+="<li class='org-button-delete' id='"+this.id+"_delete'>삭제</li>",k+="<li class='org-button-assadd' id='"+this.id+"_assadd'>assist추가</li>",k+="<li class='org-button-coll' id='"+this.id+"_coll'>접기/펴기</li></ul></div>",a.append(k+("<div class='org-content-pnl' id='"+this.id+
"-content-pnl' style='height:"+g+"px'>"+f+"</div>"))):1<parseInt(c[c.length-1])?(c[c.length-1]=parseInt(c[c.length-1])-1,jQuery("#"+this.id+" .orgContent[id^='"+c.join("-")+"']").last().after(f)):a.after(f);naw("#"+this.id+" #"+e).css({width:this.width,height:this.height,border:this.border});this.lineupPosition();this.paintConnection();"true"==a.attr("collapse")&&this.collapseExpand(a);"yes"!=b&&(a={},a.id=e,a[this.imgKey]="",this.DumpData.push(a))},makeParam:function(a){h.isNull(a.ref)||(this.ref=
a.ref);h.isNull(a.items)||(this.items=a.items)},deleteDumpData:function(a){this.dumpDataLen=this.DumpData.length;for(var c=0;c<this.dumpDataLen;c++)this.DumpData[c].id==a&&(this.DumpData.splice(c,1),c--,this.dumpDataLen--)},updateDumpData:function(a,c){this.dumpDataLen=this.DumpData.length;for(var b=0;b<this.dumpDataLen;b++)this.DumpData[b].id==a&&(this.DumpData[b].id=c)},deleteContent:function(a){var c=this,b=a.attr("id"),g=jQuery("#"+this.id+" [id^='"+b+"-']"),e=parseInt(h("#"+b).attr("nodelevel"));
if(b==this.id+"_node")alert(h.getMessage("W0706"));else{this.dumpDataLen=this.DumpData.length;jQuery.each(g,function(a,b){jQuery(b).empty().remove();c.deleteDumpData(b.id)});a.empty().remove();c.deleteDumpData(a.attr("id"));a=jQuery("#"+this.id+" .orgContent[id^='"+b.substr(0,b.lastIndexOf("-")+1)+"'][nodelevel='"+e+"']");var k=parseInt(b.substr(b.lastIndexOf("-")+1));jQuery.each(a,function(a,b){var d=jQuery(b).attr("id"),f=d.lastIndexOf("-")+1;if(k<parseInt(d.substr(f))){var e=d.substr(0,f)+(parseInt(d.substr(f),
10)-1);jQuery(b).attr("id",e);jQuery(b).find("#"+d+"_info").attr("id",e+"_info");c.updateDumpData(d,e);g=jQuery("#"+c.id+" .orgContent[id^='"+d+"-']");jQuery.each(g,function(a,b){var g=b.id,f=jQuery(b).attr("id").replace(d,e);jQuery(b).attr("id",f);jQuery(b).find("#"+g+"_info").attr("id",f+"_info");c.updateDumpData(g,f)})}});this.lineupPosition();this.paintConnection();a=g=b=null}},collapseExpand:function(a){var c=a.attr("id"),b=jQuery("#"+this.id+" .orgContent[id^="+c+"-]");"false"==a.attr("collapse")?
(jQuery(b).each(function(a,b){naw(b).addClass("state-hide");jsPlumb.hide(b.id)}),a.attr("collapse","true"),a.addClass("state-collapse")):(c=jQuery("#"+this.id+" .orgContent[id^="+c+'-][class~="state-hide"]'),jQuery(c).each(function(a,b){naw(b).removeClass("state-hide");-1==naw(b).attr("id").indexOf("assistant")&&(naw(b).attr("collapse","false"),naw(b).removeClass("state-collapse"))}),this.lineupPosition(),this.paintConnection(),a.attr("collapse","false"),a.removeClass("state-collapse"))},createAssistant:function(a,
c){var b=a.attr("id"),g='<div class="orgContent assistant" id=\''+b+"-assistant' nodelevel="+(parseInt(a.attr("nodelevel"))+1)+">",g=g+"<div class='org-content-top'><span class='collapse-img'></span><span id='name_data' class='org-name'></span></div><div class='org-content'><div class='org-content-left'><img id='img_data' class='org-img' src=''></div><div class='org-content-right'><ul>";if(!h.isNull(this.items))for(var e=0;e<this.itemsLen;e++)g=this.items[e].hidden?g+("<li><input style='display:none;' id='"+
this.items[e].orgKey+"_data' class='org-input' disabled></li>"):g+("<li><input id='"+this.items[e].orgKey+"_data' class='org-input' disabled></li>");var g=g+"</ul></div></div><div class='org-buttonpane'>"+("<button id='"+b+"-assistant_info' class='infoOpen'>상세정보</button>")+"</div></div>",e=jQuery("#"+this.id+" .orgContent[id^='"+(b+"-")+"']"),k=b.split("-").length,e=jQuery(e).filter(function(){return this.id.split("-").length-1===k});if(0==e.length){var f=a.next();if(0<f.length){var d=a.attr("id"),
n=jQuery(f).attr("id"),d=d.substr(0,d.lastIndexOf("-"))+"-assistant";n==d?jQuery(g).insertAfter(f):jQuery(g).insertAfter(a)}else jQuery(g).insertAfter(a)}else f=a.next(),0<f.length?(d=a.attr("id"),n=e.last().next().attr("id"),d=d.substr(0,d.lastIndexOf("-"))+"-assistant",n==d?jQuery(g).insertAfter(e.last().next()):jQuery(g).insertAfter(e[e.length-1])):jQuery(g).insertAfter(e[e.length-1]);h("#"+this.id+" #"+b+"-assistant").css({width:this.width,height:this.height,border:this.border});jsPlumb.connect({source:b,
target:b+"-assistant"},this.straightConnector);"true"==a.attr("collapse")&&this.collapseExpand(a);this.lineupPosition();this.paintConnection();"yes"!=c&&(g={},g.id=b+"-assistant",g[this.imgKey]="",this.DumpData.push(g))},updateNodeInfo:function(a){this.dumpDataLen=this.DumpData.length;var c={};if(this.DumpData)for(var b=0;b<this.itemsLen;b++){jQuery("#"+a+" #name_data").html(jQuery("#"+this.id+"_dialogPopup #"+this.id+"_org_name").val());this.imgName&&jQuery("#"+a+" #img_data").attr("src",this.imgPath+
this.imgName);if(this.items[b].selectbox){var g=h("select[name="+this.id+"_phone]").val(),e=h("#"+this.id+"_dialogPopup  #"+this.id+"_"+this.items[b].orgKey+"-1").val(),k=h("#"+this.id+"_dialogPopup  #"+this.id+"_"+this.items[b].orgKey+"-2").val(),g=[g,e,k],g=g.join("-");""==e&&""==k?jQuery("#"+a+" #"+this.items[b].orgKey+"_data").val():jQuery("#"+a+" #"+this.items[b].orgKey+"_data").val(g)}else jQuery("#"+a+" #"+this.items[b].orgKey+"_data").val(jQuery("#"+this.id+"_dialogPopup  #"+this.id+"_"+this.items[b].orgKey).val());
c.id=a;c[this.rootname[0].orgKey]=jQuery("#"+this.id+"_dialogPopup #"+this.id+"_org_name").val();c[this.imgKey]=jQuery("#"+a+" #img_data").attr("src");this.items[b].selectbox?(g=h("select[name="+this.id+"_phone]").val(),e=h("#"+this.id+"_dialogPopup  #"+this.id+"_"+this.items[b].orgKey+"-1").val(),k=h("#"+this.id+"_dialogPopup  #"+this.id+"_"+this.items[b].orgKey+"-2").val(),g=[g,e,k],g=g.join("-"),c[this.items[b].orgKey]=g,""==e&&""==k?jQuery("#"+a+" #"+this.items[b].orgKey+"_data").val():jQuery("#"+
a+" #"+this.items[b].orgKey+"_data").val(g)):c[this.items[b].orgKey]=naw("#"+this.id+"_dialogPopup #"+this.id+"_"+this.items[b].orgKey).val()}if(0==this.dumpDataLen)this.DumpData.push(c);else for(a=0;a<this.dumpDataLen;a++)this.DumpData[a].id==c.id&&(this.DumpData[a]=naw.merge(this.DumpData[a],c));naw("#"+this.id+"_dialogPopup").hide()},getNodeInfo:function(a){var c=this.items.length;if(a)for(var b=0;b<c;b++){if(a==this.DumpData[b].deptCd)return this.getNodeData[b]}else return this.getNodeData},clearNode:function(){this.create()},
setNodeInfo:function(a,c){for(var b=jQuery("#"+a),g=0;g<this.itemsLen;g++)b.find("#name_data").html(c[this.rootname[0].orgKey]),b.find("#img_data").attr("src",c[this.imgKey]),b.find("#"+this.items[g].orgKey+"_data").val(c[this.items[g].orgKey])},createOrgchart:function(){jsPlumb.reset();jQuery("#"+this.id).html("");var a,c=[];this.dumpDataLen=this.DumpData.length;for(var b=0;b<this.dumpDataLen;b++)a=-1==this.DumpData[b].id.lastIndexOf("-")?this.DumpData[b].id.substr(0,this.DumpData[b].id.lastIndexOf("_")):
this.DumpData[b].id.substr(0,this.DumpData[b].id.lastIndexOf("-")),a.substr(0,a.lastIndexOf("_")),a=this.id==a?this.id:a,-1!=this.DumpData[b].id.indexOf("assistant")?this.createAssistant(jQuery("#"+a),"yes"):this.createContent(jQuery("#"+a),"c","yes"),this.setNodeInfo(this.DumpData[b].id,this.DumpData[b]),c.push(this.DumpData[b]);this.getNodeData=c},lineupPosition:function(){var a=this,c=jQuery("#"+this.id+" .orgContent"),b=parseInt(this.width)+parseInt(this.width)/100*40,g=2.3*parseInt(this.height);
jQuery.each(c,function(c,k){var f=jQuery(k).attr("id"),d=/-1$/g,e=/assistant$/g;if(f==a.id+"_node")h("#"+a.id+"_node").css("left",0);else if(d.test(f))h("#"+f).css("left",naw("#"+f.substr(0,f.lastIndexOf("-"))).css("left"));else if(e.test(f))h("#"+f).css("left",parseInt(naw("#"+f.substr(0,f.lastIndexOf("-"))).css("left"))+b);else{d=f.substr(0,f.lastIndexOf("-")+1);e=parseInt(f.substr(f.lastIndexOf("-")+1))-1;d+=e;if(jQuery("#"+a.id+" .orgContent[id^="+d+"-]").length){for(var d=jQuery("#"+a.id+" .orgContent[id^="+
d+"-]"),e=-1,l=0,m=d.length;l<m;l++)e<parseInt(jQuery(d[l]).css("left"))&&(e=parseInt(jQuery(d[l]).css("left")));d=e+b}else d=parseInt(naw("#"+d).css("left"))+b;naw("#"+f).css("left",d);d=f.substr(0,f.lastIndexOf("-"));for(e=parseInt(naw("#"+d).attr("nodelevel"));d;)if(jQuery("#"+a.id+" .orgContent[id^="+d+"-]").length){for(var e=jQuery("#"+a.id+" .orgContent[id^="+d+"-][nodelevel='"+(e+1)+"']"),l=parseInt(jQuery(e[0]).css("left")),m=-1,q=!0,p=e.length;q;)-1!=jQuery(e[p-1]).attr("id").indexOf("assistant")?
p--:(m=parseInt(jQuery(e[p-1]).css("left")),q=!1);naw("#"+d).css("left",(l+m)/2);naw("#"+d+"-assistant").css("left",(l+m)/2+b);d=d.substr(0,d.lastIndexOf("-"));e=parseInt(naw("#"+d).attr("nodelevel"))}}d=(naw("#"+f).attr("nodelevel")-1)*g;naw("#"+f).css("top",d);-1!=f.indexOf("assistant")&&naw("#"+f).css("top",d-g/100*75)});naw("._jsPlumb_endpoint.ui-draggable.ui-droppable").remove();c=null},paintConnection:function(){jsPlumb.reset();for(var a=this,c=2;jQuery("#"+this.id+" .orgContent[nodelevel='"+
c+"']").length;){var b=jQuery("#"+this.id+" .orgContent[nodelevel='"+c+"']");jQuery.each(b,function(b,c){var e=jQuery(c).attr("id"),f=e.substr(0,e.lastIndexOf("-"));if("none"==jQuery(c).css("display"))return!0;jsPlumb.connect({source:f,target:e},a.straightConnector)});jsPlumb.repaintEverything();c++;b=null}}});h._addWidget("orgchart",naw.widget.orgchart)})(naw);